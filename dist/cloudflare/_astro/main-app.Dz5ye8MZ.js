const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/story-quiz-flow.QVisRfvx.js","_astro/dialog.otI5Vtdl.js","_astro/index.CvKvpgP4.js"])))=>i.map(i=>d[i]);
import{c as ge,j as h,g as fr,P as xe,a as pe,l as Ke,o as Qg,k as pr,i as be,U as gn,m as Ft,V as Jg,W as kM,X as Zg,Y as Dj,Z as qj,_ as Lj,$ as $j,a0 as Fj,a1 as ey,u as za,h as Qi,q as we,a2 as ar,s as te,t as Ct,r as Jt,a3 as ty,a4 as OM,a5 as CM,a6 as fu,a7 as Ji,a8 as Bj,a9 as Wj,aa as EM,ab as NM,I as Le,J as $e,K as Ve,M as He,N as et,A as oe,C as Ue,f as Tt,E as ny,x as Lo,F as ry,G as iy,R as $o,v as Fo,w as jt,ac as ay,T as Zi,S as Vj,n as MM,ad as RM,p as Hj,d as tt,e as nt,ae as oy,B as DM,L as Uj,D as xt,af as Xt,z as Ga,H as sy,y as $s,ag as Pe,ah as zj,ai as qM,aj as LM,ak as Gj,O as tc,al as Zn,Q as $M}from"./dialog.otI5Vtdl.js";import{r as x,a as mr,b as FM,g as Ce,R,c as os}from"./index.CvKvpgP4.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Yj=ge("ArrowRight",BM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m9 9.5 2 2 4-4",key:"1dth82"}]],VM=ge("BookCheck",WM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"M8 11h8",key:"vwpz6n"}],["path",{d:"M8 7h6",key:"1f0q6e"}]],Kj=ge("BookText",HM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Xj=ge("Book",UM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Na=ge("Bot",zM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],Qj=ge("BrainCircuit",GM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],KM=ge("Brain",YM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],QM=ge("ChartNoAxesColumnIncreasing",XM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Jj=ge("Check",JM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ly=ge("ChevronLeft",ZM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Zj=ge("ChevronRight",eR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],nR=ge("ChevronUp",tR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],iR=ge("CirclePlay",rR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["path",{d:"M6 8.5a6.5 6.5 0 1 1 13 0c0 6-6 6-6 10a3.5 3.5 0 1 1-7 0",key:"1dfaln"}],["path",{d:"M15 8.5a2.5 2.5 0 0 0-5 0v1a2 2 0 1 1 0 4",key:"1qnva7"}]],eP=ge("Ear",aR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]],sR=ge("FileQuestion",oR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],cR=ge("FileText",lR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],tP=ge("Flame",uR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],hR=ge("Gamepad2",dR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],pR=ge("GraduationCap",fR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],gR=ge("House",mR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],vR=ge("Image",yR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],wR=ge("Languages",bR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],SR=ge("Library",xR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],cy=ge("MessageCircle",_R);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],TR=ge("MessageSquare",AR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],PR=ge("MicOff",jR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Fs=ge("Mic",IR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],OR=ge("Moon",kR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M9.5 8h5",key:"11mslq"}],["path",{d:"M9.5 12H16",key:"ktog6x"}],["path",{d:"M9.5 16H14",key:"p1seyn"}]],ER=ge("NotebookText",CR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],MR=ge("Pencil",NR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]],DR=ge("PhoneOff",RR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],LR=ge("Phone",qR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],FR=ge("Puzzle",$R);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],WR=ge("RefreshCw",BR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],nc=ge("Sparkles",VR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],uy=ge("Square",HR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],zR=ge("Sun",UR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Bs=ge("User",GR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],At=ge("Volume2",YR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],XR=ge("VolumeX",KR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],JR=ge("Youtube",QR),ss=({color:e,x:t,y:n,size:r,duration:i,delay:a,xEnd:o,yEnd:s})=>h.jsx("div",{className:"animate-move absolute rounded-full opacity-50 mix-blend-multiply blur-xl",style:{backgroundColor:`hsl(var(${e}))`,top:n,left:t,width:r,height:r,animationDuration:i,animationDelay:a,"--x-end":o,"--y-end":s}});function ZR(){return h.jsx("div",{className:"absolute inset-0 -z-10 h-full w-full bg-background overflow-hidden",children:h.jsxs("div",{className:"relative h-full w-full",children:[h.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),h.jsx("div",{className:"absolute inset-0 backdrop-blur-[100px]"}),h.jsxs("div",{className:"relative h-full w-full",children:[h.jsx(ss,{color:"--bg-color-1",x:"10%",y:"20%",size:"300px",duration:"30s",delay:"0s",xEnd:"80vw",yEnd:"30vh"}),h.jsx(ss,{color:"--bg-color-2",x:"70%",y:"10%",size:"350px",duration:"35s",delay:"-5s",xEnd:"20vw",yEnd:"80vh"}),h.jsx(ss,{color:"--bg-color-3",x:"30%",y:"70%",size:"300px",duration:"25s",delay:"-10s",xEnd:"90vw",yEnd:"60vh"}),h.jsx(ss,{color:"--bg-color-4",x:"80%",y:"60%",size:"250px",duration:"40s",delay:"-15s",xEnd:"10vw",yEnd:"10vh"})]})]})})}const e2="modulepreload",t2=function(e){return"/"+e},Nb={},n2=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let o=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");i=o(n.map(c=>{if(c=t2(c),c in Nb)return;Nb[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":e2,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((p,y)=>{f.addEventListener("load",p),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})};var dy="Progress",hy=100,[r2,ete]=fr(dy),[i2,a2]=r2(dy),nP=x.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:a=o2,...o}=e;(i||i===0)&&!Mb(i)&&console.error(s2(`${i}`,"Progress"));const s=Mb(i)?i:hy;r!==null&&!Rb(r,s)&&console.error(l2(`${r}`,"Progress"));const l=Rb(r,s)?r:null,c=Ws(l)?a(l,s):void 0;return h.jsx(i2,{scope:n,value:l,max:s,children:h.jsx(xe.div,{"aria-valuemax":s,"aria-valuemin":0,"aria-valuenow":Ws(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":aP(l,s),"data-value":l??void 0,"data-max":s,...o,ref:t})})});nP.displayName=dy;var rP="ProgressIndicator",iP=x.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=a2(rP,n);return h.jsx(xe.div,{"data-state":aP(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});iP.displayName=rP;function o2(e,t){return`${Math.round(e/t*100)}%`}function aP(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Ws(e){return typeof e=="number"}function Mb(e){return Ws(e)&&!isNaN(e)&&e>0}function Rb(e,t){return Ws(e)&&!isNaN(e)&&e<=t&&e>=0}function s2(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${hy}\`.`}function l2(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${hy} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var oP=nP,c2=iP;const xi=x.forwardRef(({className:e,value:t,...n},r)=>h.jsx(oP,{ref:r,className:pe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:h.jsx(c2,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));xi.displayName=oP.displayName;function tm(e,[t,n]){return Math.min(n,Math.max(t,e))}function u2(e,t){return x.useReducer((n,r)=>t[n][r]??n,e)}var fy="ScrollArea",[sP,tte]=fr(fy),[d2,en]=sP(fy),lP=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:a=600,...o}=e,[s,l]=x.useState(null),[c,u]=x.useState(null),[d,f]=x.useState(null),[p,y]=x.useState(null),[m,g]=x.useState(null),[w,b]=x.useState(0),[S,A]=x.useState(0),[v,_]=x.useState(!1),[T,j]=x.useState(!1),P=Ke(t,I=>l(I)),O=Qg(i);return h.jsx(d2,{scope:n,type:r,dir:O,scrollHideDelay:a,scrollArea:s,viewport:c,onViewportChange:u,content:d,onContentChange:f,scrollbarX:p,onScrollbarXChange:y,scrollbarXEnabled:v,onScrollbarXEnabledChange:_,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:T,onScrollbarYEnabledChange:j,onCornerWidthChange:b,onCornerHeightChange:A,children:h.jsx(xe.div,{dir:O,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});lP.displayName=fy;var cP="ScrollAreaViewport",uP=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...a}=e,o=en(cP,n),s=x.useRef(null),l=Ke(t,s,o.onViewportChange);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),h.jsx(xe.div,{"data-radix-scroll-area-viewport":"",...a,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:h.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});uP.displayName=cP;var In="ScrollAreaScrollbar",py=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=en(In,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,s=e.orientation==="horizontal";return x.useEffect(()=>(s?a(!0):o(!0),()=>{s?a(!1):o(!1)}),[s,a,o]),i.type==="hover"?h.jsx(h2,{...r,ref:t,forceMount:n}):i.type==="scroll"?h.jsx(f2,{...r,ref:t,forceMount:n}):i.type==="auto"?h.jsx(dP,{...r,ref:t,forceMount:n}):i.type==="always"?h.jsx(my,{...r,ref:t}):null});py.displayName=In;var h2=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=en(In,e.__scopeScrollArea),[a,o]=x.useState(!1);return x.useEffect(()=>{const s=i.scrollArea;let l=0;if(s){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return s.addEventListener("pointerenter",c),s.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),s.removeEventListener("pointerenter",c),s.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),h.jsx(pr,{present:n||a,children:h.jsx(dP,{"data-state":a?"visible":"hidden",...r,ref:t})})}),f2=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=en(In,e.__scopeScrollArea),a=e.orientation==="horizontal",o=ic(()=>l("SCROLL_END"),100),[s,l]=u2("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(s==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[s,i.scrollHideDelay,l]),x.useEffect(()=>{const c=i.viewport,u=a?"scrollLeft":"scrollTop";if(c){let d=c[u];const f=()=>{const p=c[u];d!==p&&(l("SCROLL"),o()),d=p};return c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[i.viewport,a,l,o]),h.jsx(pr,{present:n||s!=="hidden",children:h.jsx(my,{"data-state":s==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:be(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:be(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),dP=x.forwardRef((e,t)=>{const n=en(In,e.__scopeScrollArea),{forceMount:r,...i}=e,[a,o]=x.useState(!1),s=e.orientation==="horizontal",l=ic(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(s?c:u)}},10);return Si(n.viewport,l),Si(n.content,l),h.jsx(pr,{present:r||a,children:h.jsx(my,{"data-state":a?"visible":"hidden",...i,ref:t})})}),my=x.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=en(In,e.__scopeScrollArea),a=x.useRef(null),o=x.useRef(0),[s,l]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=gP(s.viewport,s.content),u={...r,sizes:s,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:f=>a.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function d(f,p){return b2(f,o.current,s,p)}return n==="horizontal"?h.jsx(p2,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const f=i.viewport.scrollLeft,p=Db(f,s,i.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollLeft=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollLeft=d(f,i.dir))}}):n==="vertical"?h.jsx(m2,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const f=i.viewport.scrollTop,p=Db(f,s);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollTop=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollTop=d(f))}}):null}),p2=x.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,a=en(In,e.__scopeScrollArea),[o,s]=x.useState(),l=x.useRef(null),c=Ke(t,l,a.onScrollbarXChange);return x.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),h.jsx(fP,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":rc(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(a.viewport){const f=a.viewport.scrollLeft+u.deltaX;e.onWheelScroll(f),vP(f,d)&&u.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Hs(o.paddingLeft),paddingEnd:Hs(o.paddingRight)}})}})}),m2=x.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,a=en(In,e.__scopeScrollArea),[o,s]=x.useState(),l=x.useRef(null),c=Ke(t,l,a.onScrollbarYChange);return x.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),h.jsx(fP,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":rc(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(a.viewport){const f=a.viewport.scrollTop+u.deltaY;e.onWheelScroll(f),vP(f,d)&&u.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Hs(o.paddingTop),paddingEnd:Hs(o.paddingBottom)}})}})}),[g2,hP]=sP(In),fP=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:d,...f}=e,p=en(In,n),[y,m]=x.useState(null),g=Ke(t,P=>m(P)),w=x.useRef(null),b=x.useRef(""),S=p.viewport,A=r.content-r.viewport,v=gn(u),_=gn(l),T=ic(d,10);function j(P){if(w.current){const O=P.clientX-w.current.left,I=P.clientY-w.current.top;c({x:O,y:I})}}return x.useEffect(()=>{const P=O=>{const I=O.target;y?.contains(I)&&v(O,A)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[S,y,A,v]),x.useEffect(_,[r,_]),Si(y,T),Si(p.content,T),h.jsx(g2,{scope:n,scrollbar:y,hasThumb:i,onThumbChange:gn(a),onThumbPointerUp:gn(o),onThumbPositionChange:_,onThumbPointerDown:gn(s),children:h.jsx(xe.div,{...f,ref:g,style:{position:"absolute",...f.style},onPointerDown:be(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),w.current=y.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),j(P))}),onPointerMove:be(e.onPointerMove,j),onPointerUp:be(e.onPointerUp,P=>{const O=P.target;O.hasPointerCapture(P.pointerId)&&O.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=b.current,p.viewport&&(p.viewport.style.scrollBehavior=""),w.current=null})})})}),Vs="ScrollAreaThumb",pP=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=hP(Vs,e.__scopeScrollArea);return h.jsx(pr,{present:n||i.hasThumb,children:h.jsx(y2,{ref:t,...r})})}),y2=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,a=en(Vs,n),o=hP(Vs,n),{onThumbPositionChange:s}=o,l=Ke(t,d=>o.onThumbChange(d)),c=x.useRef(void 0),u=ic(()=>{c.current&&(c.current(),c.current=void 0)},100);return x.useEffect(()=>{const d=a.viewport;if(d){const f=()=>{if(u(),!c.current){const p=w2(d,s);c.current=p,s()}};return s(),d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[a.viewport,u,s]),h.jsx(xe.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:be(e.onPointerDownCapture,d=>{const p=d.target.getBoundingClientRect(),y=d.clientX-p.left,m=d.clientY-p.top;o.onThumbPointerDown({x:y,y:m})}),onPointerUp:be(e.onPointerUp,o.onThumbPointerUp)})});pP.displayName=Vs;var gy="ScrollAreaCorner",mP=x.forwardRef((e,t)=>{const n=en(gy,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?h.jsx(v2,{...e,ref:t}):null});mP.displayName=gy;var v2=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=en(gy,n),[a,o]=x.useState(0),[s,l]=x.useState(0),c=!!(a&&s);return Si(i.scrollbarX,()=>{const u=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(u),l(u)}),Si(i.scrollbarY,()=>{const u=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(u),o(u)}),c?h.jsx(xe.div,{...r,ref:t,style:{width:a,height:s,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Hs(e){return e?parseInt(e,10):0}function gP(e,t){const n=e/t;return isNaN(n)?0:n}function rc(e){const t=gP(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function b2(e,t,n,r="ltr"){const i=rc(n),a=i/2,o=t||a,s=i-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-s,u=n.content-n.viewport,d=r==="ltr"?[0,u]:[u*-1,0];return yP([l,c],d)(e)}function Db(e,t,n="ltr"){const r=rc(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,o=t.content-t.viewport,s=a-r,l=n==="ltr"?[0,o]:[o*-1,0],c=tm(e,l);return yP([0,o],[0,s])(c)}function yP(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function vP(e,t){return e>0&&e<t}var w2=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function i(){const a={left:e.scrollLeft,top:e.scrollTop},o=n.left!==a.left,s=n.top!==a.top;(o||s)&&t(),n=a,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)};function ic(e,t){const n=gn(e),r=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),x.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Si(e,t){const n=gn(t);Ft(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}var bP=lP,x2=uP,S2=mP;const pt=x.forwardRef(({className:e,children:t,...n},r)=>h.jsxs(bP,{ref:r,className:pe("relative overflow-hidden",e),...n,children:[h.jsx(x2,{className:"h-full w-full rounded-[inherit]",children:t}),h.jsx(wP,{}),h.jsx(S2,{})]}));pt.displayName=bP.displayName;const wP=x.forwardRef(({className:e,orientation:t="vertical",...n},r)=>h.jsx(py,{ref:r,orientation:t,className:pe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:h.jsx(pP,{className:"relative flex-1 rounded-full bg-border"})}));wP.displayName=py.displayName;const _2=["top","right","bottom","left"],or=Math.min,Dt=Math.max,Us=Math.round,ls=Math.floor,wn=e=>({x:e,y:e}),A2={left:"right",right:"left",bottom:"top",top:"bottom"},T2={start:"end",end:"start"};function nm(e,t,n){return Dt(e,or(t,n))}function Bn(e,t){return typeof e=="function"?e(t):e}function Wn(e){return e.split("-")[0]}function ea(e){return e.split("-")[1]}function yy(e){return e==="x"?"y":"x"}function vy(e){return e==="y"?"height":"width"}function sr(e){return["top","bottom"].includes(Wn(e))?"y":"x"}function by(e){return yy(sr(e))}function j2(e,t,n){n===void 0&&(n=!1);const r=ea(e),i=by(e),a=vy(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=zs(o)),[o,zs(o)]}function P2(e){const t=zs(e);return[rm(e),t,rm(t)]}function rm(e){return e.replace(/start|end/g,t=>T2[t])}function I2(e,t,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?a:o;default:return[]}}function k2(e,t,n,r){const i=ea(e);let a=I2(Wn(e),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(rm)))),a}function zs(e){return e.replace(/left|right|bottom|top/g,t=>A2[t])}function O2(e){return{top:0,right:0,bottom:0,left:0,...e}}function xP(e){return typeof e!="number"?O2(e):{top:e,right:e,bottom:e,left:e}}function Gs(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function qb(e,t,n){let{reference:r,floating:i}=e;const a=sr(t),o=by(t),s=vy(o),l=Wn(t),c=a==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[s]/2-i[s]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(ea(t)){case"start":p[o]-=f*(n&&c?-1:1);break;case"end":p[o]+=f*(n&&c?-1:1);break}return p}const C2=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,s=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=qb(c,r,l),f=r,p={},y=0;for(let m=0;m<s.length;m++){const{name:g,fn:w}=s[m],{x:b,y:S,data:A,reset:v}=await w({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:e,floating:t}});u=b??u,d=S??d,p={...p,[g]:{...p[g],...A}},v&&y<=50&&(y++,typeof v=="object"&&(v.placement&&(f=v.placement),v.rects&&(c=v.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):v.rects),{x:u,y:d}=qb(c,f,l)),m=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:p}};async function Ya(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:o,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=Bn(t,e),y=xP(p),g=s[f?d==="floating"?"reference":"floating":d],w=Gs(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(g)))==null||n?g:g.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),b=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),A=await(a.isElement==null?void 0:a.isElement(S))?await(a.getScale==null?void 0:a.getScale(S))||{x:1,y:1}:{x:1,y:1},v=Gs(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:b,offsetParent:S,strategy:l}):b);return{top:(w.top-v.top+y.top)/A.y,bottom:(v.bottom-w.bottom+y.bottom)/A.y,left:(w.left-v.left+y.left)/A.x,right:(v.right-w.right+y.right)/A.x}}const E2=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=t,{element:c,padding:u=0}=Bn(e,t)||{};if(c==null)return{};const d=xP(u),f={x:n,y:r},p=by(i),y=vy(p),m=await o.getDimensions(c),g=p==="y",w=g?"top":"left",b=g?"bottom":"right",S=g?"clientHeight":"clientWidth",A=a.reference[y]+a.reference[p]-f[p]-a.floating[y],v=f[p]-a.reference[p],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let T=_?_[S]:0;(!T||!await(o.isElement==null?void 0:o.isElement(_)))&&(T=s.floating[S]||a.floating[y]);const j=A/2-v/2,P=T/2-m[y]/2-1,O=or(d[w],P),I=or(d[b],P),k=O,E=T-m[y]-I,C=T/2-m[y]/2+j,M=nm(k,C,E),D=!l.arrow&&ea(i)!=null&&C!==M&&a.reference[y]/2-(C<k?O:I)-m[y]/2<0,q=D?C<k?C-k:C-E:0;return{[p]:f[p]+q,data:{[p]:M,centerOffset:C-M-q,...D&&{alignmentOffset:q}},reset:D}}}),N2=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...g}=Bn(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const w=Wn(i),b=sr(s),S=Wn(s)===s,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),v=f||(S||!m?[zs(s)]:P2(s)),_=y!=="none";!f&&_&&v.push(...k2(s,m,y,A));const T=[s,...v],j=await Ya(t,g),P=[];let O=((r=a.flip)==null?void 0:r.overflows)||[];if(u&&P.push(j[w]),d){const C=j2(i,o,A);P.push(j[C[0]],j[C[1]])}if(O=[...O,{placement:i,overflows:P}],!P.every(C=>C<=0)){var I,k;const C=(((I=a.flip)==null?void 0:I.index)||0)+1,M=T[C];if(M)return{data:{index:C,overflows:O},reset:{placement:M}};let D=(k=O.filter(q=>q.overflows[0]<=0).sort((q,$)=>q.overflows[1]-$.overflows[1])[0])==null?void 0:k.placement;if(!D)switch(p){case"bestFit":{var E;const q=(E=O.filter($=>{if(_){const W=sr($.placement);return W===b||W==="y"}return!0}).map($=>[$.placement,$.overflows.filter(W=>W>0).reduce((W,V)=>W+V,0)]).sort(($,W)=>$[1]-W[1])[0])==null?void 0:E[0];q&&(D=q);break}case"initialPlacement":D=s;break}if(i!==D)return{reset:{placement:D}}}return{}}}};function Lb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function $b(e){return _2.some(t=>e[t]>=0)}const M2=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Bn(e,t);switch(r){case"referenceHidden":{const a=await Ya(t,{...i,elementContext:"reference"}),o=Lb(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:$b(o)}}}case"escaped":{const a=await Ya(t,{...i,altBoundary:!0}),o=Lb(a,n.floating);return{data:{escapedOffsets:o,escaped:$b(o)}}}default:return{}}}}};async function R2(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Wn(n),s=ea(n),l=sr(n)==="y",c=["left","top"].includes(o)?-1:1,u=a&&l?-1:1,d=Bn(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:y}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof y=="number"&&(p=s==="end"?y*-1:y),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}const D2=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:o,middlewareData:s}=t,l=await R2(t,e);return o===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},q2=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:g=>{let{x:w,y:b}=g;return{x:w,y:b}}},...l}=Bn(e,t),c={x:n,y:r},u=await Ya(t,l),d=sr(Wn(i)),f=yy(d);let p=c[f],y=c[d];if(a){const g=f==="y"?"top":"left",w=f==="y"?"bottom":"right",b=p+u[g],S=p-u[w];p=nm(b,p,S)}if(o){const g=d==="y"?"top":"left",w=d==="y"?"bottom":"right",b=y+u[g],S=y-u[w];y=nm(b,y,S)}const m=s.fn({...t,[f]:p,[d]:y});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:a,[d]:o}}}}}},L2=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=t,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=Bn(e,t),u={x:n,y:r},d=sr(i),f=yy(d);let p=u[f],y=u[d];const m=Bn(s,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const S=f==="y"?"height":"width",A=a.reference[f]-a.floating[S]+g.mainAxis,v=a.reference[f]+a.reference[S]-g.mainAxis;p<A?p=A:p>v&&(p=v)}if(c){var w,b;const S=f==="y"?"width":"height",A=["top","left"].includes(Wn(i)),v=a.reference[d]-a.floating[S]+(A&&((w=o.offset)==null?void 0:w[d])||0)+(A?0:g.crossAxis),_=a.reference[d]+a.reference[S]+(A?0:((b=o.offset)==null?void 0:b[d])||0)-(A?g.crossAxis:0);y<v?y=v:y>_&&(y=_)}return{[f]:p,[d]:y}}}},$2=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:o,elements:s}=t,{apply:l=()=>{},...c}=Bn(e,t),u=await Ya(t,c),d=Wn(i),f=ea(i),p=sr(i)==="y",{width:y,height:m}=a.floating;let g,w;d==="top"||d==="bottom"?(g=d,w=f===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(w=d,g=f==="end"?"top":"bottom");const b=m-u.top-u.bottom,S=y-u.left-u.right,A=or(m-u[g],b),v=or(y-u[w],S),_=!t.middlewareData.shift;let T=A,j=v;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(j=S),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=b),_&&!f){const O=Dt(u.left,0),I=Dt(u.right,0),k=Dt(u.top,0),E=Dt(u.bottom,0);p?j=y-2*(O!==0||I!==0?O+I:Dt(u.left,u.right)):T=m-2*(k!==0||E!==0?k+E:Dt(u.top,u.bottom))}await l({...t,availableWidth:j,availableHeight:T});const P=await o.getDimensions(s.floating);return y!==P.width||m!==P.height?{reset:{rects:!0}}:{}}}};function ac(){return typeof window<"u"}function ta(e){return SP(e)?(e.nodeName||"").toLowerCase():"#document"}function Lt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function kn(e){var t;return(t=(SP(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function SP(e){return ac()?e instanceof Node||e instanceof Lt(e).Node:!1}function dn(e){return ac()?e instanceof Element||e instanceof Lt(e).Element:!1}function Tn(e){return ac()?e instanceof HTMLElement||e instanceof Lt(e).HTMLElement:!1}function Fb(e){return!ac()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Lt(e).ShadowRoot}function Bo(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=hn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function F2(e){return["table","td","th"].includes(ta(e))}function oc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function wy(e){const t=xy(),n=dn(e)?hn(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function B2(e){let t=lr(e);for(;Tn(t)&&!_i(t);){if(wy(t))return t;if(oc(t))return null;t=lr(t)}return null}function xy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _i(e){return["html","body","#document"].includes(ta(e))}function hn(e){return Lt(e).getComputedStyle(e)}function sc(e){return dn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function lr(e){if(ta(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Fb(e)&&e.host||kn(e);return Fb(t)?t.host:t}function _P(e){const t=lr(e);return _i(t)?e.ownerDocument?e.ownerDocument.body:e.body:Tn(t)&&Bo(t)?t:_P(t)}function Ka(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=_P(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),o=Lt(i);if(a){const s=im(o);return t.concat(o,o.visualViewport||[],Bo(i)?i:[],s&&n?Ka(s):[])}return t.concat(i,Ka(i,[],n))}function im(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function AP(e){const t=hn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Tn(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=Us(n)!==a||Us(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function Sy(e){return dn(e)?e:e.contextElement}function mi(e){const t=Sy(e);if(!Tn(t))return wn(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=AP(t);let o=(a?Us(n.width):n.width)/r,s=(a?Us(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const W2=wn(0);function TP(e){const t=Lt(e);return!xy()||!t.visualViewport?W2:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function V2(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Lt(e)?!1:t}function Vr(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=Sy(e);let o=wn(1);t&&(r?dn(r)&&(o=mi(r)):o=mi(e));const s=V2(a,n,r)?TP(a):wn(0);let l=(i.left+s.x)/o.x,c=(i.top+s.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(a){const f=Lt(a),p=r&&dn(r)?Lt(r):r;let y=f,m=im(y);for(;m&&r&&p!==y;){const g=mi(m),w=m.getBoundingClientRect(),b=hn(m),S=w.left+(m.clientLeft+parseFloat(b.paddingLeft))*g.x,A=w.top+(m.clientTop+parseFloat(b.paddingTop))*g.y;l*=g.x,c*=g.y,u*=g.x,d*=g.y,l+=S,c+=A,y=Lt(m),m=im(y)}}return Gs({width:u,height:d,x:l,y:c})}function _y(e,t){const n=sc(e).scrollLeft;return t?t.left+n:Vr(kn(e)).left+n}function jP(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:_y(e,r)),a=r.top+t.scrollTop;return{x:i,y:a}}function H2(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",o=kn(r),s=t?oc(t.floating):!1;if(r===o||s&&a)return n;let l={scrollLeft:0,scrollTop:0},c=wn(1);const u=wn(0),d=Tn(r);if((d||!d&&!a)&&((ta(r)!=="body"||Bo(o))&&(l=sc(r)),Tn(r))){const p=Vr(r);c=mi(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const f=o&&!d&&!a?jP(o,l,!0):wn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function U2(e){return Array.from(e.getClientRects())}function z2(e){const t=kn(e),n=sc(e),r=e.ownerDocument.body,i=Dt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Dt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+_y(e);const s=-n.scrollTop;return hn(r).direction==="rtl"&&(o+=Dt(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}function G2(e,t){const n=Lt(e),r=kn(e),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const c=xy();(!c||c&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s,y:l}}function Y2(e,t){const n=Vr(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Tn(e)?mi(e):wn(1),o=e.clientWidth*a.x,s=e.clientHeight*a.y,l=i*a.x,c=r*a.y;return{width:o,height:s,x:l,y:c}}function Bb(e,t,n){let r;if(t==="viewport")r=G2(e,n);else if(t==="document")r=z2(kn(e));else if(dn(t))r=Y2(t,n);else{const i=TP(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Gs(r)}function PP(e,t){const n=lr(e);return n===t||!dn(n)||_i(n)?!1:hn(n).position==="fixed"||PP(n,t)}function K2(e,t){const n=t.get(e);if(n)return n;let r=Ka(e,[],!1).filter(s=>dn(s)&&ta(s)!=="body"),i=null;const a=hn(e).position==="fixed";let o=a?lr(e):e;for(;dn(o)&&!_i(o);){const s=hn(o),l=wy(o);!l&&s.position==="fixed"&&(i=null),(a?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Bo(o)&&!l&&PP(e,o))?r=r.filter(u=>u!==o):i=s,o=lr(o)}return t.set(e,r),r}function X2(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?oc(t)?[]:K2(t,this._c):[].concat(n),r],s=o[0],l=o.reduce((c,u)=>{const d=Bb(t,u,i);return c.top=Dt(d.top,c.top),c.right=or(d.right,c.right),c.bottom=or(d.bottom,c.bottom),c.left=Dt(d.left,c.left),c},Bb(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Q2(e){const{width:t,height:n}=AP(e);return{width:t,height:n}}function J2(e,t,n){const r=Tn(t),i=kn(t),a=n==="fixed",o=Vr(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const l=wn(0);if(r||!r&&!a)if((ta(t)!=="body"||Bo(i))&&(s=sc(t)),r){const f=Vr(t,!0,a,t);l.x=f.x+t.clientLeft,l.y=f.y+t.clientTop}else i&&(l.x=_y(i));const c=i&&!r&&!a?jP(i,s):wn(0),u=o.left+s.scrollLeft-l.x-c.x,d=o.top+s.scrollTop-l.y-c.y;return{x:u,y:d,width:o.width,height:o.height}}function pu(e){return hn(e).position==="static"}function Wb(e,t){if(!Tn(e)||hn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return kn(e)===n&&(n=n.ownerDocument.body),n}function IP(e,t){const n=Lt(e);if(oc(e))return n;if(!Tn(e)){let i=lr(e);for(;i&&!_i(i);){if(dn(i)&&!pu(i))return i;i=lr(i)}return n}let r=Wb(e,t);for(;r&&F2(r)&&pu(r);)r=Wb(r,t);return r&&_i(r)&&pu(r)&&!wy(r)?n:r||B2(e)||n}const Z2=async function(e){const t=this.getOffsetParent||IP,n=this.getDimensions,r=await n(e.floating);return{reference:J2(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function eD(e){return hn(e).direction==="rtl"}const tD={convertOffsetParentRelativeRectToViewportRelativeRect:H2,getDocumentElement:kn,getClippingRect:X2,getOffsetParent:IP,getElementRects:Z2,getClientRects:U2,getDimensions:Q2,getScale:mi,isElement:dn,isRTL:eD};function kP(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function nD(e,t){let n=null,r;const i=kn(e);function a(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();const c=e.getBoundingClientRect(),{left:u,top:d,width:f,height:p}=c;if(s||t(),!f||!p)return;const y=ls(d),m=ls(i.clientWidth-(u+f)),g=ls(i.clientHeight-(d+p)),w=ls(u),S={rootMargin:-y+"px "+-m+"px "+-g+"px "+-w+"px",threshold:Dt(0,or(1,l))||1};let A=!0;function v(_){const T=_[0].intersectionRatio;if(T!==l){if(!A)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!kP(c,e.getBoundingClientRect())&&o(),A=!1}try{n=new IntersectionObserver(v,{...S,root:i.ownerDocument})}catch{n=new IntersectionObserver(v,S)}n.observe(e)}return o(!0),a}function rD(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Sy(e),u=i||a?[...c?Ka(c):[],...Ka(t)]:[];u.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),a&&w.addEventListener("resize",n)});const d=c&&s?nD(c,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(w=>{let[b]=w;b&&b.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(t)})),n()}),c&&!l&&p.observe(c),p.observe(t));let y,m=l?Vr(e):null;l&&g();function g(){const w=Vr(e);m&&!kP(m,w)&&n(),m=w,y=requestAnimationFrame(g)}return n(),()=>{var w;u.forEach(b=>{i&&b.removeEventListener("scroll",n),a&&b.removeEventListener("resize",n)}),d?.(),(w=p)==null||w.disconnect(),p=null,l&&cancelAnimationFrame(y)}}const iD=D2,aD=q2,oD=N2,sD=$2,lD=M2,Vb=E2,cD=L2,uD=(e,t,n)=>{const r=new Map,i={platform:tD,...n},a={...i.platform,_c:r};return C2(e,t,{...i,platform:a})};var Cs=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Ys(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ys(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!Ys(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function OP(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Hb(e,t){const n=OP(e);return Math.round(t*n)/n}function mu(e){const t=x.useRef(e);return Cs(()=>{t.current=e}),t}function dD(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:l,open:c}=e,[u,d]=x.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=x.useState(r);Ys(f,r)||p(r);const[y,m]=x.useState(null),[g,w]=x.useState(null),b=x.useCallback($=>{$!==_.current&&(_.current=$,m($))},[]),S=x.useCallback($=>{$!==T.current&&(T.current=$,w($))},[]),A=a||y,v=o||g,_=x.useRef(null),T=x.useRef(null),j=x.useRef(u),P=l!=null,O=mu(l),I=mu(i),k=mu(c),E=x.useCallback(()=>{if(!_.current||!T.current)return;const $={placement:t,strategy:n,middleware:f};I.current&&($.platform=I.current),uD(_.current,T.current,$).then(W=>{const V={...W,isPositioned:k.current!==!1};C.current&&!Ys(j.current,V)&&(j.current=V,Jg.flushSync(()=>{d(V)}))})},[f,t,n,I,k]);Cs(()=>{c===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,d($=>({...$,isPositioned:!1})))},[c]);const C=x.useRef(!1);Cs(()=>(C.current=!0,()=>{C.current=!1}),[]),Cs(()=>{if(A&&(_.current=A),v&&(T.current=v),A&&v){if(O.current)return O.current(A,v,E);E()}},[A,v,E,O,P]);const M=x.useMemo(()=>({reference:_,floating:T,setReference:b,setFloating:S}),[b,S]),D=x.useMemo(()=>({reference:A,floating:v}),[A,v]),q=x.useMemo(()=>{const $={position:n,left:0,top:0};if(!D.floating)return $;const W=Hb(D.floating,u.x),V=Hb(D.floating,u.y);return s?{...$,transform:"translate("+W+"px, "+V+"px)",...OP(D.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:V}},[n,s,D.floating,u.x,u.y]);return x.useMemo(()=>({...u,update:E,refs:M,elements:D,floatingStyles:q}),[u,E,M,D,q])}const hD=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Vb({element:r.current,padding:i}).fn(n):{}:r?Vb({element:r,padding:i}).fn(n):{}}}},fD=(e,t)=>({...iD(e),options:[e,t]}),pD=(e,t)=>({...aD(e),options:[e,t]}),mD=(e,t)=>({...cD(e),options:[e,t]}),gD=(e,t)=>({...oD(e),options:[e,t]}),yD=(e,t)=>({...sD(e),options:[e,t]}),vD=(e,t)=>({...lD(e),options:[e,t]}),bD=(e,t)=>({...hD(e),options:[e,t]});var wD="Arrow",CP=x.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...a}=e;return h.jsx(xe.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});CP.displayName=wD;var xD=CP,Ay="Popper",[EP,na]=fr(Ay),[SD,NP]=EP(Ay),MP=e=>{const{__scopePopper:t,children:n}=e,[r,i]=x.useState(null);return h.jsx(SD,{scope:t,anchor:r,onAnchorChange:i,children:n})};MP.displayName=Ay;var RP="PopperAnchor",DP=x.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,a=NP(RP,n),o=x.useRef(null),s=Ke(t,o);return x.useEffect(()=>{a.onAnchorChange(r?.current||o.current)}),r?null:h.jsx(xe.div,{...i,ref:s})});DP.displayName=RP;var Ty="PopperContent",[_D,AD]=EP(Ty),qP=x.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:y,...m}=e,g=NP(Ty,n),[w,b]=x.useState(null),S=Ke(t,ne=>b(ne)),[A,v]=x.useState(null),_=kM(A),T=_?.width??0,j=_?.height??0,P=r+(a!=="center"?"-"+a:""),O=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},I=Array.isArray(c)?c:[c],k=I.length>0,E={padding:O,boundary:I.filter(jD),altBoundary:k},{refs:C,floatingStyles:M,placement:D,isPositioned:q,middlewareData:$}=dD({strategy:"fixed",placement:P,whileElementsMounted:(...ne)=>rD(...ne,{animationFrame:p==="always"}),elements:{reference:g.anchor},middleware:[fD({mainAxis:i+j,alignmentAxis:o}),l&&pD({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?mD():void 0,...E}),l&&gD({...E}),yD({...E,apply:({elements:ne,rects:ue,availableWidth:G,availableHeight:X})=>{const{width:J,height:B}=ue.reference,me=ne.floating.style;me.setProperty("--radix-popper-available-width",`${G}px`),me.setProperty("--radix-popper-available-height",`${X}px`),me.setProperty("--radix-popper-anchor-width",`${J}px`),me.setProperty("--radix-popper-anchor-height",`${B}px`)}}),A&&bD({element:A,padding:s}),PD({arrowWidth:T,arrowHeight:j}),f&&vD({strategy:"referenceHidden",...E})]}),[W,V]=FP(D),z=gn(y);Ft(()=>{q&&z?.()},[q,z]);const U=$.arrow?.x,ae=$.arrow?.y,he=$.arrow?.centerOffset!==0,[ye,fe]=x.useState();return Ft(()=>{w&&fe(window.getComputedStyle(w).zIndex)},[w]),h.jsx("div",{ref:C.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:q?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[$.transformOrigin?.x,$.transformOrigin?.y].join(" "),...$.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:h.jsx(_D,{scope:n,placedSide:W,onArrowChange:v,arrowX:U,arrowY:ae,shouldHideArrow:he,children:h.jsx(xe.div,{"data-side":W,"data-align":V,...m,ref:S,style:{...m.style,animation:q?void 0:"none"}})})})});qP.displayName=Ty;var LP="PopperArrow",TD={top:"bottom",right:"left",bottom:"top",left:"right"},$P=x.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,a=AD(LP,r),o=TD[a.placedSide];return h.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:h.jsx(xD,{...i,ref:n,style:{...i.style,display:"block"}})})});$P.displayName=LP;function jD(e){return e!==null}var PD=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,s=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[c,u]=FP(n),d={start:"0%",center:"50%",end:"100%"}[u],f=(i.arrow?.x??0)+s/2,p=(i.arrow?.y??0)+l/2;let y="",m="";return c==="bottom"?(y=o?d:`${f}px`,m=`${-l}px`):c==="top"?(y=o?d:`${f}px`,m=`${r.floating.height+l}px`):c==="right"?(y=`${-l}px`,m=o?d:`${p}px`):c==="left"&&(y=`${r.floating.width+l}px`,m=o?d:`${p}px`),{data:{x:y,y:m}}}});function FP(e){const[t,n="center"]=e.split("-");return[t,n]}var jy=MP,lc=DP,Py=qP,Iy=$P,BP=x.forwardRef((e,t)=>{const{children:n,...r}=e,i=x.Children.toArray(n),a=i.find(kD);if(a){const o=a.props.children,s=i.map(l=>l===a?x.Children.count(o)>1?x.Children.only(null):x.isValidElement(o)?o.props.children:null:l);return h.jsx(am,{...r,ref:t,children:x.isValidElement(o)?x.cloneElement(o,void 0,s):null})}return h.jsx(am,{...r,ref:t,children:n})});BP.displayName="Slot";var am=x.forwardRef((e,t)=>{const{children:n,...r}=e;if(x.isValidElement(n)){const i=CD(n),a=OD(r,n.props);return n.type!==x.Fragment&&(a.ref=t?Zg(t,i):i),x.cloneElement(n,a)}return x.Children.count(n)>1?x.Children.only(null):null});am.displayName="SlotClone";var ID=({children:e})=>h.jsx(h.Fragment,{children:e});function kD(e){return x.isValidElement(e)&&e.type===ID}function OD(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...s)=>{a(...s),i(...s)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function CD(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ky="Popover",[WP,nte]=fr(ky,[na]),Wo=na(),[ED,gr]=WP(ky),VP=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!1}=e,s=Wo(t),l=x.useRef(null),[c,u]=x.useState(!1),[d=!1,f]=za({prop:r,defaultProp:i,onChange:a});return h.jsx(jy,{...s,children:h.jsx(ED,{scope:t,contentId:Qi(),triggerRef:l,open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(p=>!p),[f]),hasCustomAnchor:c,onCustomAnchorAdd:x.useCallback(()=>u(!0),[]),onCustomAnchorRemove:x.useCallback(()=>u(!1),[]),modal:o,children:n})})};VP.displayName=ky;var HP="PopoverAnchor",ND=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=gr(HP,n),a=Wo(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:s}=i;return x.useEffect(()=>(o(),()=>s()),[o,s]),h.jsx(lc,{...a,...r,ref:t})});ND.displayName=HP;var UP="PopoverTrigger",zP=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=gr(UP,n),a=Wo(n),o=Ke(t,i.triggerRef),s=h.jsx(xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":QP(i.open),...r,ref:o,onClick:be(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?s:h.jsx(lc,{asChild:!0,...a,children:s})});zP.displayName=UP;var Oy="PopoverPortal",[MD,RD]=WP(Oy,{forceMount:void 0}),GP=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,a=gr(Oy,t);return h.jsx(MD,{scope:t,forceMount:n,children:h.jsx(pr,{present:n||a.open,children:h.jsx(Dj,{asChild:!0,container:i,children:r})})})};GP.displayName=Oy;var Ai="PopoverContent",YP=x.forwardRef((e,t)=>{const n=RD(Ai,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,a=gr(Ai,e.__scopePopover);return h.jsx(pr,{present:r||a.open,children:a.modal?h.jsx(DD,{...i,ref:t}):h.jsx(qD,{...i,ref:t})})});YP.displayName=Ai;var DD=x.forwardRef((e,t)=>{const n=gr(Ai,e.__scopePopover),r=x.useRef(null),i=Ke(t,r),a=x.useRef(!1);return x.useEffect(()=>{const o=r.current;if(o)return qj(o)},[]),h.jsx(Lj,{as:BP,allowPinchZoom:!0,children:h.jsx(KP,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(e.onCloseAutoFocus,o=>{o.preventDefault(),a.current||n.triggerRef.current?.focus()}),onPointerDownOutside:be(e.onPointerDownOutside,o=>{const s=o.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0,c=s.button===2||l;a.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:be(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),qD=x.forwardRef((e,t)=>{const n=gr(Ai,e.__scopePopover),r=x.useRef(!1),i=x.useRef(!1);return h.jsx(KP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;n.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),KP=x.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...d}=e,f=gr(Ai,n),p=Wo(n);return $j(),h.jsx(Fj,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:h.jsx(ey,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>f.onOpenChange(!1),children:h.jsx(Py,{"data-state":QP(f.open),role:"dialog",id:f.contentId,...p,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),XP="PopoverClose",LD=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=gr(XP,n);return h.jsx(xe.button,{type:"button",...r,ref:t,onClick:be(e.onClick,()=>i.onOpenChange(!1))})});LD.displayName=XP;var $D="PopoverArrow",FD=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Wo(n);return h.jsx(Iy,{...i,...r,ref:t})});FD.displayName=$D;function QP(e){return e?"open":"closed"}var BD=VP,WD=zP,VD=GP,JP=YP;const ZP=BD,eI=WD,Cy=x.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>h.jsx(VD,{children:h.jsx(JP,{ref:i,align:t,sideOffset:n,className:pe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Cy.displayName=JP.displayName;we({prompt:te().describe("The text to convert to speech."),lang:ar(["en","ar"]).default("en").describe("The speech language ('en' or 'ar').")});async function Gn(e){const{prompt:t,lang:n}=e;if(!t.trim())return console.warn("TTS Flow: Received empty prompt. Aborting."),null;const r=n==="ar"?"ar-AE-Fatima-Neural":"en-US-Jenny-Neural";console.log(`TTS Flow: Attempting to generate audio for prompt: "${t}" with voice: "${r}"`);try{const i=await Ct({model:"@cf/myshell-ai/melotts",inputs:{prompt:t,voice:r}});let a;const o=i.headers.get("content-type");if(o&&o.includes("application/json")){const s=await i.json();if(s.result&&s.result.audio)a=s.result.audio;else return console.error("TTS Flow: JSON response did not contain audio data.",s),null}else if(o&&o.includes("audio/mpeg")){const s=await i.arrayBuffer();if(s.byteLength<100){const l=new TextDecoder().decode(s);return console.error(`TTS Flow: Received an empty or very small audio buffer from the API. Potential error: ${l}`),null}a=Buffer.from(s).toString("base64")}else return console.error(`TTS Flow: Received unexpected content type: ${o}`),null;return{media:`data:audio/mpeg;base64,${a}`}}catch(i){const a=i instanceof Error?i.message:"An unknown error occurred";return console.error(`Error in textToSpeech flow: ${a}`),null}}const HD=we({role:ar(["user","model","system"]),content:te()});we({lessonTitle:te().describe("The title of the lesson being discussed."),lessonExplanation:te().describe("The core explanation of the lesson topic."),history:Jt(HD).describe("The previous conversation history."),question:te().describe("The user's new question about the lesson.")});async function UD(e){const{lessonTitle:t,lessonExplanation:n,history:r,question:i}=e,o=[{role:"system",content:`You are an expert English language tutor from Speed of Mastery, fluent in both English and Arabic.
Your current topic of expertise is "${t}". The core explanation for this topic is: "${n}".
Your primary language for interacting with the user is ARABIC. Answer the user's questions based on the lesson topic and the provided conversation history.
Be friendly, clear, and concise. Your goal is to provide accurate and natural-sounding Arabic explanations.
You MUST reply with ONLY the answer text, without any introductory phrases.`},...r.map(u=>({role:u.role==="model"?"assistant":"user",content:u.content})),{role:"user",content:i}];return{answer:(await(await Ct({model:"@cf/meta/llama-3-8b-instruct",inputs:{messages:o}})).json()).result.response}}we({prompt:te().describe("The text description of the image to generate.")});we({imageUrl:te().describe("The generated image as a data URI. Expected format: 'data:<mimetype>;base64,<encoded_data>'")});async function cc(e){try{const n=await(await Ct({model:"@cf/stabilityai/stable-diffusion-xl-base-1.0",inputs:{prompt:e.prompt}})).arrayBuffer();return{imageUrl:`data:image/png;base64,${Buffer.from(n).toString("base64")}`}}catch(t){return console.error("Error in image generation flow:",t),{imageUrl:"https://placehold.co/512x512/FF0000/FFFFFF.png?text=Error"}}}we({story:te().describe("The text of the story to illustrate.")});we({imageUrl:te().describe("The generated image as a data URI. Expected format: 'data:<mimetype>;base64,<encoded_data>'")});async function tI(e){const t=`A beautiful, vibrant, high-quality digital painting illustrating the following scene: ${e.story}`;return{imageUrl:(await cc({prompt:t})).imageUrl}}we({text:OM([te(),Jt(te())]).describe("The text or array of texts to be translated."),sourceLanguage:te().default("en").describe('The source language code (e.g., "en" for English).'),targetLanguage:te().describe('The target language for translation (e.g., "ar" for Arabic).'),useFallback:ty().default(!0).describe("Whether to use fallback models for cost optimization."),quality:ar(["fast","balanced","high"]).default("balanced").describe("Translation quality preference.")});async function qr({text:e,sourceLanguage:t="en",targetLanguage:n,useFallback:r=!0,quality:i="balanced"}){if(typeof window<"u")return Array.isArray(e)?{translation:e.map(()=>"محتوى مؤقت - سيتم تحديثه عند التشغيل"),model_used:"placeholder",estimated_cost:0,quality:"fast"}:{translation:"محتوى مؤقت - سيتم تحديثه عند التشغيل",model_used:"placeholder",estimated_cost:0,quality:"fast"};try{const a=await CM(Array.isArray(e)?e.join(`
`):e,n,t,{useFallback:r});let o=fu.TRANSLATION.M2M100;i==="high"?o=fu.TRANSLATION.M2M100:i==="fast"&&(o=fu.TRANSLATION.NLLB200);const s=Array.isArray(e)?e.reduce((d,f)=>d+f.length/4,0):e.length/4,l=a.length/4,c=(s+l)*2e-7;let u;return Array.isArray(e)?u=a.split(/[.!?]+/).filter(f=>f.trim()).slice(0,e.length):u=a,{translation:u,model_used:o,estimated_cost:c,quality:i}}catch(a){return console.error("Enhanced translation failed:",a),Array.isArray(e)?{translation:e.map(()=>"ترجمة مؤقتة - سيتم تحديثها عند التشغيل"),model_used:"fallback",estimated_cost:0,quality:"fast"}:{translation:"ترجمة مؤقتة - سيتم تحديثها عند التشغيل",model_used:"fallback",estimated_cost:0,quality:"fast"}}}const zD=1,GD=1e6;let gu=0;function YD(){return gu=(gu+1)%Number.MAX_SAFE_INTEGER,gu.toString()}const yu=new Map,Ub=e=>{if(yu.has(e))return;const t=setTimeout(()=>{yu.delete(e),Ma({type:"REMOVE_TOAST",toastId:e})},GD);yu.set(e,t)},KD=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,zD)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Ub(n):e.toasts.forEach(r=>{Ub(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Es=[];let Ns={toasts:[]};function Ma(e){Ns=KD(Ns,e),Es.forEach(t=>{t(Ns)})}function XD({...e}){const t=YD(),n=i=>Ma({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>Ma({type:"DISMISS_TOAST",toastId:t});return Ma({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function Et(){const[e,t]=x.useState(Ns);return x.useEffect(()=>(Es.push(t),()=>{const n=Es.indexOf(t);n>-1&&Es.splice(n,1)}),[e]),{...e,toast:XD,dismiss:n=>Ma({type:"DISMISS_TOAST",toastId:n})}}var vu={},bu={},wu={},zb;function Ey(){return zb||(zb=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"warnOnce",{enumerable:!0,get:function(){return t}});let t=n=>{}})(wu)),wu}var xu={},Gb;function QD(){return Gb||(Gb=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"getImageBlurSvg",{enumerable:!0,get:function(){return t}});function t(n){let{widthInt:r,heightInt:i,blurWidth:a,blurHeight:o,blurDataURL:s,objectFit:l}=n;const c=20,u=a?a*40:r,d=o?o*40:i,f=u&&d?"viewBox='0 0 "+u+" "+d+"'":"",p=f?"none":l==="contain"?"xMidYMid":l==="cover"?"xMidYMid slice":"none";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+f+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='"+c+"'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='"+c+"'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+p+"' style='filter: url(%23b);' href='"+s+"'/%3E%3C/svg%3E"}})(xu)),xu}var Su={},Yb;function Ny(){return Yb||(Yb=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(i,a){for(var o in a)Object.defineProperty(i,o,{enumerable:!0,get:a[o]})}t(e,{VALID_LOADERS:function(){return n},imageConfigDefault:function(){return r}});const n=["default","imgix","cloudinary","akamai","custom"],r={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:void 0,unoptimized:!1}})(Su)),Su}var Kb;function nI(){return Kb||(Kb=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"getImgProps",{enumerable:!0,get:function(){return u}}),Ey();const t=QD(),n=Ny(),r=["-moz-initial","fill","none","scale-down",void 0];function i(d){return d.default!==void 0}function a(d){return d.src!==void 0}function o(d){return!!d&&typeof d=="object"&&(i(d)||a(d))}function s(d){return typeof d>"u"?d:typeof d=="number"?Number.isFinite(d)?d:NaN:typeof d=="string"&&/^[0-9]+$/.test(d)?parseInt(d,10):NaN}function l(d,f,p){let{deviceSizes:y,allSizes:m}=d;if(p){const w=/(^|\s)(1?\d?\d)vw/g,b=[];for(let S;S=w.exec(p);S)b.push(parseInt(S[2]));if(b.length){const S=Math.min(...b)*.01;return{widths:m.filter(A=>A>=y[0]*S),kind:"w"}}return{widths:m,kind:"w"}}return typeof f!="number"?{widths:y,kind:"w"}:{widths:[...new Set([f,f*2].map(w=>m.find(b=>b>=w)||m[m.length-1]))],kind:"x"}}function c(d){let{config:f,src:p,unoptimized:y,width:m,quality:g,sizes:w,loader:b}=d;if(y)return{src:p,srcSet:void 0,sizes:void 0};const{widths:S,kind:A}=l(f,m,w),v=S.length-1;return{sizes:!w&&A==="w"?"100vw":w,srcSet:S.map((_,T)=>b({config:f,src:p,quality:g,width:_})+" "+(A==="w"?_:T+1)+A).join(", "),src:b({config:f,src:p,quality:g,width:S[v]})}}function u(d,f){let{src:p,sizes:y,unoptimized:m=!1,priority:g=!1,loading:w,className:b,quality:S,width:A,height:v,fill:_=!1,style:T,overrideSrc:j,onLoad:P,onLoadingComplete:O,placeholder:I="empty",blurDataURL:k,fetchPriority:E,decoding:C="async",layout:M,objectFit:D,objectPosition:q,lazyBoundary:$,lazyRoot:W,...V}=d;const{imgConf:z,showAltText:U,blurComplete:ae,defaultLoader:he}=f;let ye,fe=z||n.imageConfigDefault;if("allSizes"in fe)ye=fe;else{var ne;const ee=[...fe.deviceSizes,...fe.imageSizes].sort((Ie,It)=>Ie-It),se=fe.deviceSizes.sort((Ie,It)=>Ie-It),Be=(ne=fe.qualities)==null?void 0:ne.sort((Ie,It)=>Ie-It);ye={...fe,allSizes:ee,deviceSizes:se,qualities:Be}}if(typeof he>"u")throw Object.defineProperty(new Error(`images.loaderFile detected but the file is missing default export.
Read more: https://nextjs.org/docs/messages/invalid-images-config`),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let ue=V.loader||he;delete V.loader,delete V.srcSet;const G="__next_img_default"in ue;if(G){if(ye.loader==="custom")throw Object.defineProperty(new Error('Image with src "'+p+`" is missing "loader" prop.
Read more: https://nextjs.org/docs/messages/next-image-missing-loader`),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{const ee=ue;ue=se=>{const{config:Be,...Ie}=se;return ee(Ie)}}if(M){M==="fill"&&(_=!0);const ee={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}},se={responsive:"100vw",fill:"100vw"},Be=ee[M];Be&&(T={...T,...Be});const Ie=se[M];Ie&&!y&&(y=Ie)}let X="",J=s(A),B=s(v),me,de;if(o(p)){const ee=i(p)?p.default:p;if(!ee.src)throw Object.defineProperty(new Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(ee)),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!ee.height||!ee.width)throw Object.defineProperty(new Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(ee)),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(me=ee.blurWidth,de=ee.blurHeight,k=k||ee.blurDataURL,X=ee.src,!_){if(!J&&!B)J=ee.width,B=ee.height;else if(J&&!B){const se=J/ee.width;B=Math.round(ee.height*se)}else if(!J&&B){const se=B/ee.height;J=Math.round(ee.width*se)}}}p=typeof p=="string"?p:X;let Ee=!g&&(w==="lazy"||typeof w>"u");(!p||p.startsWith("data:")||p.startsWith("blob:"))&&(m=!0,Ee=!1),ye.unoptimized&&(m=!0),G&&!ye.dangerouslyAllowSVG&&p.split("?",1)[0].endsWith(".svg")&&(m=!0);const Me=s(S),Re=Object.assign(_?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:D,objectPosition:q}:{},U?{}:{color:"transparent"},T),N=!ae&&I!=="empty"?I==="blur"?'url("data:image/svg+xml;charset=utf-8,'+(0,t.getImageBlurSvg)({widthInt:J,heightInt:B,blurWidth:me,blurHeight:de,blurDataURL:k||"",objectFit:Re.objectFit})+'")':'url("'+I+'")':null,L=r.includes(Re.objectFit)?Re.objectFit==="fill"?"100% 100%":"cover":Re.objectFit;let F=N?{backgroundSize:L,backgroundPosition:Re.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:N}:{};const Q=c({config:ye,src:p,unoptimized:m,width:J,quality:Me,sizes:y,loader:ue});return{props:{...V,loading:Ee?"lazy":w,fetchPriority:E,width:J,height:B,decoding:C,className:b,style:{...Re,...F},sizes:Q.sizes,srcSet:Q.srcSet,src:j||Q.src},meta:{unoptimized:m,priority:g,placeholder:I,fill:_}}}})(bu)),bu}var cs={exports:{}},us={exports:{}},_u={},Xb;function JD(){return Xb||(Xb=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return a}});const t=mr(),n=typeof window>"u",r=n?()=>{}:t.useLayoutEffect,i=n?()=>{}:t.useEffect;function a(o){const{headManager:s,reduceComponentsToState:l}=o;function c(){if(s&&s.mountedInstances){const d=t.Children.toArray(Array.from(s.mountedInstances).filter(Boolean));s.updateHead(l(d,o))}}if(n){var u;s==null||(u=s.mountedInstances)==null||u.add(o.children),c()}return r(()=>{var d;return s==null||(d=s.mountedInstances)==null||d.add(o.children),()=>{var f;s==null||(f=s.mountedInstances)==null||f.delete(o.children)}}),r(()=>(s&&(s._pendingUpdate=c),()=>{s&&(s._pendingUpdate=c)})),i(()=>(s&&s._pendingUpdate&&(s._pendingUpdate(),s._pendingUpdate=null),()=>{s&&s._pendingUpdate&&(s._pendingUpdate(),s._pendingUpdate=null)})),null}})(_u)),_u}var Au={},Qb;function ZD(){return Qb||(Qb=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AmpStateContext",{enumerable:!0,get:function(){return r}});const r=Ji()._(mr()).default.createContext({})})(Au)),Au}var Tu={},Jb;function eq(){return Jb||(Jb=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"HeadManagerContext",{enumerable:!0,get:function(){return r}});const r=Ji()._(mr()).default.createContext({})})(Tu)),Tu}var ju={},Zb;function tq(){return Zb||(Zb=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"isInAmpMode",{enumerable:!0,get:function(){return t}});function t(n){let{ampFirst:r=!1,hybrid:i=!1,hasQuery:a=!1}=n===void 0?{}:n;return r||i&&a}})(ju)),ju}var ew;function nq(){return ew||(ew=1,(function(e,t){"use client";var n={};Object.defineProperty(t,"__esModule",{value:!0});function r(S,A){for(var v in A)Object.defineProperty(S,v,{enumerable:!0,get:A[v]})}r(t,{default:function(){return b},defaultHead:function(){return f}});const i=Ji(),a=Wj(),o=Bj(),s=a._(mr()),l=i._(JD()),c=ZD(),u=eq(),d=tq();Ey();function f(S){S===void 0&&(S=!1);const A=[(0,o.jsx)("meta",{charSet:"utf-8"},"charset")];return S||A.push((0,o.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")),A}function p(S,A){return typeof A=="string"||typeof A=="number"?S:A.type===s.default.Fragment?S.concat(s.default.Children.toArray(A.props.children).reduce((v,_)=>typeof _=="string"||typeof _=="number"?v:v.concat(_),[])):S.concat(A)}const y=["name","httpEquiv","charSet","itemProp"];function m(){const S=new Set,A=new Set,v=new Set,_={};return T=>{let j=!0,P=!1;if(T.key&&typeof T.key!="number"&&T.key.indexOf("$")>0){P=!0;const O=T.key.slice(T.key.indexOf("$")+1);S.has(O)?j=!1:S.add(O)}switch(T.type){case"title":case"base":A.has(T.type)?j=!1:A.add(T.type);break;case"meta":for(let O=0,I=y.length;O<I;O++){const k=y[O];if(T.props.hasOwnProperty(k))if(k==="charSet")v.has(k)?j=!1:v.add(k);else{const E=T.props[k],C=_[k]||new Set;(k!=="name"||!P)&&C.has(E)?j=!1:(C.add(E),_[k]=C)}}break}return j}}function g(S,A){const{inAmpMode:v}=A;return S.reduce(p,[]).reverse().concat(f(v).reverse()).filter(m()).reverse().map((_,T)=>{const j=_.key||T;if(n.__NEXT_OPTIMIZE_FONTS&&!v&&_.type==="link"&&_.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(P=>_.props.href.startsWith(P))){const P={..._.props||{}};return P["data-href"]=P.href,P.href=void 0,P["data-optimized-fonts"]=!0,s.default.cloneElement(_,P)}return s.default.cloneElement(_,{key:j})})}function w(S){let{children:A}=S;const v=(0,s.useContext)(c.AmpStateContext),_=(0,s.useContext)(u.HeadManagerContext);return(0,o.jsx)(l.default,{reduceComponentsToState:g,headManager:_,inAmpMode:(0,d.isInAmpMode)(v),children:A})}const b=w;(typeof t.default=="function"||typeof t.default=="object"&&t.default!==null)&&typeof t.default.__esModule>"u"&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)})(us,us.exports)),us.exports}var Pu={},tw;function rq(){return tw||(tw=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"ImageConfigContext",{enumerable:!0,get:function(){return i}});const n=Ji()._(mr()),r=Ny(),i=n.default.createContext(r.imageConfigDefault)})(Pu)),Pu}var Iu={},nw;function rI(){return nw||(nw=1,(function(e){var t={};Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return i}});const n=75;function r(a){let{config:o,src:s,width:l,quality:c}=a;var u;const d=c||((u=o.qualities)==null?void 0:u.reduce((f,p)=>Math.abs(p-n)<Math.abs(f-n)?p:f))||n;return o.path+"?url="+encodeURIComponent(s)+"&w="+l+"&q="+d+(s.startsWith("/_next/static/media/")&&t.NEXT_DEPLOYMENT_ID?"&dpl="+t.NEXT_DEPLOYMENT_ID:"")}r.__next_img_default=!0;const i=r})(Iu)),Iu}var rw;function iq(){return rw||(rw=1,(function(e,t){"use client";var n={};Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return A}});const r=Ji(),i=Wj(),a=Bj(),o=i._(mr()),s=r._(FM()),l=r._(nq()),c=nI(),u=Ny(),d=rq();Ey();const f=EM(),p=r._(rI()),y=NM(),m=n.__NEXT_IMAGE_OPTS;typeof window>"u"&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);function g(v,_,T,j,P,O,I){const k=v?.src;if(!v||v["data-loaded-src"]===k)return;v["data-loaded-src"]=k,("decode"in v?v.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(!(!v.parentElement||!v.isConnected)){if(_!=="empty"&&P(!0),T?.current){const C=new Event("load");Object.defineProperty(C,"target",{writable:!1,value:v});let M=!1,D=!1;T.current({...C,nativeEvent:C,currentTarget:v,target:v,isDefaultPrevented:()=>M,isPropagationStopped:()=>D,persist:()=>{},preventDefault:()=>{M=!0,C.preventDefault()},stopPropagation:()=>{D=!0,C.stopPropagation()}})}j?.current&&j.current(v)}})}function w(v){return o.use?{fetchPriority:v}:{fetchpriority:v}}const b=(0,o.forwardRef)((v,_)=>{let{src:T,srcSet:j,sizes:P,height:O,width:I,decoding:k,className:E,style:C,fetchPriority:M,placeholder:D,loading:q,unoptimized:$,fill:W,onLoadRef:V,onLoadingCompleteRef:z,setBlurComplete:U,setShowAltText:ae,sizesInput:he,onLoad:ye,onError:fe,...ne}=v;const ue=(0,o.useCallback)(X=>{X&&(fe&&(X.src=X.src),X.complete&&g(X,D,V,z,U))},[T,D,V,z,U,fe,$,he]),G=(0,y.useMergedRef)(_,ue);return(0,a.jsx)("img",{...ne,...w(M),loading:q,width:I,height:O,decoding:k,"data-nimg":W?"fill":"1",className:E,style:C,sizes:P,srcSet:j,src:T,ref:G,onLoad:X=>{const J=X.currentTarget;g(J,D,V,z,U)},onError:X=>{ae(!0),D!=="empty"&&U(!0),fe&&fe(X)}})});function S(v){let{isAppRouter:_,imgAttributes:T}=v;const j={as:"image",imageSrcSet:T.srcSet,imageSizes:T.sizes,crossOrigin:T.crossOrigin,referrerPolicy:T.referrerPolicy,...w(T.fetchPriority)};return _&&s.default.preload?(s.default.preload(T.src,j),null):(0,a.jsx)(l.default,{children:(0,a.jsx)("link",{rel:"preload",href:T.srcSet?void 0:T.src,...j},"__nimg-"+T.src+T.srcSet+T.sizes)})}const A=(0,o.forwardRef)((v,_)=>{const j=!(0,o.useContext)(f.RouterContext),P=(0,o.useContext)(d.ImageConfigContext),O=(0,o.useMemo)(()=>{var z;const U=m||P||u.imageConfigDefault,ae=[...U.deviceSizes,...U.imageSizes].sort((fe,ne)=>fe-ne),he=U.deviceSizes.sort((fe,ne)=>fe-ne),ye=(z=U.qualities)==null?void 0:z.sort((fe,ne)=>fe-ne);return{...U,allSizes:ae,deviceSizes:he,qualities:ye}},[P]),{onLoad:I,onLoadingComplete:k}=v,E=(0,o.useRef)(I);(0,o.useEffect)(()=>{E.current=I},[I]);const C=(0,o.useRef)(k);(0,o.useEffect)(()=>{C.current=k},[k]);const[M,D]=(0,o.useState)(!1),[q,$]=(0,o.useState)(!1),{props:W,meta:V}=(0,c.getImgProps)(v,{defaultLoader:p.default,imgConf:O,blurComplete:M,showAltText:q});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b,{...W,unoptimized:V.unoptimized,placeholder:V.placeholder,fill:V.fill,onLoadRef:E,onLoadingCompleteRef:C,setBlurComplete:D,setShowAltText:$,sizesInput:v.sizes,ref:_}),V.priority?(0,a.jsx)(S,{isAppRouter:j,imgAttributes:W}):null]})});(typeof t.default=="function"||typeof t.default=="object"&&t.default!==null)&&typeof t.default.__esModule>"u"&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)})(cs,cs.exports)),cs.exports}var iw;function aq(){return iw||(iw=1,(function(e){var t={};Object.defineProperty(e,"__esModule",{value:!0});function n(c,u){for(var d in u)Object.defineProperty(c,d,{enumerable:!0,get:u[d]})}n(e,{default:function(){return l},getImageProps:function(){return s}});const r=Ji(),i=nI(),a=iq(),o=r._(rI());function s(c){const{props:u}=(0,i.getImgProps)(c,{defaultLoader:o.default,imgConf:t.__NEXT_IMAGE_OPTS});for(const[d,f]of Object.entries(u))f===void 0&&delete u[d];return{props:u}}const l=a.Image})(vu)),vu}var ku,aw;function oq(){return aw||(aw=1,ku=aq()),ku}var sq=oq();const Yn=Ce(sq),lq={},ow=e=>{let t;const n=new Set,r=(u,d)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const p=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(y=>y(t,p))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(lq?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,i,l);return l},cq=e=>e?ow(e):ow;var Ou={exports:{}},Cu={},Eu={exports:{}},Nu={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sw;function uq(){if(sw)return Nu;sw=1;var e=mr();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function s(d,f){var p=f(),y=r({inst:{value:p,getSnapshot:f}}),m=y[0].inst,g=y[1];return a(function(){m.value=p,m.getSnapshot=f,l(m)&&g({inst:m})},[d,p,f]),i(function(){return l(m)&&g({inst:m}),d(function(){l(m)&&g({inst:m})})},[d]),o(p),p}function l(d){var f=d.getSnapshot;d=d.value;try{var p=f();return!n(d,p)}catch{return!0}}function c(d,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:s;return Nu.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,Nu}var lw;function dq(){return lw||(lw=1,Eu.exports=uq()),Eu.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cw;function hq(){if(cw)return Cu;cw=1;var e=mr(),t=dq();function n(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,o=e.useEffect,s=e.useMemo,l=e.useDebugValue;return Cu.useSyncExternalStoreWithSelector=function(c,u,d,f,p){var y=a(null);if(y.current===null){var m={hasValue:!1,value:null};y.current=m}else m=y.current;y=s(function(){function w(_){if(!b){if(b=!0,S=_,_=f(_),p!==void 0&&m.hasValue){var T=m.value;if(p(T,_))return A=T}return A=_}if(T=A,r(S,_))return T;var j=f(_);return p!==void 0&&p(T,j)?(S=_,T):(S=_,A=j)}var b=!1,S,A,v=d===void 0?null:d;return[function(){return w(u())},v===null?void 0:function(){return w(v())}]},[u,d,f,p]);var g=i(c,y[0],y[1]);return o(function(){m.hasValue=!0,m.value=g},[g]),l(g),g},Cu}var uw;function fq(){return uw||(uw=1,Ou.exports=hq()),Ou.exports}var pq=fq();const mq=Ce(pq),iI={},{useDebugValue:gq}=R,{useSyncExternalStoreWithSelector:yq}=mq;let dw=!1;const vq=e=>e;function bq(e,t=vq,n){(iI?"production":void 0)!=="production"&&n&&!dw&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),dw=!0);const r=yq(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return gq(r),r}const wq=e=>{(iI?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?cq(e):e,n=(r,i)=>bq(t,r,i);return Object.assign(n,t),n},uc=e=>wq,xq={};function Vo(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var a;const o=l=>l===null?null:JSON.parse(l,void 0),s=(a=n.getItem(i))!=null?a:null;return s instanceof Promise?s.then(o):o(s)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const Xa=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Xa(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Xa(r)(n)}}}},Sq=(e,t)=>(n,r,i)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:g=>g,version:0,merge:(g,w)=>({...w,...g}),...t},o=!1;const s=new Set,l=new Set;let c;try{c=a.getStorage()}catch{}if(!c)return e((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...g)},r,i);const u=Xa(a.serialize),d=()=>{const g=a.partialize({...r()});let w;const b=u({state:g,version:a.version}).then(S=>c.setItem(a.name,S)).catch(S=>{w=S});if(w)throw w;return b},f=i.setState;i.setState=(g,w)=>{f(g,w),d()};const p=e((...g)=>{n(...g),d()},r,i);let y;const m=()=>{var g;if(!c)return;o=!1,s.forEach(b=>b(r()));const w=((g=a.onRehydrateStorage)==null?void 0:g.call(a,r()))||void 0;return Xa(c.getItem.bind(c))(a.name).then(b=>{if(b)return a.deserialize(b)}).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==a.version){if(a.migrate)return a.migrate(b.state,b.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return b.state}).then(b=>{var S;return y=a.merge(b,(S=r())!=null?S:p),n(y,!0),d()}).then(()=>{w?.(y,void 0),o=!0,l.forEach(b=>b(y))}).catch(b=>{w?.(void 0,b)})};return i.persist={setOptions:g=>{a={...a,...g},g.getStorage&&(c=g.getStorage())},clearStorage:()=>{c?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:g=>(s.add(g),()=>{s.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},m(),y||p},_q=(e,t)=>(n,r,i)=>{let a={storage:Vo(()=>localStorage),partialize:m=>m,version:0,merge:(m,g)=>({...g,...m}),...t},o=!1;const s=new Set,l=new Set;let c=a.storage;if(!c)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...m)},r,i);const u=()=>{const m=a.partialize({...r()});return c.setItem(a.name,{state:m,version:a.version})},d=i.setState;i.setState=(m,g)=>{d(m,g),u()};const f=e((...m)=>{n(...m),u()},r,i);i.getInitialState=()=>f;let p;const y=()=>{var m,g;if(!c)return;o=!1,s.forEach(b=>{var S;return b((S=r())!=null?S:f)});const w=((g=a.onRehydrateStorage)==null?void 0:g.call(a,(m=r())!=null?m:f))||void 0;return Xa(c.getItem.bind(c))(a.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==a.version){if(a.migrate)return[!0,a.migrate(b.state,b.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var S;const[A,v]=b;if(p=a.merge(v,(S=r())!=null?S:f),n(p,!0),A)return u()}).then(()=>{w?.(p,void 0),p=r(),o=!0,l.forEach(b=>b(p))}).catch(b=>{w?.(void 0,b)})};return i.persist={setOptions:m=>{a={...a,...m},m.storage&&(c=m.storage)},clearStorage:()=>{c?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:m=>(s.add(m),()=>{s.delete(m)}),onFinishHydration:m=>(l.add(m),()=>{l.delete(m)})},a.skipHydration||y(),p||f},Aq=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((xq?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Sq(e,t)):_q(e,t),dc=Aq,Mu=[{type:"lesson",title:"Unit 1: Auxiliary Verbs (do, be, have)",explanation:"Auxiliary verbs (or helping verbs) like 'do', 'be', and 'have' are used with main verbs to form questions, negatives, and different tenses. 'do' is for simple tenses, 'be' for continuous and passive, and 'have' for perfect tenses.",examples:[{english:"Where do you live?",arabic:"أين تعيش؟"},{english:"He is not studying; he is watching TV.",arabic:"هو لا يدرس؛ هو يشاهد التلفاز."},{english:"Have you finished your work?",arabic:"هل أنهيت عملك؟"},{english:"Cows don't eat meat.",arabic:"الأبقار لا تأكل اللحم."},{english:"Does she work in a bank?",arabic:"هل تعمل في بنك؟"},{english:"They are playing in the garden.",arabic:"هم يلعبون في الحديقة."},{english:"We have seen that movie before.",arabic:"لقد شاهدنا ذلك الفيلم من قبل."},{english:"Did he call you yesterday?",arabic:"هل اتصل بك أمس؟"},{english:"I was sleeping when you called.",arabic:"كنت نائمًا عندما اتصلت."},{english:"The book has been written.",arabic:"لقد تم تأليف الكتاب."}],mcqs:[{question:"Which auxiliary verb is used for Present Simple questions?",options:["be","have","do","will"],answer:"do"},{question:"Complete the sentence: She ___ seen this film before.",options:["is","does","has","did"],answer:"has"}],story:{title:"From Rich Dad Poor Dad",summary:"One father has a PhD, the other did not finish school. Both are successful, yet they have very different ideas about money. One says, 'I can't afford it.' The other asks, 'How can I afford it?'. One does recommend saving money, the other recommends investing it. This book is about the lessons these two fathers have taught the author. What do you think is the best advice?"}},{type:"lesson",title:"Unit 1: Questions and Negatives",explanation:"To make questions in simple tenses, use do/does/did before the subject. For negatives, use don't/doesn't/didn't before the main verb. For other tenses, invert the auxiliary verb (be/have) and the subject for questions, or add 'not' after the auxiliary for negatives.",examples:[{english:"What did you do last night?",arabic:"ماذا فعلت الليلة الماضية؟"},{english:"He doesn't work on Sundays.",arabic:"هو لا يعمل أيام الأحد."},{english:"Are you listening to me?",arabic:"هل تستمع إلي؟"},{english:"They haven't arrived yet.",arabic:"هم لم يصلوا بعد."},{english:"Why do you need my help?",arabic:"لماذا تحتاج مساعدتي؟"},{english:"She didn't feel well.",arabic:"لم تكن تشعر بحالة جيدة."},{english:"Is he your brother?",arabic:"هل هو أخوك؟"},{english:"We are not going to the party.",arabic:"نحن لن نذهب إلى الحفلة."},{english:"Have you ever been to Canada?",arabic:"هل زرت كندا من قبل؟"},{english:"He has not called me back.",arabic:"لم يتصل بي مرة أخرى."}],mcqs:[{question:"How do you make 'You like coffee' a question?",options:["You do like coffee?","Like you coffee?","Do you like coffee?","Coffee you like?"],answer:"Do you like coffee?"},{question:"How do you make 'She went home' negative?",options:["She didn't went home.","She didn't go home.","She not went home.","She not go home."],answer:"She didn't go home."}],story:{title:"From The 7 Habits of Highly Effective People",summary:"Why don't some people succeed? What did Stephen Covey discover about effective people? He didn't just list random habits; he found seven key principles. For example, effective people are not reactive; they are proactive. They don't just let things happen; they make things happen. Have you ever wondered what the other habits are? This book explains them."}},{type:"lesson",title:"Unit 1: Short Answers",explanation:"In spoken English, it's polite to use short answers instead of just 'yes' or 'no'. A short answer uses the subject and the auxiliary verb. For example, 'Yes, I do' or 'No, he isn't'.",examples:[{english:"Did you have a nice time? - Yes, I did.",arabic:"هل قضيت وقتاً ممتعاً؟ - نعم، فعلت."},{english:"Is it raining? - No, it isn't.",arabic:"هل تمطر؟ - لا، ليست كذلك."},{english:"Have you had coffee? - Yes, I have.",arabic:"هل شربت القهوة؟ - نعم، فعلت."},{english:"Are you working hard? - Yes, I am.",arabic:"هل تعمل بجد؟ - نعم، أفعل."},{english:"Do you like cooking? - No, I don't.",arabic:"هل تحب الطبخ؟ - لا، لا أحب."},{english:"Did you go out last night? - Yes, I did.",arabic:"هل خرجت الليلة الماضية؟ - نعم، فعلت."},{english:"Is she a doctor? - No, she isn't.",arabic:"هل هي طبيبة؟ - لا، ليست كذلك."},{english:"Have they finished? - No, they haven't.",arabic:"هل انتهوا؟ - لا، لم ينتهوا."},{english:"Can you swim? - Yes, I can.",arabic:"هل تستطيع السباحة؟ - نعم، أستطيع."},{english:"Will you be there? - No, I won't.",arabic:"هل ستكون هناك؟ - لا، لن أكون."}],mcqs:[{question:"A correct short answer for 'Do you live here?' is:",options:["Yes, I live.","Yes, I do.","Yes, I am.","Yes."],answer:"Yes, I do."},{question:"A correct negative short answer for 'Is she coming?' is:",options:["No, she's not.","No, she not coming.","No, she doesn't.","No, she isn't."],answer:"No, she isn't."}],story:{title:"From a Book Club Discussion",summary:"A: Did you read the chapter? B: Yes, I did. A: Was it interesting? B: No, it wasn't. It was quite boring. A: Really? I enjoyed it. Have you started the next one? B: No, I haven't. Are you going to read it tonight? A: Yes, I am. I think you'll like it more. B: We'll see. Can I call you to talk about it? A: Yes, you can!"}},{type:"lesson",title:"Unit 1: Social Expressions",explanation:"In everyday conversation, we use many common idiomatic expressions to sound natural and friendly, like 'Never mind', 'Take care!', and 'You must be joking!'.",examples:[{english:"Sorry I'm late. - Never mind, come and sit down.",arabic:"آسف على التأخير. - لا بأس، تعال واجلس."},{english:"Bye! - Take care!",arabic:"وداعًا! - اعتنِ بنفسك!"},{english:"I won the lottery! - You must be joking!",arabic:"لقد ربحت اليانصيب! - لا بد أنك تمزح!"},{english:"Can I borrow your pen? - Of course, go ahead.",arabic:"هل يمكنني استعارة قلمك؟ - بالطبع، تفضل."},{english:"Thank you so much! - You're welcome.",arabic:"شكرًا جزيلًا! - على الرحب والسعة."},{english:"I have an exam tomorrow. - Good luck!",arabic:"لدي امتحان غدًا. - حظًا موفقًا!"},{english:"Excuse me, where is the station? - It's over there.",arabic:"عفوًا، أين المحطة؟ - إنها هناك."},{english:"I'm so tired. - Why don't you take a break?",arabic:"أنا متعب جدًا. - لم لا تأخذ استراحة؟"},{english:"I failed the test. - Oh, what a shame.",arabic:"لقد رسبت في الاختبار. - يا للأسف."},{english:"Let's go to the cinema. - That sounds like a good idea.",arabic:"لنذهب إلى السينما. - تبدو فكرة جيدة."}],mcqs:[{question:"What's a good reply to 'Thank you'?",options:["Never mind","You're welcome","Take care","Not at all"],answer:"You're welcome"},{question:"If someone tells you surprising news, you might say:",options:["Take care!","You must be joking!","Never mind.","Good luck!"],answer:"You must be joking!"}],story:{title:"From a Traveler's Diary",summary:"I arrived at the hostel. 'Sorry I'm late,' I said. 'Never mind,' the manager replied. 'You must be tired.' As I left the next morning, he said, 'Take care!' I went to a cafe. 'Can I get a coffee?' I asked. 'Of course,' said the barista. Later, a friend called. 'I'm getting married!' she said. 'You must be joking!' I exclaimed. She wasn't. 'Good luck!' I told her."}},{type:"lesson",title:"Unit 2: Present Simple vs. Continuous",explanation:"The Present Simple describes habits, facts, and routines (e.g., 'He works in a bank'). The Present Continuous describes actions happening now or around the present time (e.g., 'He is working in France at the moment').",examples:[{english:"She usually drives to work, but today she's walking.",arabic:"هي عادة تقود السيارة إلى العمل، لكنها اليوم تمشي."},{english:"The sun rises in the east.",arabic:"الشمس تشرق من الشرق."},{english:"What are you working on these days?",arabic:"على ماذا تعمل هذه الأيام؟"},{english:"Water boils at 100 degrees Celsius.",arabic:"يغلي الماء عند 100 درجة مئوية."},{english:"I play tennis every Saturday.",arabic:"ألعب التنس كل سبت."},{english:"Please be quiet, I'm trying to concentrate.",arabic:"من فضلك كن هادئًا، أحاول التركيز."},{english:"He works for an international company.",arabic:"يعمل في شركة دولية."},{english:"The population of the world is increasing.",arabic:"عدد سكان العالم في ازدياد."},{english:"I don't usually have breakfast.",arabic:"أنا لا أتناول الفطور عادة."},{english:"What time does the film start?",arabic:"في أي وقت يبدأ الفيلم؟"}],mcqs:[{question:"Which tense is for a general truth?",options:["Present Continuous","Present Perfect","Present Simple","Past Simple"],answer:"Present Simple"},{question:"Complete the sentence: 'Listen! The baby ___.'",options:["cries","cried","is crying","has cried"],answer:"is crying"}],story:{title:"From a CEO's Biography",summary:"A successful CEO always wakes up at 5 AM; that is his routine. He exercises and reads for an hour. Right now, however, he isn't reading. He is preparing for a big presentation. His company usually sells software, but this year it is expanding into hardware. Business is always changing, and he knows that to succeed, he must adapt."}},{type:"lesson",title:"Unit 2: Present Passive",explanation:"The passive voice is used when the action is more important than the person/thing doing it. Present Simple Passive: is/are + past participle (e.g., 'English is spoken here'). Present Continuous Passive: is/are being + past participle (e.g., 'The house is being built').",examples:[{english:"We are paid with the money people give.",arabic:"يُدفع لنا بالمال الذي يعطيه الناس."},{english:"Children are being treated with a new medicine.",arabic:"يُعالج الأطفال بدواء جديد."},{english:"The lions are fed once a day.",arabic:"تُطعم الأسود مرة واحدة في اليوم."},{english:"This room is cleaned every day.",arabic:"يتم تنظيف هذه الغرفة كل يوم."},{english:"My car is being repaired at the moment.",arabic:"سيارتي قيد الإصلاح في الوقت الحالي."},{english:"English is spoken all over the world.",arabic:"يتم التحدث باللغة الإنجليزية في جميع أنحاء العالم."},{english:"A new bridge is being built.",arabic:"يتم بناء جسر جديد."},{english:"These computers are made in Korea.",arabic:"هذه الحواسيب مصنوعة في كوريا."},{english:"The office is being painted this week.",arabic:"يتم طلاء المكتب هذا الأسبوع."},{english:"How are these words pronounced?",arabic:"كيف تُنطق هذه الكلمات؟"}],mcqs:[{question:"Change to passive: 'They deliver the newspapers in the morning.'",options:["The newspapers are delivered in the morning.","The newspapers are being delivered...","The newspapers deliver in the morning.","The newspapers were delivered..."],answer:"The newspapers are delivered in the morning."},{question:"Complete: 'Look! My car ___.'",options:["is repaired","is being repaired","repairs","repaired"],answer:"is being repaired"}],story:{title:"From a Tech Company Report",summary:"In our company, thousands of emails are sent every day. Our products are designed in California, but they are manufactured in Asia. At the moment, a new headquarters is being built, and a new marketing campaign is being prepared by our team. All employees are given free lunch, and new ideas are always encouraged."}},{type:"lesson",title:"Unit 2: Sport and Leisure Vocabulary",explanation:"For sports and activities, we often use specific verbs: 'play' for team/ball sports (play football), 'go' for activities ending in -ing (go skiing), and 'do' for individual activities/martial arts (do aerobics, do yoga).",examples:[{english:"I play football on weekends.",arabic:"ألعب كرة القدم في عطلات نهاية الأسبوع."},{english:"She goes skiing every winter.",arabic:"تذهب للتزلج كل شتاء."},{english:"He does aerobics to stay fit.",arabic:"يمارس التمارين الهوائية ليحافظ على لياقته."},{english:"They play volleyball on the beach.",arabic:"يلعبون الكرة الطائرة على الشاطئ."},{english:"We go jogging in the park every morning.",arabic:"نذهب للركض في الحديقة كل صباح."},{english:"My brother does karate.",arabic:"أخي يمارس الكاراتيه."},{english:"Do you play golf?",arabic:"هل تلعب الجولف؟"},{english:"I want to go fishing this weekend.",arabic:"أريد أن أذهب لصيد السمك في نهاية هذا الأسبوع."},{english:"She does yoga twice a week.",arabic:"تمارس اليوجا مرتين في الأسبوع."},{english:"They are going snowboarding in the mountains.",arabic:"إنهم ذاهبون للتزلج على الجليد في الجبال."}],mcqs:[{question:"Which verb do you use with 'basketball'?",options:["go","do","play","make"],answer:"play"},{question:"Which verb do you use with 'jogging'?",options:["go","do","play","run"],answer:"go"}],story:{title:"From an Athlete's Journal",summary:"To be a champion, you need balance. On Mondays, I play tennis to improve my speed. On Tuesdays and Thursdays, I do weightlifting for strength. On Wednesdays, I go swimming, which is great for cardio. At the weekend, if I have time, I play golf to relax my mind. I don't do gymnastics, but I admire those who do. It's a demanding schedule."}},{type:"lesson",title:"Unit 2: Numbers and Dates",explanation:"Understanding how to say different types of numbers is essential. This includes money (£400), fractions (1/4), decimals (6.2), percentages (50%), dates (15/7/94), and phone numbers (01865 556890).",examples:[{english:"This costs fifty pounds (£50).",arabic:"هذا يكلف خمسين جنيهاً (50 جنيهاً استرلينياً)."},{english:"I'll have a quarter (1/4) of the cake.",arabic:"سآخذ ربع (1/4) الكعكة."},{english:"The temperature is minus five degrees (-5°C).",arabic:"درجة الحرارة هي خمس درجات تحت الصفر (-5 درجة مئوية)."},{english:"The price increased by ten percent (10%).",arabic:"ارتفع السعر بنسبة عشرة في المئة (10٪)."},{english:"My birthday is on the tenth of May (10/5).",arabic:"عيد ميلادي في العاشر من مايو (10/5)."},{english:"Her phone number is oh one seven one, three four five, six seven eight nine.",arabic:"رقم هاتفها هو صفر واحد سبعة واحد، ثلاثة أربعة خمسة، ستة سبعة ثمانية تسعة."},{english:"The result is three point one four (3.14).",arabic:"النتيجة هي ثلاثة فاصلة واحد أربعة (3.14)."},{english:"World War II ended in nineteen forty-five (1945).",arabic:"انتهت الحرب العالمية الثانية في عام ألف وتسعمائة وخمسة وأربعين (1945)."},{english:"I need two-thirds (2/3) of a cup of flour.",arabic:"أحتاج إلى ثلثي (2/3) كوب من الدقيق."},{english:"The bill is forty-seven dollars and ninety-nine cents ($47.99).",arabic:"الفاتورة سبعة وأربعون دولارًا وتسعة وتسعون سنتًا (47.99 دولارًا)."}],mcqs:[{question:"How do you say '3/4'?",options:["three-four","three-fourths","three by four","three and four"],answer:"three-fourths"},{question:"How do you say the year '2005'?",options:["two thousand five","twenty oh five","two zero zero five","Both A and B are common"],answer:"Both A and B are common"}],story:{title:"From an Investment Report",summary:"The company's profit was two million, five hundred thousand dollars ($2,500,000) last year. This represents a growth of fifteen percent (15%) from the previous year. The stock price closed at sixty-two point five (62.5) yesterday. The annual general meeting is scheduled for the first of June (1/6) in the year two thousand and twenty-five (2025). The company's main contact number is eight hundred, five five five, one two three four (800-555-1234)."}},{type:"lesson",title:"Unit 3: Past Simple vs. Past Continuous",explanation:"Past Simple is for a completed action in the past (e.g., 'He danced'). Past Continuous is for an action in progress at a specific past time (e.g., 'He was laughing'). Often used together: a short action (Past Simple) interrupts a longer action (Past Continuous).",examples:[{english:"He was laughing when he saw the baby.",arabic:"كان يضحك عندما رأى الطفل."},{english:"While I was driving home, I saw an accident.",arabic:"بينما كنت أقود السيارة إلى المنزل، رأيت حادثًا."},{english:"She packed her suitcase and left.",arabic:"حزمت حقيبتها وغادرت."},{english:"What were you doing at 8 PM last night?",arabic:"ماذا كنت تفعل في الساعة 8 مساءً الليلة الماضية؟"},{english:"It started to rain while we were walking in the park.",arabic:"بدأت تمطر بينما كنا نمشي في الحديقة."},{english:"He broke his leg when he was playing football.",arabic:"كسر ساقه عندما كان يلعب كرة القدم."},{english:"I read a book, then I went to bed.",arabic:"قرأت كتابًا، ثم ذهبت إلى الفراش."},{english:"The phone rang while I was having a shower.",arabic:"رن الهاتف بينما كنت أستحم."},{english:"I was watching TV when you called.",arabic:"كنت أشاهد التلفاز عندما اتصلت."},{english:"She didn't hear the doorbell because she was listening to music.",arabic:"لم تسمع جرس الباب لأنها كانت تستمع إلى الموسيقى."}],mcqs:[{question:"Complete: 'When the phone rang, I ___ a shower.'",options:["had","was having","have","am having"],answer:"was having"},{question:"Complete: 'He ___ TV when I arrived.'",options:["watched","watches","was watching","has watched"],answer:"was watching"}],story:{title:"From a Detective Novel",summary:"The detective arrived at the scene. It was raining heavily. A man was lying on the floor. He wasn't moving. While the detective was examining the room, he noticed a small clue under the sofa. He picked it up carefully. Just then, the phone rang. It startled him. He answered it. A mysterious voice spoke on the other end."}},{type:"lesson",title:"Unit 3: Past Simple vs. Past Perfect",explanation:"When describing two past actions, use the Past Perfect (had + past participle) for the action that happened first. Use the Past Simple for the action that happened second.",examples:[{english:"When I arrived, the film had started.",arabic:"عندما وصلت، كان الفيلم قد بدأ."},{english:"I didn't laugh at his joke because I had heard it before.",arabic:"لم أضحك على نكتته لأنني كنت قد سمعتها من قبل."},{english:"After she had finished her work, she went home.",arabic:"بعد أن أنهت عملها، ذهبت إلى المنزل."},{english:"He went to the airport, but he had left his passport at home.",arabic:"ذهب إلى المطار، لكنه كان قد ترك جواز سفره في المنزل."},{english:"The train had just left when we got to the station.",arabic:"كان القطار قد غادر للتو عندما وصلنا إلى المحطة."},{english:"She had studied French before she moved to Paris.",arabic:"كانت قد درست الفرنسية قبل أن تنتقل إلى باريس."},{english:"By the time I arrived, everyone had gone.",arabic:"بحلول الوقت الذي وصلت فيه، كان الجميع قد غادروا."},{english:"I couldn't get on the plane because I had forgotten my ticket.",arabic:"لم أتمكن من ركوب الطائرة لأنني كنت قد نسيت تذكرتي."},{english:"They had eaten all the food before I got there.",arabic:"كانوا قد أكلوا كل الطعام قبل أن أصل إلى هناك."},{english:"I knew the city well because I had visited it many times.",arabic:"كنت أعرف المدينة جيدًا لأنني كنت قد زرتها عدة مرات."}],mcqs:[{question:"Complete: 'The patient ___ by the time the doctor arrived.'",options:["died","was dying","had died","dies"],answer:"had died"},{question:"Complete: 'He told me he ___ my book.'",options:["lost","had lost","was losing","has lost"],answer:"had lost"}],story:{title:"From a Personal Memoir",summary:"I went back to my old town last year. It had changed a lot. They tore down the school that I had attended as a boy. The beautiful park where I had played was now a shopping mall. I visited the house where I grew up; a new family lived there now. They were friendly because the previous owner had told them all about my family."}},{type:"lesson",title:"Unit 3: Past Passive",explanation:"The passive voice in the past. Past Simple Passive: was/were + past participle. Past Perfect Passive: had been + past participle.",examples:[{english:"A Farewell to Arms was written by Ernest Hemingway.",arabic:"رواية 'وداعًا للسلاح' كُتبت بواسطة إرنست همنغواي."},{english:"The window was broken yesterday.",arabic:"كُسرت النافذة أمس."},{english:"The work had been finished before he arrived.",arabic:"كان العمل قد أُنجز قبل وصوله."},{english:"This bridge was built in 1950.",arabic:"تم بناء هذا الجسر في عام 1950."},{english:"The car was stolen last night.",arabic:"سُرقت السيارة الليلة الماضية."},{english:"He was told to wait outside.",arabic:"قيل له أن ينتظر في الخارج."},{english:"The letters were sent a week ago.",arabic:"أُرسلت الرسائل قبل أسبوع."},{english:"The room had been cleaned before they checked in.",arabic:"كانت الغرفة قد نُظفت قبل أن يسجلوا دخولهم."},{english:"Was this film directed by Spielberg?",arabic:"هل أخرج هذا الفيلم سبيلبرغ؟"},{english:"The thieves were arrested by the police.",arabic:"تم القبض على اللصوص من قبل الشرطة."}],mcqs:[{question:"Change to passive: 'Shakespeare wrote Hamlet.'",options:["Hamlet was wrote by Shakespeare.","Hamlet was written by Shakespeare.","Hamlet is written by Shakespeare.","Hamlet had written by Shakespeare."],answer:"Hamlet was written by Shakespeare."},{question:"Complete: 'The Pyramids ___ by the ancient Egyptians.'",options:["built","were building","are built","were built"],answer:"were built"}],story:{title:"From a History Book",summary:"The great castle was built in the 12th century. Its walls were made of stone, and it was surrounded by a deep moat. Many battles were fought there. The castle was captured in 1485. After that, it was used as a prison for many years. Important letters had been hidden in the walls, but they were not discovered for centuries. Finally, the castle was restored in the 1990s and opened to the public."}},{type:"lesson",title:"Unit 3: Giving Opinions",explanation:"To give opinions, you can use phrases like 'What did you think of...?', 'It was really...', 'I think...', and 'In my opinion...'. This is key for expressing your feelings about films, books, food, and more.",examples:[{english:"What did you think of the play? - It was really boring.",arabic:"ما رأيك في المسرحية؟ - كانت مملة حقًا."},{english:"I think they spoil their children.",arabic:"أعتقد أنهم يفسدون أطفالهم."},{english:"In my opinion, the first book was better.",arabic:"في رأيي، كان الكتاب الأول أفضل."},{english:"How was your holiday? - It was fantastic!",arabic:"كيف كانت عطلتك؟ - كانت رائعة!"},{english:"The food was delicious, don't you think?",arabic:"كان الطعام لذيذًا، ألا تعتقد ذلك؟"},{english:"I found the movie a bit confusing.",arabic:"لقد وجدت الفيلم مربكًا بعض الشيء."},{english:"To be honest, I didn't like it very much.",arabic:"لأكون صادقًا، لم يعجبني كثيرًا."},{english:"What's your opinion on the new law?",arabic:"ما هو رأيك في القانون الجديد؟"},{english:"I feel that we should do more to help.",arabic:"أشعر أنه يجب علينا أن نفعل المزيد للمساعدة."},{english:"For me, the best part was the ending.",arabic:"بالنسبة لي، كان الجزء الأفضل هو النهاية."}],mcqs:[{question:"What is a polite way to ask for an opinion on a film?",options:["Did you like the film?","Tell me about the film.","What did you think of the film?","Was the film good?"],answer:"What did you think of the film?"},{question:"Which phrase can start an opinion?",options:["I know...","For example...","In my opinion...","The fact is..."],answer:"In my opinion..."}],story:{title:"From a Film Review",summary:"What did I think of the new sci-fi movie? In my opinion, it was a masterpiece. The special effects were incredible. For me, the acting was the best part. However, some people will find the story a bit slow. I think it's a film that makes you think. To be honest, it's not for everyone, but I feel it's one of the best films of the year."}},{type:"lesson",title:"Unit 4: Modals of Obligation (have to, must)",explanation:"'have (got) to' and 'must' both express strong obligation. 'have to' is common for external rules (laws, work rules). 'must' is often for personal obligations or strong advice. 'don't have to' means no obligation. 'mustn't' means prohibition.",examples:[{english:"Children have to go to school.",arabic:"يجب على الأطفال الذهاب إلى المدرسة."},{english:"I must remember to call my mother.",arabic:"يجب أن أتذكر الاتصال بوالدتي."},{english:"You don't have to come if you're busy.",arabic:"ليس عليك أن تأتي إذا كنت مشغولاً."},{english:"You mustn't smoke in the hospital.",arabic:"يجب ألا تدخن في المستشفى."},{english:"In England, you have to drive on the left.",arabic:"في إنجلترا، يجب عليك القيادة على اليسار."},{english:"I've got to go now. Bye!",arabic:"يجب أن أذهب الآن. وداعًا!"},{english:"You must write to us every week.",arabic:"يجب أن تكتب لنا كل أسبوع."},{english:"She has to wear a uniform for her job.",arabic:"يجب عليها ارتداء زي رسمي لعملها."},{english:"We don't have to pay for the tickets.",arabic:"ليس علينا دفع ثمن التذاكر."},{english:"You mustn't be late for the exam.",arabic:"يجب ألا تتأخر عن الامتحان."}],mcqs:[{question:"Which means it is NOT necessary?",options:["mustn't","have to","don't have to","must"],answer:"don't have to"},{question:"Complete: 'At our school, we ___ wear a uniform.'",options:["must","should","don't have to","have to"],answer:"have to"}],story:{title:"From a Company Handbook",summary:"All employees have to arrive by 9 AM. You must complete your timesheets every Friday. For security, you must wear your ID badge at all times. You mustn't share your password with anyone. If you are sick, you have to call your manager before 9 AM. You don't have to work on weekends, but you must attend the monthly team meeting."}},{type:"lesson",title:"Unit 4: Modals of Permission & Advice (can, should)",explanation:"'can' and 'be allowed to' are used to express permission (what is okay to do). 'should' is used to give advice or make a suggestion.",examples:[{english:"You can use my phone if you like.",arabic:"يمكنك استخدام هاتفي إذا أردت."},{english:"We're allowed to wear jeans on Fridays.",arabic:"يُسمح لنا بارتداء الجينز أيام الجمعة."},{english:"I think we should take traveller's cheques.",arabic:"أعتقد أنه يجب علينا أن نأخذ شيكات سياحية."},{english:"You look tired. You should get some sleep.",arabic:"تبدو متعبًا. يجب أن تحصل على قسط من النوم."},{english:"Can I go to the party?",arabic:"هل يمكنني الذهاب إلى الحفلة؟"},{english:"You aren't allowed to park here.",arabic:"غير مسموح لك بركن السيارة هنا."},{english:"You should see a doctor about that cough.",arabic:"يجب أن تراجع طبيبًا بخصوص تلك السعلة."},{english:"He shouldn't eat so much sugar.",arabic:"لا ينبغي له أن يأكل الكثير من السكر."},{english:"Am I allowed to take photos in the museum?",arabic:"هل يُسمح لي بالتقاط صور في المتحف؟"},{english:"I don't think you should work so hard.",arabic:"لا أعتقد أنه يجب عليك العمل بجد."}],mcqs:[{question:"To give advice, you use...",options:["can","must","should","have to"],answer:"should"},{question:"Complete: 'You ___ park here. It's not allowed.'",options:["can","can't","should","shouldn't"],answer:"can't"}],story:{title:"From a Mentor's Advice",summary:"I asked my mentor for advice. 'I think you should focus on your strengths,' she said. 'You can achieve anything you want, but you shouldn't try to do everything at once.' I asked, 'Can I take a risk and start my own business?' She replied, 'Yes, you are allowed to dream big. But you should create a solid plan first. And you shouldn't listen to negative people.'"}},{type:"lesson",title:"Unit 4: Nationality Words",explanation:"Nationality adjectives (e.g., French, Spanish) can also refer to the people of that country (the French, the Spanish). Some words are different for the country, adjective, and people (e.g., Scotland, Scottish, the Scots).",examples:[{english:"She is from Italy. She's Italian.",arabic:"هي من إيطاليا. هي إيطالية."},{english:"The Japanese are known for their politeness.",arabic:"يشتهر اليابانيون بأدبهم."},{english:"He loves French food.",arabic:"يحب الطعام الفرنسي."},{english:"My new neighbor is Canadian.",arabic:"جاري الجديد كندي."},{english:"The Spanish love tapas.",arabic:"يحب الإسبان المقبلات (تاباس)."},{english:"This watch is Swiss.",arabic:"هذه الساعة سويسرية."},{english:"The Germans make excellent cars.",arabic:"يصنع الألمان سيارات ممتازة."},{english:"We visited a Greek island.",arabic:"زرنا جزيرة يونانية."},{english:"The Brazilians are famous for football.",arabic:"يشتهر البرازيليون بكرة القدم."},{english:"The language of Egypt is Arabic.",arabic:"لغة مصر هي العربية."}],mcqs:[{question:"What is the adjective for Holland (the Netherlands)?",options:["Hollandic","Netherland","Dutch","Hollish"],answer:"Dutch"},{question:"What do you call people from Sweden?",options:["Swedish","The Swedishes","The Swedes","Swedens"],answer:"The Swedes"}],story:{title:"From an International Cookbook",summary:"This book explores global cuisine. It features Italian pasta and French pastries. You can learn how to make Japanese sushi or spicy Mexican tacos. The Brazilians offer delicious barbecue, while the Germans are famous for their sausages. A popular Greek dish is moussaka, and of course, no book is complete without the classic English breakfast."}},{type:"lesson",title:"Unit 4: Requests and Offers",explanation:"To make polite requests, use 'Could you...?' or 'Would you...?'. To make offers, use 'Can I...?', 'I'll...', or 'Shall I...?'. Intonation is important to sound polite.",examples:[{english:"Could you bring us the bill, please?",arabic:"هل يمكنك إحضار الفاتورة لنا، من فضلك؟"},{english:"Would you mind opening the window?",arabic:"هل تمانع في فتح النافذة؟"},{english:"Can I help you?",arabic:"هل يمكنني مساعدتك؟"},{english:"I'll give you a lift if you like.",arabic:"سأوصلك إذا أردت."},{english:"Shall I make some coffee?",arabic:"هل أُعد بعض القهوة؟"},{english:"Could you tell me the time, please?",arabic:"هل يمكنك إخباري بالوقت، من فضلك؟"},{english:"Would you pass the salt, please?",arabic:"هل يمكنك تمرير الملح، من فضلك؟"},{english:"Can I get you anything?",arabic:"هل يمكنني أن أحضر لك شيئًا؟"},{english:"I'll answer the phone.",arabic:"سأرد على الهاتف."},{english:"Shall I carry your bag?",arabic:"هل أحمل حقيبتك؟"}],mcqs:[{question:"Which is a polite request?",options:["Give me the book.","I want the book.","Can you pass me the book?","Could you pass me the book, please?"],answer:"Could you pass me the book, please?"},{question:"Which is an offer?",options:["I need help.","Help me.","Shall I help you?","You should help me."],answer:"Shall I help you?"}],story:{title:"From a Helpful Neighbor Story",summary:"My new neighbor is very kind. 'Can I help you with those boxes?' he asked when I was moving in. 'That's okay, but could you tell me where the post office is?' I asked. 'Of course,' he said. 'I'll draw you a map.' Later, he saw me struggling with a flat tire. 'Shall I change that for you?' he offered. 'Would you?' I said, relieved. 'I'll have it done in no time,' he smiled."}},{type:"lesson",title:"Unit 5: Future Forms (going to, will, Present Continuous)",explanation:"Use 'going to' for plans made before speaking. Use 'will' for instant decisions, offers, and predictions. Use Present Continuous for fixed arrangements in the near future.",examples:[{english:"I'm going to buy some milk. (It's on my list)",arabic:"سأشتري بعض الحليب. (هو على قائمتي)"},{english:"The phone is ringing. I'll get it! (Instant decision)",arabic:"الهاتف يرن. سأرد عليه! (قرار فوري)"},{english:"We're playing tennis this afternoon. (Arrangement)",arabic:"سنلعب التنس بعد ظهر هذا اليوم. (ترتيب)"},{english:"Look at those black clouds! It's going to rain.",arabic:"انظر إلى تلك الغيوم السوداء! ستمطر."},{english:"I think it will be a nice day tomorrow.",arabic:"أعتقد أنه سيكون يومًا لطيفًا غدًا."},{english:"He's flying to Rome next Tuesday.",arabic:"سيسافر إلى روما يوم الثلاثاء المقبل."},{english:"I'll help you with that heavy bag.",arabic:"سأساعدك في حمل تلك الحقيبة الثقيلة."},{english:"They are going to move to a new house next year.",arabic:"سينتقلون إلى منزل جديد العام المقبل."},{english:"What are you doing this evening?",arabic:"ماذا تفعل هذا المساء؟"},{english:"Don't worry, it won't happen again.",arabic:"لا تقلق، لن يحدث ذلك مرة أخرى."}],mcqs:[{question:"Complete: 'I've already decided. I ___ a new car.'",options:["will buy","am going to buy","am buying","buy"],answer:"am going to buy"},{question:"Complete: 'Don't worry, I ___ you with your bags.'",options:["am helping","am going to help","will help","help"],answer:"will help"}],story:{title:"From a Project Manager's Email",summary:"Next week, we are launching the new product. It is a fixed date. I am going to present the marketing plan at the meeting on Monday. Oh, the phone is ringing, I'll get it. I think the launch will be very successful. The team has worked hard, and I am sure customers will love it."}},{type:"lesson",title:"Unit 5: Questions with 'like'",explanation:"'What's she like?' asks about personality. 'What does she look like?' asks about physical appearance. 'What does she like doing?' asks about hobbies and interests.",examples:[{english:"What's your teacher like? - She's very kind and patient.",arabic:"كيف هي معلمتك؟ - هي لطيفة جداً وصبورة."},{english:"What does she look like? - She's tall and has long, dark hair.",arabic:"كيف تبدو؟ - هي طويلة ولها شعر داكن طويل."},{english:"What does she like doing? - She likes dancing and music.",arabic:"ماذا تحب أن تفعل؟ - تحب الرقص والموسيقى."},{english:"What's the new boss like? - He seems very serious.",arabic:"كيف هو المدير الجديد؟ - يبدو جادًا جدًا."},{english:"What does your brother look like? - He looks like my father.",arabic:"كيف يبدو أخوك؟ - يشبه والدي."},{english:"What do they like eating? - They like spicy food.",arabic:"ماذا يحبون أن يأكلوا؟ - يحبون الطعام الحار."},{english:"What was the weather like? - It was cold and windy.",arabic:"كيف كان الطقس؟ - كان باردًا وعاصفًا."},{english:"What's his new flat like? - It's small but very modern.",arabic:"كيف هي شقته الجديدة؟ - إنها صغيرة لكنها حديثة جدًا."},{english:"What would you like for dinner? - I'd like a pizza.",arabic:"ماذا تود أن تتناول على العشاء؟ - أود بيتزا."},{english:"I like my coffee black with no sugar.",arabic:"أحب قهوتي سوداء بدون سكر."}],mcqs:[{question:"Which question asks about appearance?",options:["What's he like?","How is he?","What does he look like?","What does he like?"],answer:"What does he look like?"},{question:"How would you answer 'What's London like?'",options:["It's in England.","It's a huge, exciting city.","I like it.","It looks big."],answer:"It's a huge, exciting city."}],story:{title:"From a Character Description in a Novel",summary:"The detective entered. What did he look like? He was tall and wore a long coat. What was he like? He was quiet and observant. He didn't talk much. And what did he like doing? He liked solving puzzles and drinking black coffee. When his partner asked, 'What would you like to do now?', he simply replied, 'I'd like to ask some questions.'"}},{type:"lesson",title:"Unit 5: Vocabulary of Weather",explanation:"Learn to describe the weather using adjectives (sunny, windy, foggy), nouns (sunshine, wind, fog), and verbs (The sun is shining, It's raining).",examples:[{english:"It's a sunny day today.",arabic:"إنه يوم مشمس اليوم."},{english:"The wind is blowing hard.",arabic:"الرياح تهب بقوة."},{english:"The forecast is for heavy rain tomorrow.",arabic:"التوقعات تشير إلى أمطار غزيرة غداً."},{english:"I can't see anything in this fog.",arabic:"لا أستطيع رؤية أي شيء في هذا الضباب."},{english:"There was a big storm last night.",arabic:"كانت هناك عاصفة كبيرة الليلة الماضية."},{english:"The sun is shining brightly.",arabic:"الشمس تشرق ببراعة."},{english:"It's freezing outside, there's ice on the road.",arabic:"الجو متجمد في الخارج، هناك جليد على الطريق."},{english:"The sky is very cloudy this morning.",arabic:"السماء غائمة جداً هذا الصباح."},{english:"I love the feeling of warm sunshine on my face.",arabic:"أحب شعور أشعة الشمس الدافئة على وجهي."},{english:"What's the temperature today?",arabic:"كم درجة الحرارة اليوم؟"}],mcqs:[{question:"The noun form of 'snowy' is:",options:["snowing","snow","snowed","snows"],answer:"snow"},{question:"What do you call rain and strong wind together?",options:["A storm","A fog","A shine","An ice"],answer:"A storm"}],story:{title:"From a Ship Captain's Log",summary:"The morning was foggy, and a cold wind was blowing. The sea was rough. By midday, the sun was shining and the clouds disappeared. We hoped for good weather. But the forecast warned of a storm. In the evening, the sky became dark and heavy rain began to fall. The icy wind howled. It was a terrible night."}},{type:"lesson",title:"Unit 5: Travelling Around",explanation:"Different modes of transport have specific vocabulary. On a bus, you ask for a 'stop'. On a train, you look for a 'platform'. On a plane, you have 'hand luggage' and wait for 'landing'.",examples:[{english:"Could you tell me when it's my stop?",arabic:"هل يمكنك إخباري متى تكون محطتي؟ (على الحافلة)"},{english:"Which platform does the train to Manchester leave from?",arabic:"من أي رصيف يغادر القطار المتجه إلى مانشستر؟"},{english:"We're beginning our descent soon.",arabic:"سنبدأ هبوطنا قريبًا. (على الطائرة)"},{english:"You can keep the change.",arabic:"يمكنك الاحتفاظ بالباقي. (لسائق التاكسي)"},{english:"Do you think it'll be a rough crossing?",arabic:"هل تعتقد أنها ستكون رحلة بحرية صعبة؟ (على العبارة)"},{english:"Take the Piccadilly Line and change at Green Park.",arabic:"استقل خط بيكاديللي وغير في جرين بارك. (في مترو الأنفاق)"},{english:"Can I take this bag as hand luggage?",arabic:"هل يمكنني أخذ هذه الحقيبة كأمتعة يدوية؟"},{english:"I'd like a single ticket to Oxford, please.",arabic:"أود تذكرة ذهاب فقط إلى أكسفورد، من فضلك."},{english:"Please fasten your seatbelts.",arabic:"يرجى ربط أحزمة الأمان."},{english:"Could you drop me off at the corner?",arabic:"هل يمكنك إنزالي عند الزاوية؟ (في سيارة أجرة)"}],mcqs:[{question:"Where do you wait for a train?",options:["At a bus stop","At a platform","At a gate","At a terminal"],answer:"At a platform"},{question:"What do you call the small bag you take on a plane?",options:["Baggage","Suitcase","Hand luggage","Cargo"],answer:"Hand luggage"}],story:{title:"From a Backpacker's Blog",summary:"My journey started in a taxi. 'Could you take me to the station?' I asked. From there, I bought a ticket and found the right platform. The train was crowded. Then I took the underground to the airport. At check-in, they weighed my luggage. 'You can only take one piece of hand luggage,' the attendant said. Finally, on the plane, the captain announced, 'Please fasten your seatbelts, we are preparing for landing.'"}},{type:"lesson",title:"Unit 6: Verb Patterns",explanation:"Different verbs are followed by different patterns. Verb + -ing (e.g., enjoy, finish, avoid). Verb + to-infinitive (e.g., want, decide, hope). Verb + object + to-infinitive (e.g., ask someone to do, tell someone to do). Verb + object + infinitive (no 'to') (e.g., make someone do, let someone do).",examples:[{english:"I enjoy meeting your friends.",arabic:"أستمتع بمقابلة أصدقائك."},{english:"I wanted to say thank you.",arabic:"أردت أن أقول شكراً لك."},{english:"You made me feel welcome.",arabic:"لقد جعلتني أشعر بالترحاب."},{english:"My aunt wanted me to stay longer.",arabic:"أرادت عمتي أن أبقى لفترة أطول."},{english:"He promised to call me.",arabic:"وعد بأن يتصل بي."},{english:"I don't mind waiting.",arabic:"لا أمانع في الانتظار."},{english:"She let him borrow her car.",arabic:"سمحت له باستعارة سيارتها."},{english:"They decided to move to a new city.",arabic:"قرروا الانتقال إلى مدينة جديدة."},{english:"I look forward to hearing from you.",arabic:"أتطلع إلى الاستماع منك."},{english:"My parents helped me do my homework.",arabic:"ساعدني والداي في أداء واجبي المنزلي."}],mcqs:[{question:"Complete: 'He promised ___ me.'",options:["calling","call","to call","called"],answer:"to call"},{question:"Complete: 'She avoids ___ junk food.'",options:["eating","to eat","eat","eats"],answer:"eating"},{question:"Complete: 'My parents let me ___ out late.'",options:["to stay","staying","stay","to staying"],answer:"stay"}],story:{title:"From an Entrepreneur's Story",summary:"I decided to start my own business. My parents encouraged me to follow my dream. At first, it was difficult. I considered giving up many times. But my mentor advised me to keep trying. She made me believe in myself. She helped me find new customers. I enjoy being my own boss, although I don't mind working long hours."}},{type:"lesson",title:"Unit 6: Adjectives for Description",explanation:"Use a wide range of adjectives to describe food (fresh, tasteless), towns (polluted, historic), and people (sociable, sophisticated).",examples:[{english:"The food at that restaurant was delicious.",arabic:"كان الطعام في ذلك المطعم لذيذاً."},{english:"Venice is a historic and beautiful city.",arabic:"البندقية مدينة تاريخية وجميلة."},{english:"He's a very outgoing and sociable person.",arabic:"هو شخص منفتح واجتماعي جداً."},{english:"This milk isn't fresh, it's old.",arabic:"هذا الحليب ليس طازجًا، إنه قديم."},{english:"The city center is very crowded on weekends.",arabic:"وسط المدينة مزدحم جداً في عطلات نهاية الأسبوع."},{english:"My grandfather is an elderly man.",arabic:"جدي رجل مسن."},{english:"The soup is tasteless, it needs more salt.",arabic:"الحساء لا طعم له، يحتاج إلى المزيد من الملح."},{english:"Some industrial towns can be very polluted.",arabic:"بعض المدن الصناعية يمكن أن تكون ملوثة جداً."},{english:"She is a very sophisticated woman.",arabic:"هي امرأة متطورة جداً."},{english:"I was bored because the film was boring.",arabic:"شعرت بالملل لأن الفيلم كان مملًا."}],mcqs:[{question:"Which adjective does NOT describe food?",options:["fresh","delicious","polluted","tasteless"],answer:"polluted"},{question:"A synonym for 'friendly and enjoys company' is:",options:["shy","rude","sociable","bored"],answer:"sociable"}],story:{title:"From a Travel Guide",summary:"This guide is for the sophisticated traveler. We will take you from the crowded, industrial cities to small, historic towns. You will meet sociable local people and eat delicious, fresh food. We avoid the polluted areas and show you the beautiful, unspoiled countryside. It is an exciting journey for anyone from young students to elderly couples."}},{type:"lesson",title:"Unit 6: Everyday English - Signs and Sounds",explanation:"Recognize common signs ('Dry clean only', 'Pay and Display') and understand common phrases you hear in public places ('Just looking, thanks.', 'We apologize for the delay...').",examples:[{english:"The sign says 'Do not iron trim.'",arabic:"تقول اللافتة 'لا تكوي الزخرفة'."},{english:"In a shop, an assistant asks 'Can I help you?' You can reply 'Just looking, thanks.'",arabic:"في متجر، يسأل المساعد 'هل يمكنني مساعدتك؟' يمكنك الرد 'أتصفح فقط، شكراً'."},{english:"Sign: 'All visitors must sign in.'",arabic:"لافتة: 'يجب على جميع الزوار تسجيل الدخول'."},{english:"On the radio: 'Coming up next - traffic, news, and the weather.'",arabic:"على الراديو: 'التالي - حركة المرور، الأخبار، والطقس'."},{english:"Sign on a jacket label: '100% NYLON. DRY CLEAN ONLY.'",arabic:"لافتة على ملصق سترة: '100٪ نايلون. تنظيف جاف فقط'."},{english:"Automated phone message: 'Please listen carefully to the following options.'",arabic:"رسالة هاتفية آلية: 'يرجى الاستماع بعناية إلى الخيارات التالية'."},{english:"Sign in a cloakroom: 'Coats and other articles left at owner's risk.'",arabic:"لافتة في غرفة المعاطف: 'المعاطف والأغراض الأخرى المتروكة على مسؤولية المالك'."},{english:"On a plane: 'Please place your tray tables in their fully upright and locked positions.'",arabic:"على متن طائرة: 'يرجى وضع طاولاتكم في وضعها العمودي الكامل والمغلق'."},{english:"In a restaurant: 'PLEASE WAIT TO BE SEATED.'",arabic:"في مطعم: 'يرجى الانتظار ليتم إجلاسكم'."},{english:"Train announcement: 'We apologize for the delay on the 18.13 service.'",arabic:"إعلان في القطار: 'نعتذر عن التأخير في خدمة الساعة 18.13'."}],mcqs:[{question:"Where would you see a 'Pay and Display' sign?",options:["In a library","In a car park","In a restaurant","On a motorway"],answer:"In a car park"},{question:"What does 'Coats left at owner's risk' mean?",options:["The owner will look after your coat.","The establishment is not responsible if your coat is stolen.","You must leave your coat here.","You can buy a coat at your own risk."],answer:"The establishment is not responsible if your coat is stolen."}],story:{title:"From a Tourist's Frustrating Day",summary:"I went into a shop. 'Can I help you?' the assistant asked. 'Just looking, thanks,' I replied. Then I went to a restaurant with a sign saying 'PLEASE WAIT TO BE SEATED'. I waited for ages. Finally, I went to the station. The announcer said, 'We apologize for the delay...' I just wanted to go home."}},{type:"lesson",title:"Unit 7: Present Perfect vs. Past Simple",explanation:"Use Past Simple for finished actions at a specific time in the past (e.g., 'I worked for the BBC'). Use Present Perfect for actions over a period of time up to now, or past actions with a present result (e.g., 'I've worked there for five years').",examples:[{english:"I have worked there for five years. (I still work there)",arabic:"لقد عملت هناك لمدة خمس سنوات. (ما زلت أعمل هناك)"},{english:"I worked for the BBC. (I don't work there now)",arabic:"عملت في بي بي سي. (أنا لا أعمل هناك الآن)"},{english:"I went to Spain in 2010.",arabic:"ذهبت إلى إسبانيا في عام 2010."},{english:"I have been to Spain three times.",arabic:"لقد زرت إسبانيا ثلاث مرات."},{english:"She has lost her keys. (She can't find them now)",arabic:"لقد فقدت مفاتيحها. (لا تستطيع العثور عليها الآن)"},{english:"She lost her keys yesterday. (A finished past action)",arabic:"فقدت مفاتيحها أمس. (فعل ماضٍ منتهٍ)"},{english:"Have you ever eaten sushi?",arabic:"هل أكلت السوشي من قبل؟"},{english:"When did you go to Japan?",arabic:"متى ذهبت إلى اليابان؟"},{english:"I've just finished my homework.",arabic:"لقد أنهيت واجبي للتو."},{english:"I finished my homework an hour ago.",arabic:"أنهيت واجبي قبل ساعة."}],mcqs:[{question:"Complete: 'She ___ her leg, so she can't play tennis today.'",options:["broke","has broken","had broken","breaks"],answer:"has broken"},{question:"Complete: 'Mozart ___ more than 600 pieces of music.'",options:["has written","wrote","was writing","writes"],answer:"wrote"}],story:{title:"From an Interview with an Author",summary:"I started writing when I was a child. I wrote my first book in 2010. Since then, I have written five more. I have lived in many countries, which has given me ideas for my stories. Last year I went to Brazil to do research. I have never been to Russia, but I would like to go. I have just finished my latest novel. I finished it two weeks ago."}},{type:"lesson",title:"Unit 7: Present Perfect Passive",explanation:"The passive form of the Present Perfect is 'have/has been + past participle'. It's used when the action is more important than who did it, for experiences or recent events.",examples:[{english:"Two novelists have been awarded the prize.",arabic:"مُنح روائيان الجائزة."},{english:"My car has been stolen!",arabic:"لقد سُرقت سيارتي!"},{english:"Have you ever been bitten by a dog?",arabic:"هل عضك كلب من قبل؟"},{english:"The new hospital has been opened.",arabic:"تم افتتاح المستشفى الجديد."},{english:"Two hundred homes have been washed away by the flood.",arabic:"جرفت الفيضانات مائتي منزل."},{english:"The windows haven't been cleaned for weeks.",arabic:"لم يتم تنظيف النوافذ منذ أسابيع."},{english:"Has my package been delivered yet?",arabic:"هل تم توصيل طردي بعد؟"},{english:"This book has been translated into many languages.",arabic:"تُرجم هذا الكتاب إلى العديد من اللغات."},{english:"The road is closed. There has been an accident.",arabic:"الطريق مغلق. لقد وقع حادث."},{english:"She hasn't been seen for three days.",arabic:"لم يتم رؤيتها لمدة ثلاثة أيام."}],mcqs:[{question:"Change to passive: 'They have built a new bridge.'",options:["A new bridge was built.","A new bridge has been building.","A new bridge has been built.","A new bridge is built."],answer:"A new bridge has been built."},{question:"Complete: 'This book ___ into fifty languages.'",options:["is translated","has translated","has been translated","was being translated"],answer:"has been translated"}],story:{title:"From a News Report",summary:"A new museum has just been opened in the city center. The building has been designed by a famous architect. Over five million dollars has been spent on the project. The main collection has been donated by a private collector. Many famous paintings have been included. The museum has already been visited by thousands of people."}},{type:"lesson",title:"Unit 7: Phrasal Verbs",explanation:"A phrasal verb = verb + particle (e.g., look after, turn on). Some are separable (you can put the object in the middle: 'turn it on'). Some are inseparable ('look after the baby').",examples:[{english:"She looked out of the window. (Literal)",arabic:"نظرت من النافذة. (حرفي)"},{english:"Look out! A car is coming. (Idiomatic, means be careful)",arabic:"انتبه! سيارة قادمة. (اصطلاحي، يعني كن حذراً)"},{english:"Please turn the music down.",arabic:"من فضلك اخفض صوت الموسيقى."},{english:"I need to look after my little sister.",arabic:"أنا بحاجة إلى رعاية أختي الصغيرة."},{english:"He made up a crazy story.",arabic:"لقد اختلق قصة مجنونة."},{english:"Don't give up! Keep trying.",arabic:"لا تستسلم! استمر في المحاولة."},{english:"They have put off the meeting until next week.",arabic:"لقد أجلوا الاجتماع حتى الأسبوع المقبل."},{english:"I'll pick you up from the station at 6.",arabic:"سأقلك من المحطة في الساعة 6."},{english:"She takes after her mother.",arabic:"هي تشبه والدتها."},{english:"He ran out of money.",arabic:"نفد ماله."}],mcqs:[{question:"Which phrasal verb means 'to postpone'?",options:["put on","put away","put off","put up"],answer:"put off"},{question:"Which sentence is correct?",options:["Turn on it.","Turn it on.","On turn it.","It turn on."],answer:"Turn it on."}],story:{title:"From a Student's Diary",summary:"I have to look after my little brother today. It's hard to get on with him sometimes. I told him to turn down the TV, but he turned it up! I wanted to call my friend, but I'll have to put it off. I can't wait for my mum to pick me up. I feel like I'm going to run out of patience soon! I won't give up, though."}},{type:"lesson",title:"Unit 7: On the Phone",explanation:"Learn essential phrases for phone calls, such as 'Can I take a message?', 'Would you like to hold?', and 'I'll put you through'.",examples:[{english:"Hello, can I speak to Mr. Smith, please?",arabic:"مرحبًا، هل يمكنني التحدث إلى السيد سميث، من فضلك؟"},{english:"I'm sorry, he's not here at the moment. Can I take a message?",arabic:"أنا آسف، هو ليس هنا في الوقت الحالي. هل يمكنني أخذ رسالة؟"},{english:"The line's engaged. Would you like to hold?",arabic:"الخط مشغول. هل تود الانتظار؟"},{english:"Could you tell him that Sarah called?",arabic:"هل يمكنك إخباره بأن سارة اتصلت؟"},{english:"I'll put you through to the sales department.",arabic:"سأوصلك بقسم المبيعات."},{english:"Who's calling, please?",arabic:"من المتصل، من فضلك؟"},{english:"I'm afraid you've got the wrong number.",arabic:"أخشى أنك طلبت الرقم الخطأ."},{english:"Can you speak up, please? It's a bad line.",arabic:"هل يمكنك التحدث بصوت أعلى، من فضلك؟ الخط سيء."},{english:"I'll call you back in five minutes.",arabic:"سأتصل بك مرة أخرى في غضون خمس دقائق."},{english:"Thanks for calling. Goodbye.",arabic:"شكرًا لاتصالك. وداعًا."}],mcqs:[{question:"What do you say if the person you want to talk to is busy on another call?",options:["The line's engaged.","He's not here.","Wrong number.","Hold on."],answer:"The line's engaged."},{question:"What does 'to put someone through' mean?",options:["To end the call","To take a message","To connect them to someone else","To call them back"],answer:"To connect them to someone else"}],story:{title:"From a Receptionist's Training Manual",summary:"When you answer, say the company name. Ask, 'Who's calling, please?' If the person they want is busy, say, 'The line's engaged. Would you like to hold?' If they are unavailable, ask, 'Can I take a message?' If you need to connect them to another department, say, 'One moment, I'll put you through.' If it's a bad connection, you can say, 'Can you speak up, please?'"}},{type:"lesson",title:"Unit 8: First Conditional",explanation:"The First Conditional is for real possibilities in the future. Structure: If + Present Simple, ... will/won't + verb. It talks about a possible future condition and its probable result.",examples:[{english:"If I see Anna, I'll tell her.",arabic:"إذا رأيت آنا، سأخبرها."},{english:"If you don't study, you won't pass the exam.",arabic:"إذا لم تدرس، فلن تنجح في الامتحان."},{english:"What will you do if it rains?",arabic:"ماذا ستفعل إذا أمطرت؟"},{english:"If we hurry, we'll catch the bus.",arabic:"إذا أسرعنا، سنلحق بالحافلة."},{english:"If he calls, I'll let you know.",arabic:"إذا اتصل، سأخبرك."},{english:"You'll be tired tomorrow if you don't go to bed soon.",arabic:"ستكون متعبًا غدًا إذا لم تذهب إلى الفراش قريبًا."},{english:"If I have enough money, I'll buy a new phone.",arabic:"إذا كان لدي ما يكفي من المال، سأشتري هاتفًا جديدًا."},{english:"She'll be upset if you don't invite her.",arabic:"ستنزعج إذا لم تدعها."},{english:"If they win the match, they will celebrate.",arabic:"إذا فازوا بالمباراة، سيحتفلون."},{english:"I won't go unless you come with me.",arabic:"لن أذهب إلا إذا أتيت معي."}],mcqs:[{question:"Complete: 'If you ___ hard, you will succeed.'",options:["work","will work","worked","would work"],answer:"work"},{question:"Complete: 'I'll call you when I ___.'",options:["will arrive","arrive","am arriving","arrived"],answer:"arrive"}],story:{title:"From 'The Paradox of Choice'",summary:"If you have too many options, you will find it difficult to choose. If you finally make a choice, you will probably feel less satisfied with it. You will worry about the other options you didn't pick. If you want to be happier, you will need to limit your choices. If you only have a few good options, you'll feel more confident in your decision."}},{type:"lesson",title:"Unit 8: Second Conditional",explanation:"The Second Conditional is for hypothetical or unreal situations in the present or future. Structure: If + Past Simple, ... would/wouldn't + verb. We often use 'were' instead of 'was' for all persons.",examples:[{english:"If I had £5 million, I'd buy an island.",arabic:"لو كان لدي 5 ملايين جنيه، لاشتريت جزيرة."},{english:"If I were you, I would apologize.",arabic:"لو كنت مكانك، لاعتذرت."},{english:"What would you do if you saw a ghost?",arabic:"ماذا كنت ستفعل لو رأيت شبحًا؟"},{english:"If I lived by the sea, I would go swimming every day.",arabic:"لو كنت أعيش بجوار البحر، لذهبت للسباحة كل يوم."},{english:"He would be happier if he had a different job.",arabic:"سيكون أكثر سعادة لو كان لديه وظيفة مختلفة."},{english:"If I knew her number, I would call her.",arabic:"لو كنت أعرف رقمها، لاتصلت بها."},{english:"Where would you go if you could travel anywhere?",arabic:"إلى أين ستذهب لو كان بإمكانك السفر إلى أي مكان؟"},{english:"They wouldn't do that if they knew the truth.",arabic:"لم يكونوا ليفعلوا ذلك لو عرفوا الحقيقة."},{english:"If we had more time, we could visit the museum.",arabic:"لو كان لدينا المزيد من الوقت، لكان بإمكاننا زيارة المتحف."},{english:"I wouldn't worry if I were you.",arabic:"لم أكن لأقلق لو كنت مكانك."}],mcqs:[{question:"Complete: 'If I ___ the president, I would change many things.'",options:["am","was","will be","were"],answer:"were"},{question:"Complete: 'She ___ travel more if she had more money.'",options:["will","would","is going to","can"],answer:"would"}],story:{title:"From 'The Alchemist'",summary:"A shepherd boy has a dream. If he travelled to the pyramids in Egypt, he would find a great treasure. He thinks, 'If I sold my sheep, I would have enough money for the journey.' His father says, 'If you had everything you wanted, you wouldn't be happy. The journey is the treasure.' What would you do if you were him? It's an imaginary situation, but it makes you think."}},{type:"lesson",title:"Unit 8: Base and Strong Adjectives",explanation:"Some adjectives are 'base' (e.g., good, tired) and can be modified with 'very'. 'Strong' adjectives already have 'very' in their meaning (e.g., wonderful, exhausted) and are modified with 'absolutely' or 'really'.",examples:[{english:"I was very tired after the long journey.",arabic:"كنت متعبًا جدًا بعد الرحلة الطويلة."},{english:"The film wasn't just good, it was absolutely wonderful.",arabic:"لم يكن الفيلم جيدًا فحسب، بل كان رائعًا للغاية."},{english:"She was absolutely exhausted, not just tired.",arabic:"كانت منهكة تمامًا، وليس مجرد متعبة."},{english:"The weather is very cold today.",arabic:"الطقس بارد جدًا اليوم."},{english:"The weather is absolutely freezing!",arabic:"الطقس متجمد تمامًا!"},{english:"The story was very interesting.",arabic:"كانت القصة مثيرة للاهتمام جدًا."},{english:"The story was really fascinating.",arabic:"كانت القصة رائعة حقًا."},{english:"That's a very big house.",arabic:"هذا منزل كبير جدًا."},{english:"That house is absolutely enormous!",arabic:"هذا المنزل ضخم للغاية!"},{english:"I'm very hungry.",arabic:"أنا جائع جدًا."}],mcqs:[{question:"Which is a strong adjective for 'bad'?",options:["not good","terrible","very bad","worse"],answer:"terrible"},{question:"Which adverb can you use with 'exhausted'?",options:["very","a bit","absolutely","fairly"],answer:"absolutely"}],story:{title:"From a Restaurant Review",summary:"The restaurant was very nice, but the food was not just good, it was absolutely wonderful! My steak was very big, but my friend's was absolutely enormous! The dessert was very tasty. After the meal, I was not just tired, I was absolutely exhausted from eating so much. It was a really fantastic evening."}},{type:"lesson",title:"Unit 8: Making Suggestions",explanation:"Use phrases like 'Let's...', 'Why don't we...?', and 'How about...?' to make suggestions. These are useful for making plans with friends.",examples:[{english:"Let's go shopping!",arabic:"دعنا نذهب للتسوق!"},{english:"Why don't you ask your parents?",arabic:"لماذا لا تسأل والديك؟"},{english:"How about going to the cinema tonight?",arabic:"ماذا عن الذهاب إلى السينما الليلة؟"},{english:"We could have a picnic in the park.",arabic:"يمكننا أن نقيم نزهة في الحديقة."},{english:"What about ordering a pizza?",arabic:"ماذا عن طلب بيتزا؟"},{english:"Let's meet at the café at 7 o'clock.",arabic:"دعنا نلتقي في المقهى الساعة 7."},{english:"Why don't we try that new restaurant?",arabic:"لماذا لا نجرب ذلك المطعم الجديد؟"},{english:"How about playing a game of chess?",arabic:"ماذا عن لعب مباراة شطرنج؟"},{english:"Maybe we should start early.",arabic:"ربما يجب أن نبدأ مبكرًا."},{english:"I suggest we take a break now.",arabic:"أقترح أن نأخذ استراحة الآن."}],mcqs:[{question:"'How about' is followed by...",options:["verb (base form)","verb + -ing","to + verb","verb + -ed"],answer:"verb + -ing"},{question:"Which is NOT a suggestion?",options:["Let's go.","We must go.","Why don't we go?","We could go."],answer:"We must go."}],story:{title:"From a Brainstorming Session Transcript",summary:"Team leader: 'We need new ideas.' Mark: 'Let's try a different approach.' Sarah: 'Why don't we survey our customers?' Tom: 'How about creating a viral video?' Leader: 'Those are good ideas. We could also partner with an influencer. What about that? I suggest we explore all these options.'"}},{type:"lesson",title:"Unit 9: Modals of Probability (must, could, might, can't)",explanation:"Used to make logical deductions. 'must' = I'm almost sure it's true. 'might/could' = It's possible. 'can't' = I'm almost sure it's impossible.",examples:[{english:"You haven't eaten all day. You must be hungry.",arabic:"لم تأكل طوال اليوم. لا بد أنك جائع."},{english:"She isn't at home. She might be at work.",arabic:"هي ليست في المنزل. قد تكون في العمل."},{english:"That can't be John's car. He sold his car last week.",arabic:"لا يمكن أن تكون تلك سيارة جون. لقد باع سيارته الأسبوع الماضي."},{english:"He's very pale. He must be feeling ill.",arabic:"إنه شاحب جدًا. لا بد أنه يشعر بالمرض."},{english:"The phone is ringing. It could be my mother.",arabic:"الهاتف يرن. قد تكون والدتي."},{english:"You've been travelling all day. You must be tired.",arabic:"لقد كنت تسافر طوال اليوم. لا بد أنك متعب."},{english:"He's not answering his phone. He might be busy.",arabic:"إنه لا يرد على هاتفه. قد يكون مشغولاً."},{english:"She's only 24. She can't have a ten-year-old daughter!",arabic:"عمرها 24 عامًا فقط. لا يمكن أن يكون لديها ابنة تبلغ من العمر عشر سنوات!"},{english:"We may go to Greece for our holiday. We haven't decided yet.",arabic:"قد نذهب إلى اليونان في عطلتنا. لم نقرر بعد."},{english:"This bill can't be right. It's too expensive.",arabic:"لا يمكن أن تكون هذه الفاتورة صحيحة. إنها باهظة الثمن."}],mcqs:[{question:"Complete: 'The lights are off. They ___ be at home.'",options:["must","might","can't","should"],answer:"can't"},{question:"Complete: 'I'm not sure where my keys are. I ___ have left them in the car.'",options:["must","can't","could","should"],answer:"could"}],story:{title:"From a Sherlock Holmes story",summary:"The man is wearing expensive clothes, so he must be rich. His hands are rough, so he might be a manual laborer, but that can't be right if his clothes are so fine. He looks tired; he must have travelled a long way. He seems nervous. He could be in some kind of trouble. This may be a very interesting case."}},{type:"lesson",title:"Unit 9: Past Modals of Probability",explanation:"To make deductions about the past, use modal + have + past participle. 'must have' (I'm sure it happened). 'might/could have' (It possibly happened). 'can't have' (I'm sure it didn't happen).",examples:[{english:"The ground is wet. It must have rained last night.",arabic:"الأرض مبللة. لا بد أنها أمطرت الليلة الماضية."},{english:"He's late. He might have missed the bus.",arabic:"إنه متأخر. ربما فاته الحافلة."},{english:"She can't have finished the report already. It's too long.",arabic:"لا يمكن أن تكون قد أنهت التقرير بالفعل. إنه طويل جداً."},{english:"He looks happy. He must have passed his exam.",arabic:"يبدو سعيدًا. لا بد أنه نجح في امتحانه."},{english:"I can't find my keys. I could have left them at the office.",arabic:"لا أستطيع العثور على مفاتيحي. قد أكون تركتها في المكتب."},{english:"He didn't come to the party. He might not have known about it.",arabic:"لم يأت إلى الحفلة. ربما لم يكن يعرف عنها."},{english:"She knew all the answers. She must have studied a lot.",arabic:"كانت تعرف كل الإجابات. لا بد أنها درست كثيرًا."},{english:"You can't have seen him yesterday. He was in a different country.",arabic:"لا يمكن أن تكون قد رأيته أمس. لقد كان في بلد مختلف."},{english:"The window is broken. A bird could have flown into it.",arabic:"النافذة مكسورة. قد يكون طائر قد طار إليها."},{english:"He was very tired. He can't have slept well.",arabic:"كان متعبًا جدًا. لا يمكن أنه نام جيدًا."}],mcqs:[{question:"Complete: 'He failed the exam. He ___ studied very hard.'",options:["must have","can't have","could have","should have"],answer:"can't have"},{question:"Complete: 'I can't find my wallet. I ___ it at the restaurant.'",options:["must leave","can't have left","might have left","should leave"],answer:"might have left"}],story:{title:"From a Cold Case Detective File",summary:"The victim's wallet was empty. The killer must have taken the money. The door was locked, so the killer might have had a key. There was no sign of a struggle, so the victim could have known his attacker. The neighbor heard nothing, but she can't have been home at the time of the murder. She must have gone out."}},{type:"lesson",title:"Unit 9: Character Adjectives",explanation:"Adjectives used to describe a person's character and personality, such as reliable (someone you can trust), sociable (friendly), and easygoing (relaxed).",examples:[{english:"She is very reliable; if she says she'll do something, she'll do it.",arabic:"هي موثوقة جداً؛ إذا قالت إنها ستفعل شيئًا، فستفعله."},{english:"He's an easygoing person who never seems to worry.",arabic:"هو شخص هادئ لا يبدو أنه يقلق أبدًا."},{english:"My sister is very sociable and loves parties.",arabic:"أختي اجتماعية جدًا وتحب الحفلات."},{english:"He's too shy to speak in front of a large group.",arabic:"إنه خجول جدًا لدرجة أنه لا يستطيع التحدث أمام مجموعة كبيرة."},{english:"Don't be so rude! Apologize to her.",arabic:"لا تكن وقحًا! اعتذر لها."},{english:"She is a generous person who always helps others.",arabic:"هي شخصية كريمة تساعد الآخرين دائمًا."},{english:"He is a very intelligent and hardworking student.",arabic:"إنه طالب ذكي ومجتهد جدًا."},{english:"My boss is quite moody. You never know how she'll be.",arabic:"رئيسي متقلب المزاج. لا تعرف أبدًا كيف ستكون."},{english:"He is very ambitious and wants to be the company director.",arabic:"إنه طموح جدًا ويريد أن يكون مدير الشركة."},{english:"She has a cheerful personality and is always smiling.",arabic:"لديها شخصية مرحة وهي تبتسم دائمًا."}],mcqs:[{question:"What is the opposite of 'shy'?",options:["Sociable","Reliable","Easygoing","Rude"],answer:"Sociable"},{question:"A person who is calm and doesn't get angry easily is...",options:["Reliable","Sociable","Easygoing","Generous"],answer:"Easygoing"}],story:{title:"From a Performance Review",summary:"John is a very reliable employee. He is hardworking and ambitious. However, he can be shy in meetings and is not very sociable with his colleagues. His manager is more easygoing and cheerful, but can sometimes be moody. We need John to be less reserved and more outgoing to become a leader."}},{type:"lesson",title:"Unit 9: Agreeing and Disagreeing",explanation:"Use 'So do I' or 'Neither do I' to agree with positive or negative statements, respectively. This requires repeating the auxiliary verb from the original statement.",examples:[{english:"A: I like ice-cream. B: So do I.",arabic:"أ: أنا أحب الآيس كريم. ب: وأنا كذلك."},{english:"A: I don't like working. B: Neither do I.",arabic:"أ: أنا لا أحب العمل. ب: ولا أنا."},{english:"A: I can swim. B: So can I.",arabic:"أ: أستطيع السباحة. ب: وأنا كذلك."},{english:"A: I can't drive. B: Neither can I.",arabic:"أ: لا أستطيع القيادة. ب: ولا أنا."},{english:"A: I'm wearing jeans. B: So am I.",arabic:"أ: أنا أرتدي الجينز. ب: وأنا كذلك."},{english:"A: I haven't been to Paris. B: Neither have I.",arabic:"أ: لم أذهب إلى باريس. ب: ولا أنا."},{english:"A: I went out last night. B: So did I.",arabic:"أ: خرجت الليلة الماضية. ب: وأنا كذلك."},{english:"To disagree: A: I like blue cheese. B: Oh, I don't.",arabic:"للاختلاف: أ: أنا أحب الجبن الأزرق. ب: أوه، أنا لا أحبه."},{english:"To disagree: A: I can't speak Polish. B: Really? I can.",arabic:"للاختلاف: أ: لا أستطيع التحدث بالبولندية. ب: حقًا؟ أنا أستطيع."},{english:"A: I'm tired. B: So am I.",arabic:"أ: أنا متعب. ب: وأنا كذلك."}],mcqs:[{question:"How do you agree with 'I love chocolate'?",options:["Neither do I","So I do","So do I","I do so"],answer:"So do I"},{question:"How do you agree with 'I haven't seen that film'?",options:["So have I","Neither I have","Neither have I","I haven't also"],answer:"Neither have I"}],story:{title:"From a Conversation Between Friends",summary:"'I really enjoyed that movie,' said Anna. 'So did I,' replied Ben. 'But I don't think I understood the ending.' 'Neither did I!' said Anna. 'I haven't read the book it was based on.' 'Neither have I,' Ben agreed. 'I'm not usually a fan of sci-fi.' 'Oh, I am,' said Anna, disagreeing for the first time."}},{type:"lesson",title:"Unit 10: Present Perfect Continuous",explanation:"Focuses on the duration of an activity that started in the past and is still ongoing, or has just stopped. Form: have/has been + verb-ing.",examples:[{english:"I've been texting my friends all day long.",arabic:"كنت أراسل أصدقائي طوال اليوم."},{english:"How long have you been learning English?",arabic:"منذ متى وأنت تتعلم اللغة الإنجليزية؟"},{english:"She's been living in Paris since she got married.",arabic:"هي تعيش في باريس منذ أن تزوجت."},{english:"He looks tired. He's been working hard.",arabic:"يبدو متعبًا. لقد كان يعمل بجد."},{english:"It has been raining for three hours.",arabic:"إنها تمطر منذ ثلاث ساعات."},{english:"We've been waiting for you for over an hour.",arabic:"لقد كنا ننتظرك لأكثر من ساعة."},{english:"They have been playing tennis since 10 o'clock.",arabic:"لقد كانوا يلعبون التنس منذ الساعة 10."},{english:"My eyes are sore because I've been reading all night.",arabic:"عيناي تؤلمانني لأنني كنت أقرأ طوال الليل."},{english:"She's been trying to call you all morning.",arabic:"لقد كانت تحاول الاتصال بك طوال الصباح."},{english:"What have you been doing lately?",arabic:"ماذا كنت تفعل مؤخرًا؟"}],mcqs:[{question:"Complete: 'It ___ for hours.'",options:["rains","is raining","has rained","has been raining"],answer:"has been raining"},{question:"Complete: 'I'm tired because I ___.'",options:["have worked","have been working","worked","am working"],answer:"have been working"}],story:{title:"From 'Outliers' by Malcolm Gladwell",summary:"The book explores success. It argues that people like Bill Gates haven't just been lucky. They have been practicing for years. He has been programming since he was a teenager. For ten thousand hours, he has been honing his skills. The Beatles had also been performing for years in Hamburg before they became famous. They had been playing for eight hours a night."}},{type:"lesson",title:"Unit 10: Present Perfect Simple vs. Continuous",explanation:"Use the Simple form to focus on the result or completion of an action, especially with numbers ('I've written three emails'). Use the Continuous form to focus on the duration of the activity ('I've been writing emails all morning').",examples:[{english:"She has received a huge phone bill. (Result)",arabic:"لقد استلمت فاتورة هاتف ضخمة. (نتيجة)"},{english:"She has been calling her friends all day. (Duration)",arabic:"كانت تتصل بأصدقائها طوال اليوم. (مدة)"},{english:"I've read that book. It's great. (Completed action)",arabic:"لقد قرأت ذلك الكتاب. إنه رائع. (فعل مكتمل)"},{english:"I've been reading this book all day. (Activity over time)",arabic:"كنت أقرأ هذا الكتاب طوال اليوم. (نشاط على مدار الوقت)"},{english:"He has painted the living room. (Result is a painted room)",arabic:"لقد طلى غرفة المعيشة. (النتيجة هي غرفة مطلية)"},{english:"He has been painting all morning. (He is tired and covered in paint)",arabic:"لقد كان يطلي طوال الصباح. (إنه متعب ومغطى بالطلاء)"},{english:"I've written three emails this morning.",arabic:"لقد كتبت ثلاث رسائل بريد إلكتروني هذا الصباح."},{english:"I've been writing emails all morning.",arabic:"كنت أكتب رسائل بريد إلكتروني طوال الصباح."},{english:"They have travelled to ten countries.",arabic:"لقد سافروا إلى عشرة بلدان."},{english:"They have been travelling for six months.",arabic:"لقد كانوا يسافرون لمدة ستة أشهر."}],mcqs:[{question:"Complete: 'I ___ three books this month.'",options:["have been reading","have read","read","am reading"],answer:"have read"},{question:"Complete: 'My clothes are dirty because I ___ the garden.'",options:["worked in","have been working in","have worked in","work in"],answer:"have been working in"}],story:{title:"From a Project Update Meeting",summary:"Manager: 'What's the status?' Sarah: 'I've been working on the report all week. I have written the first two sections.' Tom: 'I've contacted five clients so far.' Manager: 'And the marketing materials?' Jane: 'I've been designing the brochure. I have finally finished the cover.' Manager: 'Good. It sounds like you have all been making excellent progress.'"}},{type:"lesson",title:"Unit 10: Expressing Quantity",explanation:"Learn phrases to talk about quantity: 'How much' for uncountable nouns (coffee, money), 'How many' for countable nouns (books, friends), and words like 'a lot of', 'too much', 'too many', 'enough'.",examples:[{english:"How much coffee do you drink?",arabic:"كم تشرب من القهوة؟"},{english:"That's too much sugar for me.",arabic:"هذا سكر أكثر من اللازم بالنسبة لي."},{english:"I have a lot of friends.",arabic:"لدي الكثير من الأصدقاء."},{english:"How many people were at the party?",arabic:"كم عدد الأشخاص الذين كانوا في الحفلة؟"},{english:"There are too many cars on the road.",arabic:"هناك عدد كبير جدًا من السيارات على الطريق."},{english:"We don't have enough time.",arabic:"ليس لدينا ما يكفي من الوقت."},{english:"Do you have enough money?",arabic:"هل لديك ما يكفي من المال؟"},{english:"She eats a few biscuits every day.",arabic:"تأكل بضع بسكويتات كل يوم."},{english:"I only have a little milk left.",arabic:"لدي القليل فقط من الحليب المتبقي."},{english:"There isn't much work to do.",arabic:"ليس هناك الكثير من العمل للقيام به."}],mcqs:[{question:"Which is correct?",options:["How much people were there?","How many people was there?","How many people were there?","How much people was there?"],answer:"How many people were there?"},{question:"Complete: 'There is ___ traffic on the roads today.'",options:["too many","too much","enough","many"],answer:"too much"}],story:{title:"From a Guide to Simple Living",summary:"How many possessions do you really need? Many people have too many clothes and not enough space. They spend too much money on things they don't use. A few special items are better than a lot of clutter. Ask yourself: 'How much time do I spend managing my things?' You'll find you have little need for most of them."}},{type:"lesson",title:"Unit 10: Compound Nouns",explanation:"A compound noun is a noun made of two or more words, like 'ponytail', 'movie star', or 'swimming pool'. They can be written as one word, two words, or with a hyphen.",examples:[{english:"She has her hair in a ponytail.",arabic:"لديها شعرها على شكل ذيل حصان."},{english:"He wants to be a movie star.",arabic:"يريد أن يصبح نجم سينمائي."},{english:"Let's go to the swimming pool.",arabic:"لنذهب إلى حمام السباحة."},{english:"I need to buy some toothpaste.",arabic:"أحتاج لشراء بعض معجون الأسنان."},{english:"The bus stop is just around the corner.",arabic:"موقف الحافلات قاب قوسين أو أدنى."},{english:"My bedroom is upstairs.",arabic:"غرفة نومي في الطابق العلوي."},{english:"He works as a firefighter.",arabic:"يعمل كرجل إطفاء."},{english:"What time is sunrise?",arabic:"ما هو وقت شروق الشمس؟"},{english:"You need to fill in this application form.",arabic:"تحتاج إلى ملء استمارة الطلب هذه."},{english:"It was a check-in desk at the airport.",arabic:"كان مكتب تسجيل الوصول في المطار."}],mcqs:[{question:"Which of these is a compound noun?",options:["beautiful house","running machine","quickly run","white board"],answer:"white board"},{question:"A 'post office' is a place where you can...",options:["watch films","buy food","send letters","read books"],answer:"send letters"}],story:{title:"From a Story About a Day Out",summary:"We left after sunrise. We waited at the bus stop for a long time. Then we went to the swimming pool. My daughter, who wants to be a movie star, lost her sunglasses. We looked everywhere. Afterwards, we had ice-cream cones. We got home late and went straight to our bedrooms. I had to use my wife's toothpaste."}},{type:"lesson",title:"Unit 11: Indirect Questions",explanation:"To be more polite, we often use indirect questions, which start with phrases like 'Could you tell me...' or 'I wonder...'. The word order is like a statement (subject + verb), not a question.",examples:[{english:"Direct: What time is it? -> Indirect: Could you tell me what time it is?",arabic:"مباشر: كم الساعة؟ -> غير مباشر: هل يمكنك أن تخبرني كم الساعة؟"},{english:"Direct: Does this bus go downtown? -> Indirect: Do you know if this bus goes downtown?",arabic:"مباشر: هل تذهب هذه الحافلة إلى وسط المدينة؟ -> غير مباشر: هل تعرف ما إذا كانت هذه الحافلة تذهب إلى وسط المدينة؟"},{english:"Direct: Where is the post office? -> Indirect: Can you tell me where the post office is?",arabic:"مباشر: أين مكتب البريد؟ -> غير مباشر: هل يمكنك إخباري أين مكتب البريد؟"},{english:"I wonder what he's doing.",arabic:"أتساءل ماذا يفعل."},{english:"I'd like to know how much this costs.",arabic:"أود أن أعرف كم يكلف هذا."},{english:"Do you have any idea when the train leaves?",arabic:"هل لديك أي فكرة متى يغادر القطار؟"},{english:"I can't remember where I put my keys.",arabic:"لا أستطيع أن أتذكر أين وضعت مفاتيحي."},{english:"Do you know whether the shops are open?",arabic:"هل تعرف ما إذا كانت المتاجر مفتوحة؟"},{english:"I'm not sure if this is the right way.",arabic:"لست متأكدًا مما إذا كان هذا هو الطريق الصحيح."},{english:"Could you explain why the project was delayed?",arabic:"هل يمكنك شرح سبب تأخر المشروع؟"}],mcqs:[{question:"Make this question indirect: 'Where is the nearest bank?'",options:["Can you tell me where is the nearest bank?","Can you tell me where the nearest bank is?","Can you tell me where the bank nearest is?","Can you tell me is where the nearest bank?"],answer:"Can you tell me where the nearest bank is?"},{question:"Complete: 'I wonder ___.'",options:["if she will come","will she come","if will she come","she will come"],answer:"if she will come"}],story:{title:"From a Tourist's Conversation",summary:"Excuse me, could you tell me how I can get to the museum? I'd also like to know if there is a good restaurant nearby. I wonder what time the museum closes. Do you know if I need to buy a ticket in advance? I can't remember what the guidebook said. And do you have any idea how much a taxi would cost?"}},{type:"lesson",title:"Unit 11: Question Tags",explanation:"Question tags are short questions at the end of statements, used to confirm information or encourage a reply. The pattern is usually positive statement + negative tag, or negative statement + positive tag.",examples:[{english:"It's a beautiful day, isn't it?",arabic:"إنه يوم جميل، أليس كذلك؟"},{english:"You haven't seen my keys, have you?",arabic:"لم تر مفاتيحي، أليس كذلك؟"},{english:"She works here, doesn't she?",arabic:"هي تعمل هنا، أليس كذلك؟"},{english:"He can't swim, can he?",arabic:"لا يستطيع السباحة، أليس كذلك؟"},{english:"They went to the party, didn't they?",arabic:"ذهبوا إلى الحفلة، أليس كذلك؟"},{english:"You're coming to the meeting, aren't you?",arabic:"أنت قادم إلى الاجتماع، أليس كذلك؟"},{english:"It wasn't very expensive, was it?",arabic:"لم يكن باهظ الثمن، أليس كذلك؟"},{english:"We should leave now, shouldn't we?",arabic:"يجب أن نغادر الآن، أليس كذلك؟"},{english:"You won't tell anyone, will you?",arabic:"لن تخبر أحداً، أليس كذلك؟"},{english:"I'm late, aren't I?",arabic:"أنا متأخر، أليس كذلك؟"}],mcqs:[{question:"Add a question tag: 'He can swim,...'",options:["can he?","can't he?","does he?","doesn't he?"],answer:"can't he?"},{question:"Add a question tag: 'You didn't do it,...'",options:["did you?","didn't you?","do you?","don't you?"],answer:"did you?"}],story:{title:"From 'How to Win Friends and Influence People'",summary:"Remembering someone's name is important, isn't it? People like to hear their own name, don't they? And you want them to feel good, don't you? It's a simple trick, but it works. You haven't forgotten my name, have you? It wasn't that difficult to remember, was it? We should all try to do this more often, shouldn't we?"}},{type:"lesson",title:"Unit 11: Idioms",explanation:"Idioms are expressions where the meaning is not obvious from the individual words. For example, 'hit the roof' means to get very angry.",examples:[{english:"When he saw the broken vase, he hit the roof.",arabic:"عندما رأى المزهرية المكسورة، غضب بشدة."},{english:"The exam was a piece of cake.",arabic:"كان الامتحان سهلاً جداً."},{english:"It's raining cats and dogs outside.",arabic:"إنها تمطر بغزارة في الخارج."},{english:"I'm feeling a bit under the weather today.",arabic:"أشعر ببعض التوعك اليوم."},{english:"This car costs an arm and a leg.",arabic:"هذه السيارة باهظة الثمن."},{english:"Break a leg! I know you'll be great in the play.",arabic:"حظًا موفقًا! أعلم أنك ستكون رائعًا في المسرحية."},{english:"He let the cat out of the bag and told everyone about the surprise party.",arabic:"لقد أفشى السر وأخبر الجميع عن حفلة المفاجأة."},{english:"I only see my cousins once in a blue moon.",arabic:"أرى أبناء عمي نادرًا جدًا."},{english:"We have to learn these words by heart.",arabic:"يجب أن نتعلم هذه الكلمات عن ظهر قلب."},{english:"Hold your breath, the results are about to be announced.",arabic:"انتظر بقلق، النتائج على وشك أن تعلن."}],mcqs:[{question:"What does 'to hold your breath' mean?",options:["To breathe deeply","To wait for something anxiously","To be out of breath","To stop breathing"],answer:"To wait for something anxiously"},{question:"If something costs 'an arm and a leg', it is very...",options:["cheap","heavy","expensive","useful"],answer:"expensive"}],story:{title:"From a Business Negotiation",summary:"The negotiation was tough. I thought it would be a piece of cake, but their first offer was so low, I nearly hit the roof. They wanted a price that was a steal. I had to bite the bullet and make a counter-offer. It cost an arm and a leg for our company, but in the end, we cut a deal. I was so relieved, I could finally breathe a sigh of relief."}},{type:"lesson",title:"Unit 11: Informal English",explanation:"Informal English includes slang and conversational phrases used with friends, such as 'What's up?', 'Hang on a sec', or 'break for lunch'.",examples:[{english:"What's up? - Not much.",arabic:"ما الأخبار؟ - لا شيء كثير."},{english:"Hang on a sec, I'm nearly ready.",arabic:"انتظر لحظة، أنا على وشك أن أكون جاهزًا."},{english:"What do you say we break for lunch?",arabic:"ما رأيك أن نتوقف لتناول طعام الغداء؟"},{english:"I'm gonna go to the shops.",arabic:"سأذهب إلى المتاجر."},{english:"Do you wanna grab a coffee?",arabic:"هل تريد أن نحتسي فنجان قهوة؟"},{english:"He's a cool guy.",arabic:"إنه رجل رائع."},{english:"That movie was awesome!",arabic:"كان ذلك الفيلم رائعًا!"},{english:"I'm beat. I'm going to bed.",arabic:"أنا منهك. سأذهب إلى الفراش."},{english:"Can you give me a hand with this?",arabic:"هل يمكنك مساعدتي في هذا؟"},{english:"No worries, it's all good.",arabic:"لا تقلق، كل شيء على ما يرام."}],mcqs:[{question:"Which is an informal way to say 'wait a moment'?",options:["Please wait","Hold on","Hang on a sec","One moment"],answer:"Hang on a sec"},{question:"'Wanna' is an informal contraction of...",options:["want to","will not","what do you","was not"],answer:"want to"}],story:{title:"From a Chat Between Friends",summary:"'Hey, what's up?' 'Not much. I'm beat.' 'Wanna grab a coffee later?' 'Sure. Give me a sec, I gotta finish this email.' 'No worries. Can you give me a hand with my homework after?' 'Yeah, it's all good. That new superhero movie was awesome, by the way.' 'Totally!'"}},{type:"lesson",title:"Unit 12: Reported Statements",explanation:"To report what someone said, we often use a reporting verb (like 'said' or 'told') and change the original tense 'one step back' into the past (e.g., Present Simple -> Past Simple).",examples:[{english:"Direct speech: 'I am tired.' -> Reported speech: He said that he was tired.",arabic:"كلام مباشر: 'أنا متعب.' -> كلام منقول: قال إنه كان متعبًا."},{english:"Direct: 'I will be there.' -> Reported: She told me she would be there.",arabic:"مباشر: 'سأكون هناك.' -> منقول: أخبرتني أنها ستكون هناك."},{english:"Direct: 'We are studying.' -> Reported: They said they were studying.",arabic:"مباشر: 'نحن ندرس.' -> منقول: قالوا إنهم كانوا يدرسون."},{english:"Direct: 'He has finished his work.' -> Reported: She said he had finished his work.",arabic:"مباشر: 'لقد أنهى عمله.' -> منقول: قالت إنه قد أنهى عمله."},{english:"Direct: 'I went to the cinema.' -> Reported: He told me he had gone to the cinema.",arabic:"مباشر: 'ذهبت إلى السينما.' -> منقول: أخبرني أنه قد ذهب إلى السينما."},{english:"Direct: 'I can't come.' -> Reported: She said she couldn't come.",arabic:"مباشر: 'لا أستطيع المجيء.' -> منقول: قالت إنها لا تستطيع المجيء."},{english:"Direct: 'My parents are arriving tomorrow.' -> Reported: He said his parents were arriving the next day.",arabic:"مباشر: 'سيصل والداي غدًا.' -> منقول: قال إن والديه سيصلون في اليوم التالي."},{english:"Direct: 'I love this city.' -> Reported: She said she loved that city.",arabic:"مباشر: 'أنا أحب هذه المدينة.' -> منقول: قالت إنها أحبت تلك المدينة."},{english:"Direct: 'I saw you yesterday.' -> Reported: He said he had seen me the day before.",arabic:"مباشر: 'رأيتك أمس.' -> منقول: قال إنه رآني في اليوم السابق."},{english:"Direct: 'I'm not feeling well.' -> Reported: She told him she wasn't feeling well.",arabic:"مباشر: 'أنا لا أشعر بحالة جيدة.' -> منقول: أخبرته أنها لا تشعر بحالة جيدة."}],mcqs:[{question:"Report this: 'I work in London.'",options:["She said she works in London.","She said she worked in London.","She said I work in London.","She told she worked in London."],answer:"She said she worked in London."},{question:"Report this: 'We have finished.'",options:["They said they have finished.","They said we had finished.","They said they had finished.","They told us we have finished."],answer:"They said they had finished."}],story:{title:"From a Witness Statement",summary:"The witness spoke to the police. He said that he was walking his dog. He told the officer that he had seen a strange car on the street. He said that the car was blue. He explained that he hadn't seen the driver's face. He also mentioned that his neighbor had been looking out of her window at the time."}},{type:"lesson",title:"Unit 12: Reported Questions",explanation:"To report questions, use a reporting verb like 'asked' and use statement word order. If there is no question word (who, what, where), use 'if' or 'whether'.",examples:[{english:"Direct: 'Where do you live?' -> Reported: He asked me where I lived.",arabic:"مباشر: 'أين تعيش؟' -> منقول: سألني أين أعيش."},{english:"Direct: 'Are you coming?' -> Reported: She asked if I was coming.",arabic:"مباشر: 'هل أنت قادم؟' -> منقول: سألت إذا كنت قادمًا."},{english:"Direct: 'What is your name?' -> Reported: He asked me what my name was.",arabic:"مباشر: 'ما اسمك؟' -> منقول: سألني ما هو اسمي."},{english:"Direct: 'Did you finish your homework?' -> Reported: She asked if I had finished my homework.",arabic:"مباشر: 'هل أنهيت واجبك؟' -> منقول: سألت إذا كنت قد أنهيت واجبي."},{english:"Direct: 'When will you arrive?' -> Reported: I asked him when he would arrive.",arabic:"مباشر: 'متى ستصل؟' -> منقول: سألته متى سيصل."},{english:"Direct: 'Can you help me?' -> Reported: He asked me if I could help him.",arabic:"مباشر: 'هل يمكنك مساعدتي؟' -> منقول: سألني إذا كان بإمكاني مساعدته."},{english:"Direct: 'How do you know them?' -> Reported: She asked me how I knew them.",arabic:"مباشر: 'كيف تعرفهم؟' -> منقول: سألتني كيف أعرفهم."},{english:"Direct: 'Have you seen this film?' -> Reported: He asked if I had seen that film.",arabic:"مباشر: 'هل شاهدت هذا الفيلم؟' -> منقول: سأل إذا كنت قد شاهدت ذلك الفيلم."},{english:"Direct: 'Why are you laughing?' -> Reported: She asked him why he was laughing.",arabic:"مباشر: 'لماذا تضحك؟' -> منقول: سألته لماذا كان يضحك."},{english:"Direct: 'Is the restaurant open?' -> Reported: He asked whether the restaurant was open.",arabic:"مباشر: 'هل المطعم مفتوح؟' -> منقول: سأل ما إذا كان المطعم مفتوحًا."}],mcqs:[{question:"Report this: 'What time is it?'",options:["He asked what time is it.","He asked what is the time.","He asked what time it was.","He asked what time it is."],answer:"He asked what time it was."},{question:"Report this: 'Did you see the film?'",options:["She asked if I had seen the film.","She asked did I see the film.","She asked I had seen the film.","She asked if had I seen the film."],answer:"She asked if I had seen the film."}],story:{title:"From a Job Interview",summary:"The interviewer asked me why I had applied for the job. She also asked what my biggest strengths were. She wanted to know if I could work well under pressure. Then she asked me when I would be able to start. Finally, she asked if I had any questions for her."}},{type:"lesson",title:"Unit 12: Reported Commands/Requests",explanation:"To report commands and requests, use the pattern: reporting verb (told, asked) + object + (not) to + infinitive.",examples:[{english:"Direct: 'Stop making a noise!' -> Reported: He told them to stop making a noise.",arabic:"مباشر: 'توقفوا عن إحداث ضوضاء!' -> منقول: أخبرهم أن يتوقفوا عن إحداث ضوضاء."},{english:"Direct: 'Please help me.' -> Reported: I asked them to help me.",arabic:"مباشر: 'من فضلكم ساعدوني.' -> منقول: طلبت منهم مساعدتي."},{english:"Direct: 'Go to your room.' -> Reported: She told the child to go to his room.",arabic:"مباشر: 'اذهب إلى غرفتك.' -> منقول: أخبرت الطفل أن يذهب إلى غرفته."},{english:"Direct: 'Don't touch that!' -> Reported: He told me not to touch that.",arabic:"مباشر: 'لا تلمس ذلك!' -> منقول: أخبرني ألا ألمس ذلك."},{english:"Direct: 'Could you open the door?' -> Reported: She asked him to open the door.",arabic:"مباشر: 'هل يمكنك فتح الباب؟' -> منقول: طلبت منه فتح الباب."},{english:"Direct: 'Remember to buy milk.' -> Reported: He reminded me to buy milk.",arabic:"مباشر: 'تذكر شراء الحليب.' -> منقول: ذكرني بشراء الحليب."},{english:"Direct: 'Be quiet.' -> Reported: The teacher told the students to be quiet.",arabic:"مباشر: 'كن هادئًا.' -> منقول: أخبر المعلم الطلاب أن يكونوا هادئين."},{english:"Direct: 'Please don't be late.' -> Reported: She asked us not to be late.",arabic:"مباشر: 'من فضلكم لا تتأخروا.' -> منقول: طلبت منا ألا نتأخر."},{english:"Direct: 'Try to do your best.' -> Reported: He encouraged them to try to do their best.",arabic:"مباشر: 'حاول أن تبذل قصارى جهدك.' -> منقول: شجعهم على محاولة بذل قصارى جهدهم."},{english:"Direct: 'Switch off the TV.' -> Reported: My father told me to switch off the TV.",arabic:"مباشر: 'أطفئ التلفاز.' -> منقول: أخبرني والدي أن أطفئ التلفاز."}],mcqs:[{question:"Report this: 'Don't be late.'",options:["He told me don't be late.","He told me to not be late.","He told me not to be late.","He told to me not be late."],answer:"He told me not to be late."},{question:"Report this: 'Could you open the window?'",options:["She asked me open the window.","She asked me to open the window.","She asked to me to open the window.","She asked me could I open the window."],answer:"She asked me to open the window."}],story:{title:"From a Courtroom Drama",summary:"The judge told the witness to tell the truth. The lawyer asked the witness to describe the events of that night. The witness was nervous. The judge told him to speak clearly. The lawyer then asked him not to get emotional. The judge reminded everyone to remain silent in the courtroom."}},{type:"lesson",title:"Unit 12: Saying Sorry",explanation:"Different situations require different ways of apologizing. 'Excuse me' is for getting attention or passing someone. 'I'm sorry' is for mistakes or expressing sympathy.",examples:[{english:"Excuse me, can I get past?",arabic:"عفوًا، هل يمكنني المرور؟"},{english:"I'm sorry, I didn't mean to do that.",arabic:"أنا آسف، لم أقصد فعل ذلك."},{english:"I'm so sorry to hear about your accident.",arabic:"أنا آسف جدًا لسماع خبر حادثك."},{english:"Excuse me, is this seat taken?",arabic:"عفوًا، هل هذا المقعد محجوز؟"},{english:"I apologize for my mistake.",arabic:"أعتذر عن خطئي."},{english:"Sorry for the delay.",arabic:"آسف على التأخير."},{english:"Please forgive me.",arabic:"أرجوك سامحني."},{english:"It was my fault. I'm very sorry.",arabic:"لقد كان خطئي. أنا آسف جدًا."},{english:"Excuse me, do you have the time?",arabic:"عفوًا، هل لديك الوقت؟"},{english:"I'm sorry for your loss.",arabic:"أنا آسف لخسارتك. (عند التعزية)"}],mcqs:[{question:"What do you say to get someone's attention politely?",options:["Hey!","Sorry","Excuse me","Listen"],answer:"Excuse me"},{question:"You hear your friend has failed an exam. You say:",options:["Excuse me.","I'm sorry to hear that.","Never mind.","I apologize."],answer:"I'm sorry to hear that."}],story:{title:"From a Customer Service Transcript",summary:"Customer: 'Excuse me, there's a problem with my order.' Agent: 'I'm sorry to hear that. Can you explain?' Customer: 'You sent the wrong item.' Agent: 'Oh, it was our fault. I apologize for the mistake. I'm very sorry for the inconvenience.' Customer: 'Thank you.' Agent: 'We're sorry for the delay in getting you the right product.'"}},{type:"lesson",title:"Writing: Correcting Mistakes (1) - Informal Letter",explanation:"This lesson focuses on identifying and correcting common grammatical mistakes in the context of an informal letter, covering tense usage, punctuation, and spelling.",examples:[{english:"Incorrect: I am come from Spain. Correct: I come from Spain.",arabic:"خطأ: I am come from Spain. صحيح: I come from Spain."},{english:"Incorrect: Thank you for have me. Correct: Thank you for having me.",arabic:"خطأ: Thank you for have me. صحيح: Thank you for having me."},{english:"Incorrect: I enjoyed to meet your friends. Correct: I enjoyed meeting your friends.",arabic:"خطأ: I enjoyed to meet your friends. صحيح: I enjoyed meeting your friends."},{english:"Incorrect: I look forward to see you. Correct: I look forward to seeing you.",arabic:"خطأ: I look forward to see you. صحيح: I look forward to seeing you."},{english:"Incorrect: She ask me to call her. Correct: She asked me to call her.",arabic:"خطأ: She ask me to call her. صحيح: She asked me to call her."},{english:"Incorrect: I didn't knew the answer. Correct: I didn't know the answer.",arabic:"خطأ: I didn't knew the answer. صحيح: I didn't know the answer."},{english:"Incorrect: He has lived here since two years. Correct: He has lived here for two years.",arabic:"خطأ: He has lived here since two years. صحيح: He has lived here for two years."},{english:"Incorrect: This is more better. Correct: This is better.",arabic:"خطأ: This is more better. صحيح: This is better."},{english:"Incorrect: I'm very interesting in this topic. Correct: I'm very interested in this topic.",arabic:"خطأ: I'm very interesting in this topic. صحيح: I'm very interested in this topic."},{english:"Incorrect: Your's sincerely. Correct: Yours sincerely.",arabic:"خطأ: Your's sincerely. صحيح: Yours sincerely."}],mcqs:[{question:"Which sentence is correct?",options:["He told to me a story.","He told me a story.","He said me a story.","He say me a story."],answer:"He told me a story."},{question:"Which verb form follows 'look forward to'?",options:["infinitive","infinitive with to","-ing form","past simple"],answer:"-ing form"}],story:{title:"From an Editor's Notes",summary:"The author's letter has several mistakes. He wrote, 'I look forward to see you,' but it should be 'seeing'. He wrote, 'I enjoyed to meet your family,' but it needs to be 'meeting'. He also wrote, 'She ask me to send the book,' when it should be 'asked'. Finally, 'since five years' is incorrect; it should be 'for five years'. These are common errors."}},{type:"lesson",title:"Writing: Letters and Emails",explanation:"Learn the difference in format and tone between formal and informal letters and emails. Key components include salutations, closing phrases, and appropriate language for each style.",examples:[{english:"Informal opening: Hi John, / Dear Sarah,",arabic:"افتتاحية غير رسمية: مرحبًا جون، / عزيزتي سارة،"},{english:"Formal opening: Dear Mr. Smith, / Dear Sir or Madam,",arabic:"افتتاحية رسمية: عزيزي السيد سميث، / عزيزي السيد أو السيدة،"},{english:"Informal closing: Best wishes, / Cheers, / Love,",arabic:"خاتمة غير رسمية: مع أطيب التمنيات، / تحياتي، / مع حبي،"},{english:"Formal closing: Yours sincerely, / Yours faithfully,",arabic:"خاتمة رسمية: المخلص لكم، / وتفضلوا بقبول فائق الاحترام،"},{english:"Informal phrase: Thanks for your email.",arabic:"عبارة غير رسمية: شكرًا على بريدك الإلكتروني."},{english:"Formal phrase: Thank you for your email of 12th May.",arabic:"عبارة رسمية: شكرًا على بريدكم الإلكتروني بتاريخ 12 مايو."},{english:"Informal question: How are things?",arabic:"سؤال غير رسمي: كيف الأحوال؟"},{english:"Formal phrase: I am writing to enquire about...",arabic:"عبارة رسمية: أكتب للاستفسار عن..."},{english:"Informal request: Can you send me the file?",arabic:"طلب غير رسمي: هل يمكنك إرسال الملف لي؟"},{english:"Formal request: I would be grateful if you could send me the file.",arabic:"طلب رسمي: سأكون ممتنًا لو أمكنك إرسال الملف لي."}],mcqs:[{question:"If you start a formal letter with 'Dear Sir or Madam,', how should you end it?",options:["Yours sincerely,","Yours faithfully,","Best wishes,","Love,"],answer:"Yours faithfully,"},{question:"Which is an informal way of writing?",options:["I look forward to hearing from you.","I am writing with regard to...","Can't wait to see you!","Please do not hesitate to contact me."],answer:"Can't wait to see you!"}],story:{title:"From a Business Communication Guide",summary:"When writing to a client you don't know, start with 'Dear Sir or Madam,' and end with 'Yours faithfully,'. However, if you know their name, use 'Dear Mr. Smith,' and end with 'Yours sincerely,'. For a friend, you can use 'Hi Sarah,' and end with 'Best wishes,'. The formal email will say, 'I am writing to enquire...' while the informal one might say, 'Just wanted to ask...'"}},{type:"lesson",title:"Writing: A Narrative (1)",explanation:"A narrative tells a story. This lesson covers how to structure a simple story using chronological order and sequencing words like 'first', 'then', 'after that', and 'finally'.",examples:[{english:"First, we bought the tickets.",arabic:"أولاً، اشترينا التذاكر."},{english:"Then, we found our seats.",arabic:"ثم، وجدنا مقاعدنا."},{english:"After that, the film started.",arabic:"بعد ذلك، بدأ الفيلم."},{english:"Finally, we went home.",arabic:"أخيرًا، ذهبنا إلى المنزل."},{english:"One morning, a strange thing happened.",arabic:"في صباح أحد الأيام، حدث شيء غريب."},{english:"Suddenly, the lights went out.",arabic:"فجأة، انطفأت الأنوار."},{english:"A few minutes later, the power came back on.",arabic:"بعد بضع دقائق، عادت الكهرباء."},{english:"In the end, everything was okay.",arabic:"في النهاية، كان كل شيء على ما يرام."},{english:"Last summer, my family and I went to the beach.",arabic:"في الصيف الماضي، ذهبت أنا وعائلتي إلى الشاطئ."},{english:"Before we left, we packed a big picnic.",arabic:"قبل أن نغادر، قمنا بتعبئة نزهة كبيرة."}],mcqs:[{question:"Which word is good for starting a story?",options:["Finally","Then","One day","After that"],answer:"One day"},{question:"Which word is used for the last event in a sequence?",options:["First","Then","Finally","Next"],answer:"Finally"}],story:{title:"From a Recipe Book",summary:"First, preheat the oven. Then, mix the flour and sugar in a bowl. After that, add the eggs and milk and stir well. Next, pour the mixture into a cake tin. Finally, bake for 30 minutes. In the end, you will have a delicious cake. Suddenly, you'll realize you forgot the chocolate chips, but it will still be good!"}},{type:"lesson",title:"Writing: For and Against",explanation:"This lesson teaches how to structure an essay that presents both sides of an argument. It involves using linking words to introduce points for ('On the one hand...') and against ('On the other hand...'), and concluding with your own opinion.",examples:[{english:"On the one hand, living in a city is exciting.",arabic:"من ناحية، العيش في مدينة مثير."},{english:"On the other hand, it can be very expensive.",arabic:"من ناحية أخرى، يمكن أن يكون باهظ الثمن."},{english:"An advantage of public transport is that it reduces pollution.",arabic:"ميزة وسائل النقل العام هي أنها تقلل من التلوث."},{english:"A disadvantage is that it can be crowded.",arabic:"عيبها أنها يمكن أن تكون مزدحمة."},{english:"Furthermore, city life offers more job opportunities.",arabic:"علاوة على ذلك، توفر حياة المدينة المزيد من فرص العمل."},{english:"However, the countryside is more peaceful.",arabic:"ومع ذلك، فإن الريف أكثر هدوءًا."},{english:"In addition, there are more things to do in the city.",arabic:"بالإضافة إلى ذلك، هناك المزيد من الأشياء للقيام بها في المدينة."},{english:"In conclusion, I believe that the benefits outweigh the drawbacks.",arabic:"في الختام، أعتقد أن الفوائد تفوق العيوب."},{english:"Some people argue that technology makes us less sociable.",arabic:"يجادل بعض الناس بأن التكنولوجيا تجعلنا أقل اجتماعية."},{english:"In contrast, others believe it helps us connect with more people.",arabic:"في المقابل، يعتقد آخرون أنها تساعدنا على التواصل مع المزيد من الناس."}],mcqs:[{question:"What phrase introduces a contrasting point?",options:["Furthermore","In addition","On the other hand","For example"],answer:"On the other hand"},{question:"Where do you usually state your own final opinion in this type of essay?",options:["In the first paragraph","In the middle","In the conclusion","After every point"],answer:"In the conclusion"}],story:{title:"From a Debate on Remote Work",summary:"On the one hand, working from home offers great flexibility. In addition, it saves time and money on commuting. However, a key disadvantage is the lack of social interaction. On the other hand, office work provides a better environment for collaboration. Furthermore, it's easier to separate work and home life. In conclusion, while both have pros and cons, the best solution depends on the individual and the job."}},{type:"lesson",title:"Writing: Making a Reservation",explanation:"Learn the key phrases and information needed to make a reservation by phone or email, for a hotel or restaurant. This includes specifying dates, times, number of people, and asking for confirmation.",examples:[{english:"I'd like to book a table for two, please.",arabic:"أود حجز طاولة لشخصين، من فضلك."},{english:"We'd like a table for four at 8 PM tonight.",arabic:"نود طاولة لأربعة أشخاص الساعة 8 مساءً الليلة."},{english:"Do you have any tables available for this evening?",arabic:"هل لديكم أي طاولات متاحة لهذا المساء؟"},{english:"I would like to make a reservation under the name of Smith.",arabic:"أود إجراء حجز باسم سميث."},{english:"I'd like to book a double room for three nights.",arabic:"أود حجز غرفة مزدوجة لثلاث ليال."},{english:"The reservation is from the 15th to the 18th of August.",arabic:"الحجز من 15 إلى 18 أغسطس."},{english:"Could you please confirm the booking by email?",arabic:"هل يمكنك تأكيد الحجز عبر البريد الإلكتروني؟"},{english:"Does the room have a sea view?",arabic:"هل الغرفة تطل على البحر؟"},{english:"What is the price per night?",arabic:"ما هو السعر لليلة الواحدة؟"},{english:"Is breakfast included?",arabic:"هل الإفطار مشمول؟"}],mcqs:[{question:"What information is essential for a restaurant reservation?",options:["Your age","Your favourite food","Number of people and time","Your address"],answer:"Number of people and time"},{question:"What do you ask for at the end of making a reservation to be sure?",options:["For the menu","For confirmation","For a discount","For the address"],answer:"For confirmation"}],story:{title:"From a Concierge's Notebook",summary:"A guest called. 'I'd like to book a table for two at 7 PM,' he said. 'The reservation is for this Saturday, under the name Jones.' I asked him for his contact number. After making the call, I messaged him, 'Could you please confirm you have received this? Your table is booked.' He replied, 'Thank you. Is the restaurant expensive?'"}},{type:"lesson",title:"Vocabulary: What's in a Word?",explanation:"This lesson explores different aspects of vocabulary, including parts of speech (noun, verb, adjective), spelling and pronunciation rules, word formation with prefixes and suffixes, and common collocations (words that go together).",examples:[{english:"'Act' (verb), 'action' (noun), 'actor' (noun), 'active' (adjective).",arabic:"'فعل' (فعل)، 'عمل' (اسم)، 'ممثل' (اسم)، 'نشط' (صفة)."},{english:"The words 'read' (present) and 'read' (past) are spelled the same but pronounced differently.",arabic:"كلمتا 'يقرأ' (مضارع) و'قرأ' (ماض) تكتبان بنفس الطريقة ولكن تنطقان بشكل مختلف."},{english:"The suffix '-ion' often turns a verb into a noun, e.g., 'decide' -> 'decision'.",arabic:"اللاحقة '-ion' غالبًا ما تحول الفعل إلى اسم، على سبيل المثال 'يقرر' -> 'قرار'."},{english:"The prefix 'un-' often means 'not', e.g., 'happy' -> 'unhappy'.",arabic:"البادئة 'un-' غالبًا ما تعني 'ليس'، على سبيل المثال 'سعيد' -> 'غير سعيد'."},{english:"We say 'drive carefully', not 'drive careful'. (verb + adverb)",arabic:"نقول 'قُد بحذر'، وليس 'قُد حذر'. (فعل + حال)"},{english:"Collocation: We 'make a mistake', we don't 'do a mistake'.",arabic:"تلازم لفظي: نقول 'ارتكب خطأ'، ولا نقول 'فعل خطأ'."},{english:"The words 'dear' and 'deer' sound the same but have different meanings (homophones).",arabic:"كلمتا 'عزيز' و'غزال' لهما نفس النطق ولكن لهما معانٍ مختلفة (متجانسات لفظية)."},{english:"We say 'strong coffee', not 'powerful coffee'.",arabic:"نقول 'قهوة قوية'، وليس 'قهوة جبارة'."},{english:"Recognizing the part of speech helps you use a word correctly in a sentence.",arabic:"التعرف على جزء الكلام يساعدك على استخدام الكلمة بشكل صحيح في الجملة."},{english:"Keeping a vocabulary notebook with examples is a great way to learn.",arabic:"الاحتفاظ بدفتر مفردات مع أمثلة هو طريقة رائعة للتعلم."}],mcqs:[{question:"What part of speech is 'beautiful' in 'a beautiful day'?",options:["Noun","Verb","Adjective","Adverb"],answer:"Adjective"},{question:"Which is a common collocation?",options:["fast food","quick food","rapid food","speedy food"],answer:"fast food"}],story:{title:"From a Linguistics Textbook",summary:"Understanding words is complex. A word has a pronunciation and a spelling, which can be different. It also has a part of speech, like 'noun' or 'verb'. For example, 'act' is a verb, but 'action' is a noun. We also combine words in set phrases, or collocations, like 'fast food', not 'quick food'. Knowing these rules makes your English sound natural."}},{type:"lesson",title:"Vocabulary: Art and Literature",explanation:"Learn vocabulary related to art (painter, masterpiece, sketch, exhibition) and literature (author, novel, chapter, biography). This includes verbs commonly associated with these fields, like 'paint', 'read', and 'write'.",examples:[{english:"Picasso was a famous painter.",arabic:"كان بيكاسو رسامًا مشهورًا."},{english:"I'm reading a fascinating novel by a new author.",arabic:"أقرأ رواية رائعة لمؤلف جديد."},{english:"We went to an exhibition of modern sculpture.",arabic:"ذهبنا إلى معرض للمنحوتات الحديثة."},{english:"The Mona Lisa is considered a masterpiece.",arabic:"تعتبر الموناليزا تحفة فنية."},{english:"Shakespeare wrote many famous plays and poems.",arabic:"كتب شكسبير العديد من المسرحيات والقصائد الشهيرة."},{english:"He drew a quick sketch of the landscape.",arabic:"رسم رسمًا تخطيطيًا سريعًا للمنظر الطبيعي."},{english:"I've just finished the first chapter of the book.",arabic:"لقد أنهيت للتو الفصل الأول من الكتاب."},{english:"She is writing a biography of a famous scientist.",arabic:"هي تكتب سيرة ذاتية لعالم مشهور."},{english:"My favorite poet is W.B. Yeats.",arabic:"شاعري المفضل هو دبليو بي ييتس."},{english:"The artist used a palette to mix his colors.",arabic:"استخدم الفنان لوحة ألوان لخلط ألوانه."}],mcqs:[{question:"A person who writes books is an...",options:["artist","author","actor","architect"],answer:"author"},{question:"A famous painting like the Mona Lisa is called a...",options:["sketch","sculpture","masterpiece","portrait"],answer:"masterpiece"}],story:{title:"From a Critic's Review",summary:"The author's new novel is a masterpiece. Each chapter is beautifully written. I also saw an exhibition by a talented young painter. Her portraits are amazing, and her sketches are full of life. It is rare to see a biography written with such style, or a poem with such power. These two artists, the writer and the painter, are the future."}},{type:"lesson",title:"Writing: A Description (1)",explanation:"Focuses on using descriptive adjectives and sensory language (what you see, hear, smell) to paint a vivid picture of a place or person for the reader.",examples:[{english:"The old house stood on a windswept hill.",arabic:"كان البيت القديم يقف على تل تعصف به الرياح."},{english:"She has sparkling blue eyes and a warm smile.",arabic:"لديها عينان زرقاوان متلألئتان وابتسامة دافئة."},{english:"The air smelled of fresh-cut grass and rain.",arabic:"كان الهواء يفوح برائحة العشب المقطوع حديثًا والمطر."},{english:"The city was a bustling metropolis, full of towering skyscrapers.",arabic:"كانت المدينة حاضرة صاخبة، مليئة بناطحات السحاب الشاهقة."},{english:"He wore a worn leather jacket that felt soft to the touch.",arabic:"كان يرتدي سترة جلدية بالية كانت ناعمة الملمس."},{english:"The roaring sound of the waterfall filled the valley.",arabic:"ملأ صوت الشلال الهادر الوادي."},{english:"The market was a vibrant explosion of color and noise.",arabic:"كان السوق انفجارًا حيويًا من الألوان والضوضاء."},{english:"Her voice was as gentle as a whisper.",arabic:"كان صوتها رقيقًا كالهمس."},{english:"The beach had fine, white sand and crystal-clear water.",arabic:"كان الشاطئ يحتوي على رمال بيضاء ناعمة ومياه صافية كالبلور."},{english:"The pizza had a crispy crust and was topped with gooey, melted cheese.",arabic:"كانت البيتزا ذات قشرة مقرمشة ومغطاة بجبنة ذائبة لزجة."}],mcqs:[{question:"To describe a sound, you might use an adjective like...",options:["sparkling","bustling","roaring","vibrant"],answer:"roaring"},{question:"Which adjective appeals to the sense of smell?",options:["soft","fresh-cut","towering","gentle"],answer:"fresh-cut"}],story:{title:"From a Travel Writer's Notebook",summary:"The small café was cozy and warm. The air smelled of strong coffee and sweet pastries. The owner was an old man with a gentle voice and sparkling eyes. Through the window, I could see the bustling street, full of bright colours and loud noises. The city was a vibrant, exciting place. I ordered a pizza with a crispy crust and gooey cheese."}},{type:"lesson",title:"Writing: A Letter of Application",explanation:"Learn the formal structure and language required for a job application letter. This includes outlining your qualifications, explaining your interest in the job, and using polite, professional language.",examples:[{english:"I am writing to apply for the position of [Job Title], as advertised on [Platform].",arabic:"أكتب لأتقدم لوظيفة [المسمى الوظيفي]، كما هو معلن على [المنصة]."},{english:"I believe my skills and experience are an excellent match for your requirements.",arabic:"أعتقد أن مهاراتي وخبرتي تتوافق بشكل ممتاز مع متطلباتكم."},{english:"As you can see from my enclosed CV, I have [number] years of experience in...",arabic:"كما ترون من سيرتي الذاتية المرفقة، لدي [عدد] سنوات من الخبرة في..."},{english:"During my time at [Previous Company], I was responsible for...",arabic:"خلال فترة عملي في [الشركة السابقة]، كنت مسؤولاً عن..."},{english:"I am a highly motivated and results-oriented individual.",arabic:"أنا شخص متحمس للغاية وموجه نحو النتائج."},{english:"I have excellent communication and teamwork skills.",arabic:"لدي مهارات تواصل وعمل جماعي ممتازة."},{english:"Thank you for your time and consideration.",arabic:"شكرا لوقتكم واهتمامكم."},{english:"I have attached my CV for your review.",arabic:"لقد أرفقت سيرتي الذاتية لمراجعتكم."},{english:"I am available for an interview at your earliest convenience.",arabic:"أنا متاح للمقابلة في أقرب وقت يناسبكم."},{english:"I look forward to hearing from you soon.",arabic:"أتطلع إلى الاستماع منكم قريبا."}],mcqs:[{question:"What is a common opening line for a letter of application?",options:["What's up?","I want this job.","I am writing to apply for the position of...","Here is my CV."],answer:"I am writing to apply for the position of..."},{question:"What does 'CV' stand for?",options:["Course Version","Curriculum Vitae","Company Volume","Corrected Version"],answer:"Curriculum Vitae"}],story:{title:"From a Career Advice Column",summary:"To get a job, you must write a good application letter. Start by saying, 'I am writing to apply for the position of...' Then, explain why you are suitable. Use phrases like, 'I have five years of experience in...' and 'I am a highly motivated individual.' Attach your CV. End the letter with, 'Thank you for your time and consideration. I look forward to hearing from you.'"}},{type:"lesson",title:"Writing: A Narrative (2)",explanation:"Building on the first narrative lesson, this introduces more complex storytelling techniques, such as using different past tenses (Past Simple, Continuous, Perfect) to show the sequence and timing of events.",examples:[{english:"The sun was shining and the birds were singing. (Setting the scene)",arabic:"كانت الشمس مشرقة والطيور تغني. (وصف المشهد)"},{english:"He had never seen anything like it before. (Using Past Perfect for earlier past)",arabic:"لم يكن قد رأى شيئًا كهذا من قبل. (استخدام الماضي التام للماضي الأسبق)"},{english:"While they were walking, they heard a strange noise. (Interrupted action)",arabic:"بينما كانوا يمشون، سمعوا ضوضاء غريبة. (فعل مقطوع)"},{english:"After he had finished breakfast, he went for a walk.",arabic:"بعد أن أنهى فطوره، ذهب في نزهة."},{english:"He realized he had left his keys inside the house.",arabic:"أدرك أنه قد ترك مفاتيحه داخل المنزل."},{english:"It had been raining for hours, so the ground was very wet.",arabic:"كانت تمطر لساعات، لذا كانت الأرض مبللة جدًا."},{english:"First he knocked on the door, then he called her name.",arabic:"أولاً طرق الباب، ثم نادى باسمها."},{english:"She was tired because she had been working all day.",arabic:"كانت متعبة لأنها كانت تعمل طوال اليوم."},{english:"The police arrived, but the thief had already escaped.",arabic:"وصلت الشرطة، لكن اللص كان قد هرب بالفعل."},{english:"By the time I got there, the party had nearly finished.",arabic:"بحلول الوقت الذي وصلت فيه، كانت الحفلة قد انتهت تقريبًا."}],mcqs:[{question:"To describe a background action that was interrupted, you use...",options:["Past Simple","Past Continuous","Past Perfect","Present Perfect"],answer:"Past Continuous"},{question:"To describe an action that happened *before* another past action, you use...",options:["Past Simple","Past Continuous","Past Perfect","Present Perfect"],answer:"Past Perfect"}],story:{title:"From a Mystery Story Opening",summary:"The detective arrived at the old house. The wind was howling. He walked to the door. It had already been opened. He entered cautiously. A fire was burning in the fireplace. Someone had been there very recently. While he was looking around, he noticed a photograph on the floor. He picked it up. He realized he had seen the face before."}},{type:"lesson",title:"Writing: A Description (2)",explanation:"This lesson expands on describing people, focusing on character and personality. It involves using a range of character adjectives and providing examples of behavior to support the description.",examples:[{english:"He is a very determined person; once he makes up his mind, he never gives up.",arabic:"هو شخص مصمم جداً؛ بمجرد أن يتخذ قراره، لا يستسلم أبدًا."},{english:"She has a great sense of humor and is always making people laugh.",arabic:"لديها حس فكاهة رائع ودائماً ما تجعل الناس يضحكون."},{english:"My uncle is incredibly generous; for example, he once gave a stranger his coat.",arabic:"عمي كريم بشكل لا يصدق؛ على سبيل المثال، أعطى مرة معطفه لغريب."},{english:"He can be a bit pessimistic and always expects the worst to happen.",arabic:"يمكن أن يكون متشائمًا بعض الشيء ودائمًا يتوقع حدوث الأسوأ."},{english:"She is adventurous and loves to travel to exotic places.",arabic:"هي مغامرة وتحب السفر إلى أماكن غريبة."},{english:"He's very practical and down-to-earth.",arabic:"إنه عملي جدًا وواقعي."},{english:"She is a loyal friend who will always support you.",arabic:"هي صديقة مخلصة ستدعمك دائمًا."},{english:"He is quite reserved and doesn't say much in meetings.",arabic:"إنه متحفظ تمامًا ولا يتحدث كثيرًا في الاجتماعات."},{english:"She is very organized and plans everything in detail.",arabic:"هي منظمة جدًا وتخطط لكل شيء بالتفصيل."},{english:"He has a curious mind and is always asking questions.",arabic:"لديه عقل فضولي ودائمًا ما يطرح الأسئلة."}],mcqs:[{question:"A person who is 'down-to-earth' is...",options:["adventurous","funny","practical and sensible","unfriendly"],answer:"practical and sensible"},{question:"To support a description of someone's character, it is good to...",options:["describe their appearance","give examples of their behavior","list their hobbies","say their age"],answer:"give examples of their behavior"}],story:{title:"From a Recommendation Letter",summary:"I am writing to recommend Sarah. She is a very determined and hardworking employee. She is also very organized; for example, she always plans her projects weeks in advance. She is a loyal team member. While she can be a bit reserved in large groups, she has a curious mind and asks excellent questions. She is not pessimistic; in fact, she is very optimistic."}},{type:"lesson",title:"Writing: A Biography",explanation:"Learn how to write a short biography of a person. This involves organizing key life events chronologically, using past tenses, and highlighting important achievements.",examples:[{english:"Nelson Mandela was born in South Africa in 1918.",arabic:"ولد نيلسون مانديلا في جنوب أفريقيا عام 1918."},{english:"As a young man, he studied law at university.",arabic:"عندما كان شابًا، درس القانون في الجامعة."},{english:"He became a key figure in the fight against apartheid.",arabic:"أصبح شخصية رئيسية في الكفاح ضد الفصل العنصري."},{english:"He spent 27 years in prison for his political activities.",arabic:"قضى 27 عامًا في السجن بسبب أنشطته السياسية."},{english:"After his release in 1990, he worked to end apartheid.",arabic:"بعد إطلاق سراحه في عام 1990، عمل على إنهاء الفصل العنصري."},{english:"In 1994, he was elected as the first black president of South Africa.",arabic:"في عام 1994، انتخب كأول رئيس أسود لجنوب أفريقيا."},{english:"He is remembered for his leadership and his work for reconciliation.",arabic:"يُذكر لقيادته وعمله من أجل المصالحة."},{english:"Marie Curie is famous for her research on radioactivity.",arabic:"تشتهر ماري كوري بأبحاثها حول النشاط الإشعاعي."},{english:"She was awarded the Nobel Prize in two different scientific fields.",arabic:"حصلت على جائزة نوبل في مجالين علميين مختلفين."},{english:"She died in 1934 from an illness caused by her long exposure to radiation.",arabic:"توفت في عام 1934 بسبب مرض ناتج عن تعرضها الطويل للإشعاع."}],mcqs:[{question:"A biography is usually written in which tense?",options:["Present Simple","Future","Past Simple","Present Continuous"],answer:"Past Simple"},{question:"What is the main purpose of a biography?",options:["To tell a fictional story","To describe a person's life and achievements","To argue a point","To give instructions"],answer:"To describe a person's life and achievements"}],story:{title:"From a Short Biography of Steve Jobs",summary:"Steve Jobs was born in San Francisco in 1955. He co-founded Apple Computer in 1976. He was forced out of his own company in 1985. After that, he started another company called NeXT. Apple bought this company in 1997, and Jobs returned. He then led the creation of the iMac, iPod, iPhone, and iPad. He died in 2011, but he is remembered as a great innovator."}},{type:"lesson",title:"Writing: Words that Join Ideas",explanation:"Focuses on using conjunctions and linking phrases (e.g., 'although', 'however', 'because', 'so', 'in addition') to connect ideas smoothly within sentences and between paragraphs.",examples:[{english:"He was tired, so he went to bed early.",arabic:"كان متعبًا، لذا ذهب إلى الفراش مبكرًا."},{english:"Although it was raining, we went for a walk.",arabic:"على الرغم من أنها كانت تمطر، ذهبنا في نزهة."},{english:"I couldn't go to the party because I was sick.",arabic:"لم أستطع الذهاب إلى الحفلة لأنني كنت مريضًا."},{english:"She is very smart. In addition, she is a talented musician.",arabic:"هي ذكية جدًا. بالإضافة إلى ذلك، هي موسيقية موهوبة."},{english:"He studied hard; however, he didn't pass the exam.",arabic:"درس بجد؛ ومع ذلك، لم ينجح في الامتحان."},{english:"The restaurant was expensive. Furthermore, the service was slow.",arabic:"كان المطعم باهظ الثمن. علاوة على ذلك، كانت الخدمة بطيئة."},{english:"You can have tea or coffee.",arabic:"يمكنك تناول الشاي أو القهوة."},{english:"I like him, but I don't trust him.",arabic:"أنا معجب به، لكنني لا أثق به."},{english:"We need to leave now, otherwise we will be late.",arabic:"نحن بحاجة إلى المغادرة الآن، وإلا فسوف نتأخر."},{english:"He is not only a good student but also a great athlete.",arabic:"إنه ليس فقط طالبًا جيدًا ولكن أيضًا رياضيًا رائعًا."}],mcqs:[{question:"Which word shows a reason?",options:["so","but","although","because"],answer:"because"},{question:"Which word shows a contrast?",options:["and","so","however","in addition"],answer:"however"}],story:{title:"From a Persuasive Essay",summary:"Everyone should exercise regularly because it is good for your health. In addition, it improves your mood. Although it can be difficult to find time, it is very important. You can go to a gym, or you can simply walk every day. It might be hard at first; however, you will soon feel the benefits. So, you should start today."}},{type:"lesson",title:"Writing: Correcting Mistakes (2) - Advanced",explanation:"This lesson tackles more complex and common errors, such as incorrect verb patterns, prepositional mistakes, and errors with reported speech, helping to refine writing accuracy.",examples:[{english:"Incorrect: I am agree with you. Correct: I agree with you.",arabic:"خطأ: I am agree with you. صحيح: I agree with you."},{english:"Incorrect: It depends of the weather. Correct: It depends on the weather.",arabic:"خطأ: It depends of the weather. صحيح: It depends on the weather."},{english:"Incorrect: He is good in English. Correct: He is good at English.",arabic:"خطأ: He is good in English. صحيح: He is good at English."},{english:"Incorrect: I suggest you to go. Correct: I suggest that you go / I suggest going.",arabic:"خطأ: I suggest you to go. صحيح: I suggest that you go / I suggest going."},{english:"Incorrect: I've been here since three hours. Correct: I've been here for three hours.",arabic:"خطأ: I've been here since three hours. صحيح: I've been here for three hours."},{english:"Incorrect: She said me that she was tired. Correct: She told me that she was tired.",arabic:"خطأ: She said me that she was tired. صحيح: She told me that she was tired."},{english:"Incorrect: Everybody are happy. Correct: Everybody is happy.",arabic:"خطأ: Everybody are happy. صحيح: Everybody is happy."},{english:"Incorrect: I have a good news. Correct: I have good news.",arabic:"خطأ: I have a good news. صحيح: I have good news."},{english:"Incorrect: We discussed about the problem. Correct: We discussed the problem.",arabic:"خطأ: We discussed about the problem. صحيح: We discussed the problem."},{english:"Incorrect: If I will see him, I will tell him. Correct: If I see him, I will tell him.",arabic:"خطأ: If I will see him, I will tell him. صحيح: If I see him, I will tell him."}],mcqs:[{question:"Which is correct?",options:["I'm looking forward to see you.","I'm looking forward to seeing you.","I look forward for seeing you.","I'm looking forward see you."],answer:"I'm looking forward to seeing you."},{question:"Which preposition follows 'interested'?",options:["on","at","about","in"],answer:"in"}],story:{title:"From an English Teacher's Diary",summary:"Today, a student wrote, 'I am agree with you.' I corrected it to 'I agree'. Another student wrote, 'It depends of you.' I explained it should be 'depends on'. Many students are good at vocabulary, but they make these small mistakes. Everybody makes mistakes, and that is okay. I told them that practice is the most important thing."}},{type:"lesson",title:"Vocabulary: Collocations",explanation:"Collocations are words that frequently appear together (e.g., 'make a mistake', 'heavy rain'). This lesson focuses on learning common verb-noun and adjective-noun pairings to make your English sound more natural.",examples:[{english:"It's important not to make a mistake.",arabic:"من المهم ألا ترتكب خطأ."},{english:"You need to do your homework every day.",arabic:"تحتاج إلى أداء واجبك المنزلي كل يوم."},{english:"She has a shower in the morning.",arabic:"تستحم في الصباح."},{english:"We had a great time at the party.",arabic:"قضينا وقتًا رائعًا في الحفلة."},{english:"He is trying to save money for a new car.",arabic:"يحاول توفير المال لسيارة جديدة."},{english:"Can you give me some advice?",arabic:"هل يمكنك أن تعطيني بعض النصائح؟"},{english:"I need to take a break from work.",arabic:"أحتاج إلى أخذ استراحة من العمل."},{english:"The doctor told me to get some exercise.",arabic:"أخبرني الطبيب أن أمارس بعض التمارين."},{english:"It's starting to rain heavily. We are expecting heavy rain.",arabic:"بدأت تمطر بغزارة. نحن نتوقع هطول أمطار غزيرة."},{english:"He told a funny joke.",arabic:"قال نكتة مضحكة."}],mcqs:[{question:"Which verb collocates with 'a photo'?",options:["make","do","take","give"],answer:"take"},{question:"Which adjective collocates with 'traffic'?",options:["strong","heavy","big","hard"],answer:"heavy"}],story:{title:"From a Self-Help Book on Productivity",summary:"To be successful, you must make good decisions and not make mistakes. Every day, you should take a shower, have a good breakfast, and get some exercise. Don't waste time on unimportant things. You need to save money and also have a good time. If you need help, ask a friend to give you some advice. And remember to take a break when you are tired."}},{type:"lesson",title:"Vocabulary: Phrasal Verbs (Literal vs. Idiomatic)",explanation:"This lesson introduces phrasal verbs and the difference between their literal meaning (e.g., 'She looked out of the window') and their idiomatic meaning (e.g., 'Look out!').",examples:[{english:"He picked up the book from the floor. (Literal)",arabic:"التقط الكتاب من على الأرض. (حرفي)"},{english:"He picked up some Italian on his trip to Rome. (Idiomatic - learned)",arabic:"تعلم بعض الإيطالية في رحلته إلى روما. (اصطلاحي - تعلم)"},{english:"She ran across the road. (Literal)",arabic:"ركضت عبر الطريق. (حرفي)"},{english:"I ran across an old friend yesterday. (Idiomatic - met by chance)",arabic:"صادفت صديقًا قديمًا أمس. (اصطلاحي - التقيت به صدفة)"},{english:"The plane took off from the runway. (Literal)",arabic:"أقلعت الطائرة من المدرج. (حرفي)"},{english:"His career really took off after that film. (Idiomatic - became successful)",arabic:"انطلقت مسيرته المهنية حقًا بعد ذلك الفيلم. (اصطلاحي - أصبح ناجحًا)"},{english:"Can you turn on the light? (Literal)",arabic:"هل يمكنك إشعال الضوء؟ (حرفي)"},{english:"The audience turned on the speaker. (Idiomatic - became hostile)",arabic:"أصبح الجمهور عدائيًا تجاه المتحدث. (اصطلاحي - أصبح عدائيًا)"},{english:"He looked up the word in a dictionary. (Idiomatic - searched for information)",arabic:"بحث عن الكلمة في القاموس. (اصطلاحي - بحث عن معلومات)"},{english:"Things are looking up. (Idiomatic - improving)",arabic:"الأمور تتحسن. (اصطلاحي - تتحسن)"}],mcqs:[{question:"What does 'give up' mean in 'Don't give up smoking'?",options:["start","continue","stop","reduce"],answer:"stop"},{question:"In 'He made up a story', does 'made up' mean built or invented?",options:["Built","Invented"],answer:"Invented"}],story:{title:"From a Biography of an Entrepreneur",summary:"Her career took off after she designed a new app. At first, she had to look up a lot of information. She ran across many problems. But she never gave up. When one idea failed, she would just move on to the next. Now, things are looking up and her company is very successful."}},{type:"lesson",title:"Vocabulary: Phrasal Verbs (Separable vs. Inseparable)",explanation:"Learn the rules for separable and inseparable phrasal verbs. Separable verbs allow the object to come between the verb and particle ('turn the TV on' or 'turn it on'), while inseparable verbs do not ('look after the baby').",examples:[{english:"Separable: Please turn on the light. / Please turn the light on.",arabic:"قابل للفصل: من فضلك أشعل الضوء. / من فضلك أشعل الضوء."},{english:"Separable with pronoun: Please turn it on. (NOT turn on it)",arabic:"قابل للفصل مع ضمير: من فضلك أشعله. (وليس turn on it)"},{english:"Inseparable: I will look after the children.",arabic:"غير قابل للفصل: سأعتني بالأطفال."},{english:"Inseparable with pronoun: I will look after them. (NOT look them after)",arabic:"غير قابل للفصل مع ضمير: سأعتني بهم. (وليس look them after)"},{english:"Separable: She threw away the old newspapers. / She threw the old newspapers away.",arabic:"قابل للفصل: رمت الصحف القديمة. / رمت الصحف القديمة بعيدًا."},{english:"Separable with pronoun: She threw them away.",arabic:"قابل للفصل مع ضمير: رمتهم بعيدًا."},{english:"Inseparable: He got on the bus.",arabic:"غير قابل للفصل: ركب الحافلة."},{english:"Inseparable: I ran into an old friend.",arabic:"غير قابل للفصل: صادفت صديقًا قديمًا."},{english:"Separable: Can you pick up my parcel? / Can you pick my parcel up?",arabic:"قابل للفصل: هل يمكنك استلام طردي؟ / هل يمكنك استلام طردي؟"},{english:"Separable with pronoun: Can you pick it up?",arabic:"قابل للفصل مع ضمير: هل يمكنك استلامه؟"}],mcqs:[{question:"Which sentence is correct?",options:["I look after them.","I look them after.","Both are correct.","Neither is correct."],answer:"I look after them."},{question:"Which sentence is INCORRECT?",options:["Take off your coat.","Take your coat off.","Take it off.","Take off it."],answer:"Take off it."}],story:{title:"From a Parent's To-Do List",summary:"Today I have to look after the kids. First, I'll wake them up. I need to get them on the school bus on time. After school, I will pick them up. We might run into their friends at the park. When we get home, they have to put away their toys. I'll ask them to turn off the TV and do their homework. I'll also throw the rubbish away."}},{type:"lesson",title:"Vocabulary: Modifying Adverbs",explanation:"Learn how to use adverbs like 'very', 'really', and 'absolutely' to modify adjectives. 'Very' is used with base adjectives ('very tired'), while 'absolutely' is used with strong adjectives ('absolutely exhausted').",examples:[{english:"The film was very good.",arabic:"كان الفيلم جيدًا جدًا."},{english:"The film was absolutely brilliant.",arabic:"كان الفيلم رائعًا للغاية."},{english:"It's a bit cold today.",arabic:"الجو بارد قليلاً اليوم."},{english:"It's absolutely freezing!",arabic:"الجو متجمد تمامًا!"},{english:"I'm quite tired.",arabic:"أنا متعب تمامًا."},{english:"I'm completely exhausted.",arabic:"أنا منهك تمامًا."},{english:"The house is really big.",arabic:"المنزل كبير حقًا."},{english:"The house is absolutely enormous.",arabic:"المنزل ضخم للغاية."},{english:"She was slightly surprised.",arabic:"كانت متفاجئة قليلاً."},{english:"She was utterly amazed.",arabic:"كانت مندهشة تمامًا."}],mcqs:[{question:"Which phrase is correct?",options:["very exhausted","absolutely tired","absolutely exhausted","very brilliant"],answer:"absolutely exhausted"},{question:"You can say 'very big' or...",options:["absolutely big","absolutely huge","very huge","slightly big"],answer:"absolutely huge"}],story:{title:"From a Mountaineer's Diary",summary:"The climb was very difficult. The weather was not just cold, it was absolutely freezing. The view from the top was really beautiful, in fact, it was absolutely breathtaking. I was very tired when I reached the summit. Actually, I was completely exhausted. But the feeling of achievement was absolutely amazing."}},{type:"lesson",title:"Vocabulary: Verbs and Nouns that Go Together",explanation:"This lesson focuses on common verb-noun collocations that might not be obvious, such as 'whistle a tune', 'lick an ice-cream', or 'hold your breath'.",examples:[{english:"He was whistling a happy tune.",arabic:"كان يصفر لحنًا سعيدًا."},{english:"The cat was licking its paws.",arabic:"كانت القطة تلعق كفوفها."},{english:"She held her breath and dived into the water.",arabic:"حبست أنفاسها وغطست في الماء."},{english:"Can you keep a secret?",arabic:"هل يمكنك الاحتفاظ بسر؟"},{english:"He broke his promise.",arabic:"لقد أخلف وعده."},{english:"Don't waste your time on that.",arabic:"لا تضيع وقتك في ذلك."},{english:"I need to catch the bus.",arabic:"أنا بحاجة للحاق بالحافلة."},{english:"She always tells the truth.",arabic:"هي دائما تقول الحقيقة."},{english:"Let's raise money for charity.",arabic:"دعونا نجمع المال للأعمال الخيرية."},{english:"He paid me a compliment.",arabic:"لقد أثنى علي."}],mcqs:[{question:"Which verb do you use with 'a secret'?",options:["tell","say","hold","keep"],answer:"keep"},{question:"Which verb do you use with 'a promise'?",options:["break","smash","cut","tear"],answer:"break"}],story:{title:"From a Children's Story",summary:"A little boy promised to keep a secret for his friend. He held his breath as he listened. His friend told him a wild story, but the boy knew he always told the truth. 'We have to raise money to save the magical tree!' his friend said. The boy knew he couldn't break his promise. He couldn't waste any time. He had to catch a bus to the town square immediately."}},{type:"lesson",title:"Vocabulary: Birth, Marriage, and Death",explanation:"Learn the key vocabulary associated with major life events, such as 'to be born', 'get engaged', 'get married', 'funeral', and 'to pass away'.",examples:[{english:"My nephew was born last week.",arabic:"ولد ابن أخي الأسبوع الماضي."},{english:"They are going to have a baby in June.",arabic:"سينجبون طفلاً في يونيو."},{english:"My sister got engaged last month.",arabic:"خطبت أختي الشهر الماضي."},{english:"They got married in a beautiful church.",arabic:"تزوجا في كنيسة جميلة."},{english:"The wedding reception was held in a hotel.",arabic:"أقيم حفل الزفاف في فندق."},{english:"Sadly, his grandfather passed away last year.",arabic:"للأسف، توفي جده العام الماضي."},{english:"The funeral will take place on Friday.",arabic:"ستقام الجنازة يوم الجمعة."},{english:"She is a widow; her husband died five years ago.",arabic:"هي أرملة؛ توفي زوجها قبل خمس سنوات."},{english:"They are celebrating their 50th wedding anniversary.",arabic:"يحتفلون بالذكرى الخمسين لزواجهم."},{english:"She is pregnant with her first child.",arabic:"هي حامل بطفلها الأول."}],mcqs:[{question:"What is the event called when two people get married?",options:["A funeral","A birthday","A wedding","An engagement"],answer:"A wedding"},{question:"What is a more polite way to say 'died'?",options:["expired","passed away","finished","ended"],answer:"passed away"}],story:{title:"From a Family History",summary:"My great-grandmother was born in 1920. She got married when she was 22. She had five children. My grandparents celebrated their 50th wedding anniversary last year. It was a wonderful party. Sadly, my great-grandfather passed away a few months later. His funeral was a celebration of his long and happy life."}},{type:"lesson",title:"Grammar Reference: Tenses Overview",explanation:"A summary of the main English tenses (Present, Past, Perfect, Continuous) and their primary uses. This serves as a quick reference guide.",examples:[{english:"Present Simple: I work in London. (Fact/Habit)",arabic:"المضارع البسيط: أعمل في لندن. (حقيقة/عادة)"},{english:"Present Continuous: I am working now. (Action in progress)",arabic:"المضارع المستمر: أنا أعمل الآن. (فعل قيد التقدم)"},{english:"Past Simple: I worked yesterday. (Finished past action)",arabic:"الماضي البسيط: عملت أمس. (فعل ماضٍ منتهٍ)"},{english:"Past Continuous: I was working when you called. (Action in progress in the past)",arabic:"الماضي المستمر: كنت أعمل عندما اتصلت. (فعل قيد التقدم في الماضي)"},{english:"Present Perfect: I have worked here for five years. (Past action with connection to present)",arabic:"المضارع التام: لقد عملت هنا لمدة خمس سنوات. (فعل ماضٍ له صلة بالحاضر)"},{english:"Past Perfect: I had worked there before I moved. (Action before another past action)",arabic:"الماضي التام: كنت قد عملت هناك قبل أن أنتقل. (فعل قبل فعل ماضٍ آخر)"},{english:"Future with 'will': I will help you. (Instant decision/Offer)",arabic:"المستقبل بـ 'will': سأساعدك. (قرار فوري/عرض)"},{english:"Future with 'going to': I am going to work tomorrow. (Plan/Intention)",arabic:"المستقبل بـ 'going to': سأعمل غدًا. (خطة/نية)"},{english:"Passive Voice: The report was written by John. (Focus on the action)",arabic:"المبني للمجهول: تمت كتابة التقرير بواسطة جون. (التركيز على الفعل)"},{english:"Conditional: If I had time, I would work more. (Hypothetical situation)",arabic:"الشرط: لو كان لدي وقت، لعملت أكثر. (موقف افتراضي)"}],mcqs:[{question:"Which tense is used for an action happening at the moment of speaking?",options:["Present Simple","Present Continuous","Present Perfect","Past Simple"],answer:"Present Continuous"},{question:"Which tense is used for an action that happened before another action in the past?",options:["Past Simple","Past Continuous","Present Perfect","Past Perfect"],answer:"Past Perfect"}],story:{title:"From 'A Brief History of Time'",summary:"The universe is expanding (Present Continuous). It began with a big bang (Past Simple). Scientists have looked for evidence for many years (Present Perfect). Before they discovered background radiation, they had developed the theory (Past Perfect). They predict the universe will continue to expand (Future with 'will'). If it had more mass, it would collapse (Second Conditional)."}},{type:"lesson",title:"Grammar Reference: Modal Verbs Overview",explanation:"A summary of modal auxiliary verbs (can, could, will, would, shall, should, may, might, must) and their functions, including ability, permission, obligation, and probability.",examples:[{english:"Ability: I can speak three languages.",arabic:"القدرة: أستطيع التحدث بثلاث لغات."},{english:"Permission: Can I borrow your pen?",arabic:"الإذن: هل يمكنني استعارة قلمك؟"},{english:"Advice: You should see a doctor.",arabic:"النصيحة: يجب أن تراجع طبيبًا."},{english:"Obligation: You must finish your homework.",arabic:"الالتزام: يجب عليك إنهاء واجبك."},{english:"Possibility: It might rain later.",arabic:"الإمكانية: قد تمطر لاحقًا."},{english:"Request: Could you help me, please?",arabic:"الطلب: هل يمكنك مساعدتي، من فضلك؟"},{english:"Offer: I'll carry that for you.",arabic:"العرض: سأحمل ذلك عنك."},{english:"Logical deduction (strong probability): He must be tired.",arabic:"استنتاج منطقي (احتمالية قوية): لا بد أنه متعب."},{english:"Logical deduction (impossibility): That can't be true.",arabic:"استنتاج منطقي (استحالة): لا يمكن أن يكون ذلك صحيحًا."},{english:"Hypothetical situation: If I won, I would travel the world.",arabic:"موقف افتراضي: لو فزت، لسافرت حول العالم."}],mcqs:[{question:"Which modal verb expresses strong obligation?",options:["should","can","must","might"],answer:"must"},{question:"Which modal verb is best for giving advice?",options:["must","should","can","may"],answer:"should"}],story:{title:"From 'The Meditations' by Marcus Aurelius",summary:"A Roman emperor wrote about how one should live. He said you must be a good person. You can't control what happens, but you can control your reaction. You should focus on what is in your power. It might be difficult, but it is the path to peace. He thought people could be better if they tried. He would often remind himself of these rules."}},{type:"lesson",title:"Grammar Reference: Passive Voice Overview",explanation:"A summary of how to form the passive voice in different tenses (e.g., is done, was done, has been done, will be done) and when to use it.",examples:[{english:"Present Simple: The office is cleaned every day.",arabic:"المضارع البسيط: يتم تنظيف المكتب كل يوم."},{english:"Present Continuous: The office is being cleaned now.",arabic:"المضارع المستمر: يتم تنظيف المكتب الآن."},{english:"Past Simple: The office was cleaned yesterday.",arabic:"الماضي البسيط: تم تنظيف المكتب أمس."},{english:"Past Continuous: The office was being cleaned when I arrived.",arabic:"الماضي المستمر: كان يتم تنظيف المكتب عندما وصلت."},{english:"Present Perfect: The office has been cleaned.",arabic:"المضارع التام: لقد تم تنظيف المكتب."},{english:"Past Perfect: The office had been cleaned before they left.",arabic:"الماضي التام: كان قد تم تنظيف المكتب قبل مغادرتهم."},{english:"Future (will): The office will be cleaned tomorrow.",arabic:"المستقبل (will): سيتم تنظيف المكتب غدًا."},{english:"Future (going to): The office is going to be cleaned.",arabic:"المستقبل (going to): سيتم تنظيف المكتب."},{english:"Modals: The office must be cleaned.",arabic:"الأفعال المساعدة: يجب تنظيف المكتب."},{english:"The passive is used when the action is more important than the agent.",arabic:"يستخدم المبني للمجهول عندما يكون الفعل أكثر أهمية من الفاعل."}],mcqs:[{question:"How do you make 'They build houses' passive?",options:["Houses are build.","Houses are built.","Houses are being built.","Houses were built."],answer:"Houses are built."},{question:"How do you make 'She has written a book' passive?",options:["A book is written.","A book has written.","A book has been written.","A book was written."],answer:"A book has been written."}],story:{title:"From a Documentary on Construction",summary:"This skyscraper was designed by a famous architect. The foundations were laid two years ago. Now, the main structure is being built. The windows will be installed next month. The project has been delayed several times. However, it is expected that the building will be completed by next year. It must be finished on time."}},{type:"lesson",title:"Grammar Reference: Conditionals Overview",explanation:"A summary of the main conditional structures (Zero, First, Second, Third) and their uses for talking about real, hypothetical, and past hypothetical situations.",examples:[{english:"Zero Conditional (General truth): If you heat water, it boils.",arabic:"الشرط الصفري (حقيقة عامة): إذا سخنت الماء، فإنه يغلي."},{english:"First Conditional (Real future possibility): If it rains, we will stay home.",arabic:"الشرط الأول (إمكانية مستقبلية حقيقية): إذا أمطرت، سنبقى في المنزل."},{english:"Second Conditional (Hypothetical present/future): If I had money, I would travel.",arabic:"الشرط الثاني (افتراضي في الحاضر/المستقبل): لو كان لدي مال، لسافرت."},{english:"Third Conditional (Hypothetical past): If I had studied, I would have passed.",arabic:"الشرط الثالث (افتراضي في الماضي): لو كنت قد درست، لكنت قد نجحت."},{english:"First: If you study, you will pass the exam.",arabic:"الأول: إذا درست، ستنجح في الامتحان."},{english:"Second: If I were you, I would tell the truth.",arabic:"الثاني: لو كنت مكانك، لقلت الحقيقة."},{english:"Third: She would have come if you had invited her.",arabic:"الثالث: كانت ستأتي لو كنت قد دعوتها."},{english:"Zero: When the sun goes down, it gets dark.",arabic:"الصفري: عندما تغرب الشمس، يحل الظلام."},{english:"First: I'll call you if I have time.",arabic:"الأول: سأتصل بك إذا كان لدي وقت."},{english:"Second: What would you do if you won the lottery?",arabic:"الثاني: ماذا كنت ستفعل لو ربحت اليانصيب؟"}],mcqs:[{question:"Which conditional is for hypothetical past situations?",options:["First","Second","Third","Zero"],answer:"Third"},{question:"Which conditional is for real future possibilities?",options:["First","Second","Third","Zero"],answer:"First"}],story:{title:"From 'A Christmas Carol'",summary:"A mean old man, Scrooge, is visited by ghosts. The first ghost shows him his past. 'If I had been kinder, I would have been happier,' Scrooge thinks. The second ghost shows him the present. 'If people have love, they are rich,' he learns. The final ghost shows him the future. 'If I don't change, I will die alone.' Scrooge wakes up a new man. He knows that if he is generous, people will love him."}},{type:"lesson",title:"Grammar Reference: Reported Speech Overview",explanation:"A quick reference guide to the rules of reported speech, including tense backshift, changes to pronouns and time expressions, and the structure for reporting statements, questions, and commands.",examples:[{english:"Statement: 'I am happy.' -> He said he was happy.",arabic:"جملة خبرية: 'أنا سعيد.' -> قال إنه كان سعيدًا."},{english:"Question: 'Where are you?' -> She asked where I was.",arabic:"سؤال: 'أين أنت؟' -> سألت أين كنت."},{english:"Command: 'Sit down.' -> He told me to sit down.",arabic:"أمر: 'اجلس.' -> أخبرني أن أجلس."},{english:"Request: 'Please wait.' -> She asked me to wait.",arabic:"طلب: 'من فضلك انتظر.' -> طلبت مني أن أنتظر."},{english:"Pronoun change: 'I like your coat.' -> He said he liked my coat.",arabic:"تغيير الضمير: 'أنا أحب معطفك.' -> قال إنه أحب معطفي."},{english:"Tense backshift: 'I will call you.' -> She said she would call me.",arabic:"تغيير الزمن للوراء: 'سأتصل بك.' -> قالت إنها ستتصل بي."},{english:"Time change: 'I'll see you tomorrow.' -> He said he would see me the next day.",arabic:"تغيير الزمن: 'سأراك غدًا.' -> قال إنه سيراني في اليوم التالي."},{english:"'Yes/No' question: 'Are you busy?' -> She asked if I was busy.",arabic:"سؤال نعم/لا: 'هل أنت مشغول؟' -> سألت إذا كنت مشغولاً."},{english:"Negative command: 'Don't shout.' -> He told them not to shout.",arabic:"أمر منفي: 'لا تصرخ.' -> أخبرهم ألا يصرخوا."},{english:"The reporting verb 'said' doesn't take an object, 'told' does: He told me... (NOT He said me...)",arabic:"فعل النقل 'قال' لا يأخذ مفعولاً به، بينما 'أخبر' يأخذ: أخبرني... (وليس قال لي...)"}],mcqs:[{question:"How do you report the question 'What are you doing?'",options:["He asked what I was doing.","He asked what was I doing.","He asked what are you doing.","He asked what I am doing."],answer:"He asked what I was doing."},{question:"How do you report the command 'Don't go!'",options:["She told me don't go.","She told me to not go.","She told me not to go.","She said me not to go."],answer:"She told me not to go."}],story:{title:"From a Newspaper Article",summary:"The mayor gave a speech yesterday. He said that the city was growing fast. He told reporters that new schools would be built. He was asked when the project would start. He replied that he didn't know the exact date yet. He also asked residents to be patient. He promised that he would provide more information soon."}},{type:"lesson",title:"Grammar Reference: Verb Patterns Overview",explanation:"A summary chart of common verbs and the patterns that follow them (verb + -ing, verb + to-infinitive, etc.). This is a useful tool for avoiding common mistakes.",examples:[{english:"Verb + -ing: I enjoy reading.",arabic:"فعل + -ing: أستمتع بالقراءة."},{english:"Verb + to-infinitive: I want to leave.",arabic:"فعل + to-infinitive: أريد أن أغادر."},{english:"Verb + object + to-infinitive: I asked him to help.",arabic:"فعل + مفعول به + to-infinitive: طلبت منه المساعدة."},{english:"Verb + object + infinitive (no to): She made me laugh.",arabic:"فعل + مفعول به + infinitive (بدون to): جعلتني أضحك."},{english:"Verb + that-clause: I think that you are right.",arabic:"فعل + جملة that: أعتقد أنك على حق."},{english:"Preposition + -ing: I'm good at playing chess.",arabic:"حرف جر + -ing: أنا جيد في لعب الشطرنج."},{english:"Verbs like 'love', 'hate', 'start' can take -ing or to-infinitive.",arabic:"أفعال مثل 'أحب'، 'أكره'، 'أبدأ' يمكن أن تأخذ -ing أو to-infinitive."},{english:"'Stop' has different meanings: He stopped smoking. (quit) / He stopped to smoke. (paused to do something)",arabic:"'توقف' لها معان مختلفة: توقف عن التدخين. (أقلع) / توقف ليدخن. (توقف مؤقتًا للقيام بشيء ما)"},{english:"Avoid, finish, mind are followed by -ing.",arabic:"تجنب، أنهى، مانع يتبعها -ing."},{english:"Decide, hope, promise are followed by to-infinitive.",arabic:"قرر، أمل، وعد يتبعها to-infinitive."}],mcqs:[{question:"Which pattern follows the verb 'enjoy'?",options:["to-infinitive","-ing","infinitive (no to)"],answer:"-ing"},{question:"Which pattern follows the verb 'decide'?",options:["to-infinitive","-ing","infinitive (no to)"],answer:"to-infinitive"}],story:{title:"From 'Eat, Pray, Love'",summary:"The author decided to change her life. She wanted to travel. She enjoyed learning Italian in Rome. In India, she learned to meditate. Her teacher made her sit for hours. She avoided thinking about her past. She started to feel happy again. She promised to live a more balanced life."}},{type:"lesson",title:"Phonetic Symbols: Vowels",explanation:"An introduction to the phonetic symbols used to represent vowel sounds in English, helping to improve pronunciation accuracy.",examples:[{english:"/i:/ as in see, meet, eat",arabic:"/i:/ كما في see, meet, eat"},{english:"/ɪ/ as in sit, his, big",arabic:"/ɪ/ كما في sit, his, big"},{english:"/e/ as in ten, bed, said",arabic:"/e/ كما في ten, bed, said"},{english:"/æ/ as in cat, stamp, happy",arabic:"/æ/ كما في cat, stamp, happy"},{english:"/ɑː/ as in father, car, park",arabic:"/ɑː/ كما في father, car, park"},{english:"/ɒ/ as in hot, got, watch (in British English)",arabic:"/ɒ/ كما في hot, got, watch (في الإنجليزية البريطانية)"},{english:"/ɔː/ as in four, morning, walk",arabic:"/ɔː/ كما في four, morning, walk"},{english:"/ʊ/ as in put, good, football",arabic:"/ʊ/ كما في put, good, football"},{english:"/uː/ as in you, food, blue",arabic:"/uː/ كما في you, food, blue"},{english:"/ʌ/ as in sun, but, come",arabic:"/ʌ/ كما في sun, but, come"}],mcqs:[{question:"Which symbol represents the vowel sound in 'sheep'?",options:["/ɪ/","/e/","/i:/","/aɪ/"],answer:"/i:/"},{question:"Which symbol represents the vowel sound in 'ship'?",options:["/ɪ/","/e/","/i:/","/aɪ/"],answer:"/ɪ/"}],story:{title:"From a Pronunciation Guide",summary:"Let's meet (/i:/) and sit (/ɪ/) on this red (/e/) mat (/æ/). The father (/ɑː/) in the hot (/ɒ/) room saw (/ɔː/) a good (/ʊ/) book about blue (/uː/) ducks (/ʌ/) under the sun (/ʌ/)."}},{type:"lesson",title:"Phonetic Symbols: Consonants",explanation:"An introduction to the phonetic symbols used to represent consonant sounds in English, including sounds that can be tricky for learners.",examples:[{english:"/p/ as in pen, happy, stop",arabic:"/p/ كما في pen, happy, stop"},{english:"/b/ as in big, table, job",arabic:"/b/ كما في big, table, job"},{english:"/t/ as in tea, student, get",arabic:"/t/ كما في tea, student, get"},{english:"/d/ as in do, middle, good",arabic:"/d/ كما في do, middle, good"},{english:"/k/ as in cat, back, school",arabic:"/k/ كما في cat, back, school"},{english:"/g/ as in go, bigger, bag",arabic:"/g/ كما في go, bigger, bag"},{english:"/θ/ as in thanks, nothing, bath (voiceless 'th')",arabic:"/θ/ كما في thanks, nothing, bath ('th' غير صوتي)"},{english:"/ð/ as in the, other, with (voiced 'th')",arabic:"/ð/ كما في the, other, with ('th' صوتي)"},{english:"/ʃ/ as in she, station, fish ('sh' sound)",arabic:"/ʃ/ كما في she, station, fish (صوت 'sh')"},{english:"/tʃ/ as in child, teacher, watch ('ch' sound)",arabic:"/tʃ/ كما في child, teacher, watch (صوت 'ch')"}],mcqs:[{question:"Which symbol represents the first sound in 'think'?",options:["/t/","/s/","/ð/","/θ/"],answer:"/θ/"},{question:"Which symbol represents the last sound in 'wash'?",options:["/s/","/z/","/ʃ/","/tʃ/"],answer:"/ʃ/"}],story:{title:"From a Children's Alphabet Book",summary:"The big (/b/) cat (/k/) did (/d/) go (/g/). She (/ʃ/) saw this (/ð/) thing (/θ/). The child (/tʃ/) had a big job (/dʒ/). The student (/t/) took a pen (/p/). They watch (/tʃ/) television (/ʒ/)."}},{type:"lesson",title:"Phonetic Symbols: Diphthongs",explanation:"Learn to recognize and pronounce diphthongs, which are two vowel sounds combined in a single syllable (e.g., the sounds in 'name', 'my', 'boy').",examples:[{english:"/eɪ/ as in name, paid, play",arabic:"/eɪ/ كما في name, paid, play"},{english:"/aɪ/ as in my, time, buy",arabic:"/aɪ/ كما في my, time, buy"},{english:"/ɔɪ/ as in boy, noise, point",arabic:"/ɔɪ/ كما في boy, noise, point"},{english:"/əʊ/ as in no, go, road (in British English)",arabic:"/əʊ/ كما في no, go, road (في الإنجليزية البريطانية)"},{english:"/aʊ/ as in how, now, town",arabic:"/aʊ/ كما في how, now, town"},{english:"/ɪə/ as in hear, near, beer",arabic:"/ɪə/ كما في hear, near, beer"},{english:"/eə/ as in where, bear, hair",arabic:"/eə/ كما في where, bear, hair"},{english:"/ʊə/ as in tour, poor, sure",arabic:"/ʊə/ كما في tour, poor, sure"},{english:"A diphthong is a glide from one vowel to another.",arabic:"الديفثونج هو انزلاق من حرف علة إلى آخر."},{english:"Understanding diphthongs is key to a natural accent.",arabic:"فهم الديفثونجات هو مفتاح اللكنة الطبيعية."}],mcqs:[{question:"Which symbol represents the vowel sound in 'house'?",options:["/əʊ/","/ɔɪ/","/aʊ/","/u:/"],answer:"/aʊ/"},{question:"Which symbol represents the vowel sound in 'train'?",options:["/e/","/æ/","/aɪ/","/eɪ/"],answer:"/eɪ/"}],story:{title:"From a Poem for Pronunciation Practice",summary:"The boy (/ɔɪ/) with no (/əʊ/) name (/eɪ/) is over there (/eə/). How (/aʊ/) can I (/aɪ/) go near (/ɪə/)? I am not sure (/ʊə/). My (/aɪ/) name is James (/eɪ/). I will go now (/aʊ/)."}},{type:"lesson",title:"Irregular Verbs List (A-G)",explanation:"Study and practice the past simple and past participle forms of common irregular verbs from 'be' to 'grow'.",examples:[{english:"be, was/were, been",arabic:"be, was/were, been"},{english:"begin, began, begun",arabic:"begin, began, begun"},{english:"break, broke, broken",arabic:"break, broke, broken"},{english:"bring, brought, brought",arabic:"bring, brought, brought"},{english:"buy, bought, bought",arabic:"buy, bought, bought"},{english:"catch, caught, caught",arabic:"catch, caught, caught"},{english:"come, came, come",arabic:"come, came, come"},{english:"do, did, done",arabic:"do, did, done"},{english:"drink, drank, drunk",arabic:"drink, drank, drunk"},{english:"eat, ate, eaten",arabic:"eat, ate, eaten"},{english:"find, found, found",arabic:"find, found, found"},{english:"go, went, gone",arabic:"go, went, gone"}],mcqs:[{question:"What is the past participle of 'go'?",options:["goed","went","gone","wented"],answer:"gone"},{question:"What is the past simple of 'begin'?",options:["begun","began","begined","begon"],answer:"began"}],story:{title:"From a Diary Entry",summary:"I went to the store and bought some milk. When I came home, I found my brother had eaten all the cookies. He had also drunk all the juice. I was not happy. I had done my chores, but he had done nothing. It felt like my good mood had gone."}},{type:"lesson",title:"Irregular Verbs List (H-P)",explanation:"Study and practice the past simple and past participle forms of common irregular verbs from 'hang' to 'put'.",examples:[{english:"have, had, had",arabic:"have, had, had"},{english:"hear, heard, heard",arabic:"hear, heard, heard"},{english:"know, knew, known",arabic:"know, knew, known"},{english:"leave, left, left",arabic:"leave, left, left"},{english:"let, let, let",arabic:"let, let, let"},{english:"lose, lost, lost",arabic:"lose, lost, lost"},{english:"make, made, made",arabic:"make, made, made"},{english:"meet, met, met",arabic:"meet, met, met"},{english:"pay, paid, paid",arabic:"pay, paid, paid"},{english:"put, put, put",arabic:"put, put, put"}],mcqs:[{question:"What is the past participle of 'know'?",options:["knew","knowed","known","knewed"],answer:"known"},{question:"What is the past simple of 'lose'?",options:["losed","losed","lost","leaved"],answer:"lost"}],story:{title:"From a Short Story about a Bad Day",summary:"I had a terrible day. I lost my wallet. I left my keys at home. I paid for a coffee but the machine made a horrible noise. I met my boss, and he was angry. I had known it would be a bad day when I heard the news this morning. I put my head in my hands and sighed."}},{type:"lesson",title:"Irregular Verbs List (Q-Z)",explanation:"Study and practice the past simple and past participle forms of common irregular verbs from 'read' to 'write'.",examples:[{english:"read, read, read (pronunciation changes)",arabic:"read, read, read (يتغير النطق)"},{english:"run, ran, run",arabic:"run, ran, run"},{english:"say, said, said",arabic:"say, said, said"},{english:"see, saw, seen",arabic:"see, saw, seen"},{english:"sell, sold, sold",arabic:"sell, sold, sold"},{english:"send, sent, sent",arabic:"send, sent, sent"},{english:"sing, sang, sung",arabic:"sing, sang, sung"},{english:"speak, spoke, spoken",arabic:"speak, spoke, spoken"},{english:"take, took, taken",arabic:"take, took, taken"},{english:"tell, told, told",arabic:"tell, told, told"},{english:"think, thought, thought",arabic:"think, thought, thought"},{english:"write, wrote, written",arabic:"write, wrote, written"}],mcqs:[{question:"What is the past participle of 'speak'?",options:["spoke","speaked","spoken","spoke"],answer:"spoken"},{question:"What is the past simple of 'write'?",options:["written","wrote","writed","wroten"],answer:"wrote"}],story:{title:"From an Author's Biography",summary:"She wrote her first novel in a year. She sent it to a publisher. They said they loved it. She thought it was a dream. She had sung for joy when she heard the news. She had spoken to her editor on the phone. She told him all her ideas. The book sold millions of copies. She had never seen so much success."}}],Ru=[{type:"story",title:"The Fox and the Grapes",content:`One hot summer's day, a fox was strolling through an orchard. He saw a bunch of delicious-looking grapes hanging from a high branch. "Just the thing to quench my thirst," he thought. He backed up a few paces, took a run and a jump, but just missed the hanging grapes. Again and again he tried, but he could not reach them. At last, he gave up and walked away with his nose in the air, saying, "I am sure they are sour."`},{type:"story",title:"The Lion and the Mouse",content:'A lion was sleeping in his lair. A little mouse began running up and down on him. This soon wakened the lion, who placed his huge paw on him and opened his big jaws to swallow him. "Pardon, O King!" cried the little mouse. "Forgive me this time. I shall never repeat it and I shall never forget your kindness. Who knows, I may be able to do you a good turn one of these days?" The lion was so tickled by the idea of the mouse being able to help him that he lifted his paw and let him go. Some time later, the lion was caught in a trap, and the hunters who desired to carry him alive to the King, tied him to a tree while they went in search of a wagon to carry him on. Just then the little mouse happened to pass by, and seeing the sad plight in which the lion was, went up to him and soon gnawed away the ropes that bound the King of the Beasts. "Was I not right?" said the little mouse, very happy to help the lion.'},{type:"story",title:"The Tortoise and the Hare",content:`An hare was making fun of the tortoise one day for being so slow. "Do you ever get anywhere?" he asked with a mocking laugh. "Yes," replied the tortoise, "and I get there sooner than you think. I'll run you a race and prove it." The hare was much amused at the idea of running a race with the tortoise, but for the fun of the thing he agreed. So the fox, who had consented to act as judge, marked the distance and started the runners off. The hare was soon far out of sight, and to make the tortoise feel very deeply how ridiculous it was for him to try a race with a hare, he lay down beside the course to take a nap until the tortoise should catch up. The tortoise meanwhile kept going slowly but steadily, and, after a time, passed the place where the hare was sleeping. The hare slept on very peacefully; and when at last he did wake up, the tortoise was near the goal. The hare now ran his swiftest, but he could not overtake the tortoise in time.`},{type:"story",title:"The Crow and the Pitcher",content:"A thirsty crow found a pitcher with a little water in it. But the pitcher was high and had a narrow neck, and no matter how he tried, he could not reach the water. The poor thing felt as if he must die of thirst. Then an idea came to him. He took a pebble and dropped it into the pitcher. Then he took another pebble and dropped it into the pitcher. He took another and another and dropped them in. At last, he saw the water rise, and after casting in a few more pebbles, he was able to quench his thirst and save his life."},{type:"story",title:"The Town Mouse and the Country Mouse",content:'A country mouse invited a town mouse to dinner. The town mouse came, but was not impressed with the simple food. He said, "You live a poor life, cousin. Come with me and I will show you how to live!" So they went to the town. The town mouse led him to a great dining hall. They feasted on cakes and jellies. Suddenly, they heard a great barking. Two huge dogs rushed in. The mice scampered away. "Goodbye, cousin," said the country mouse. "Better beans and bacon in peace than cakes and ale in fear."'},{type:"story",title:"The Boy Who Cried Wolf",content:"There was once a young shepherd boy who tended his sheep at the foot of a mountain near a dark forest. It was rather lonely for him all day, so he thought upon a plan by which he could get a little company and some excitement. He rushed down towards the village calling out 'Wolf, Wolf,' and the villagers came out to meet him, and some of them stopped with him for a considerable time. This pleased the boy so much that a few days afterwards he tried the same trick, and again the villagers came to his help. But shortly after this a wolf actually did come out from the forest, and began to worry the sheep, and the boy of course cried out 'Wolf, Wolf,' still louder than before. But this time the villagers, who had been fooled twice before, thought the boy was again deceiving them, and nobody stirred to come to his help."},{type:"story",title:"The Ant and the Grasshopper",content:"In a field one summer's day a Grasshopper was hopping about, chirping and singing to its heart's content. An Ant passed by, bearing along with great toil an ear of corn he was taking to the nest. 'Why not come and chat with me,' said the Grasshopper, 'instead of toiling and moiling in that way?' 'I am helping to lay up food for the winter,' said the Ant, 'and recommend you to do the same.' 'Why bother about winter?' said the Grasshopper; 'we have got plenty of food at present.' But the Ant went on its way and continued its toil. When the winter came the Grasshopper had no food and found itself dying of hunger, while it saw the ants distributing every day corn and grain from the stores they had collected in the summer."},{type:"story",title:"The Goose with the Golden Eggs",content:"One day a countryman going to the nest of his Goose found there an egg all yellow and glittering. When he took it up it was as heavy as lead and he was going to throw it away, because he thought a trick had been played upon him. But he took it home on second thoughts, and soon found to his delight that it was an egg of pure gold. Every morning the same thing occurred, and he soon became rich by selling his eggs. As he grew rich he grew greedy; and thinking to get at once all the gold the Goose could give, he killed it and opened it only to find nothing."},{type:"story",title:"The North Wind and the Sun",content:"The North Wind and the Sun had a quarrel about which of them was the stronger. While they were disputing with much heat and bluster, a Traveler passed along the road wrapped in a cloak. 'Let us agree,' said the Sun, 'that he is the stronger who can strip that Traveler of his cloak.' 'Very well,' growled the North Wind, and at once sent a cold, howling blast against the Traveler. With the first gust of wind the ends of the cloak whipped about the Traveler's body. But he immediately wrapped it closely around him, and the harder the Wind blew, the tighter he held it to him. The North Wind tore angrily at the cloak, but all his efforts were in vain. Then the Sun began to shine. At first his beams were gentle, and in the welcome warmth after the bitter cold of the North Wind, the Traveler unfastened his cloak and let it hang loosely from his shoulders. The Sun's rays grew warmer and warmer. The man took off his cap and mopped his brow. At last he became so heated that he pulled off his cloak, and, to escape the blazing sunshine, threw himself down in the welcome shade of a tree."},{type:"story",title:"Saudi Arabia's AI Vision",content:"In the heart of the desert, a new future is being built. This is Saudi Arabia's Vision 2030, a huge plan to change the country. And what is at the center of this plan? Artificial Intelligence. The Saudi Data and AI Authority, known as SDAIA, is leading this amazing transformation. They are investing billions of dollars to make the country a world leader in AI. One of the most exciting projects is NEOM, a futuristic city where AI will control almost everything, from driverless cars to clean energy. The latest news is that Saudi Arabia is hosting global AI events and creating its own powerful language models. The kingdom understands that AI is not just technology; it is the key to a new, smarter, and more innovative world."}],gi=[];let Du=0,qu=0;for(;Du<Mu.length||qu<Ru.length;){for(let e=0;e<4&&Du<Mu.length;e++)gi.push(Mu[Du++]);qu<Ru.length&&gi.push(Ru[qu++])}const Tq={type:"lesson",title:"Future Lesson",explanation:"This is a placeholder for a future lesson. Content will be added soon based on advanced topics.",examples:[{english:"This is a placeholder example.",arabic:"هذا مثال مؤقت."},{english:"Another placeholder.",arabic:"مثال مؤقت آخر."},{english:"More content coming soon.",arabic:"المزيد من المحتوى قريبًا."},{english:"Keep checking for updates.",arabic:"استمر في التحقق من وجود تحديثات."},{english:"Practice makes perfect.",arabic:"التمرين يؤدي إلى الإتقان."},{english:"This will be a new grammar topic.",arabic:"سيكون هذا موضوعًا نحويًا جديدًا."},{english:"We will add vocabulary lessons too.",arabic:"سنضيف دروسًا في المفردات أيضًا."},{english:"Thank you for your patience.",arabic:"شكرا لك على صبرك."},{english:"Learning is a journey.",arabic:"التعلم رحلة."},{english:"Enjoy the process!",arabic:"استمتع بالعملية!"}],mcqs:[{question:"This is a placeholder question.",options:["A","B"],answer:"A"}]};for(;gi.length<80;){const e={...Tq,title:`درس متقدم قيد الإعداد ${gi.length+1}`};gi.push(e)}const cr=gi.slice(0,80),Kr=uc()(dc((e,t)=>({highestItemCompleted:null,completedItemsCount:0,finalExamPassed:!1,completeItem:n=>{const r=cr.map(s=>s.title),i=t().highestItemCompleted,a=i?r.indexOf(i):-1,o=r.indexOf(n);o>a&&e({highestItemCompleted:n,completedItemsCount:o+1})},setFinalExamPassed:n=>{e({finalExamPassed:n})},resetProgress:()=>e({highestItemCompleted:null,completedItemsCount:0,finalExamPassed:!1})}),{name:"learning-progress-storage",storage:Vo(()=>localStorage),onRehydrateStorage:()=>e=>{if(e){const t=cr.map(r=>r.title),n=e.highestItemCompleted?t.indexOf(e.highestItemCompleted):-1;e.completedItemsCount=n+1,e.finalExamPassed===void 0&&(e.finalExamPassed=!1)}}}));function jq({lesson:e}){const[t,n]=x.useState({}),[r,i]=x.useState(!1),{completeItem:a}=Kr(),o=e.mcqs,s=(d,f)=>{r||n(p=>({...p,[d]:f}))},l=()=>{i(!0),o.reduce((f,p,y)=>t[y]===p.answer?f+1:f,0)/o.length>=.7&&a(e.title)},c=()=>{n({}),i(!1)},u=x.useMemo(()=>r?o.reduce((d,f,p)=>t[p]===f.answer?d+1:d,0):0,[r,t,o]);return h.jsx(pt,{className:"h-full",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-xl font-semibold",children:"اختبر معلوماتك"}),r&&h.jsx(oe,{onClick:c,variant:"outline",children:"أعد المحاولة"})]}),r&&h.jsxs(ny,{className:"mb-6 bg-primary/10 border-primary/20",children:[h.jsx(Lo,{className:"h-4 w-4 text-primary"}),h.jsx(ry,{children:"نتيجتك"}),h.jsxs(iy,{children:["لقد حصلت على ",u," من ",o.length," إجابات صحيحة."]})]}),h.jsx("div",{className:"space-y-6",children:o.map((d,f)=>h.jsxs(Ue,{className:pe("bg-muted/50 p-4 transition-colors",r&&(t[f]===d.answer?"border-green-500":"border-destructive")),children:[h.jsxs("p",{className:"font-semibold mb-3",children:[f+1,". ",d.question]}),h.jsx($o,{value:t[f]||"",onValueChange:p=>s(f,p),disabled:r,children:d.options.map((p,y)=>{const m=p===d.answer,g=t[f]===p;return h.jsxs("div",{className:pe("flex items-center space-x-2 rounded-md p-2",r&&m&&"bg-green-500/10 text-green-800 dark:text-green-300",r&&g&&!m&&"bg-destructive/10 text-destructive"),children:[h.jsx(Fo,{value:p,id:`q${f}-o${y}`}),h.jsx(jt,{htmlFor:`q${f}-o${y}`,className:"flex-1 cursor-pointer",children:p}),r&&m&&h.jsx(Jj,{className:"h-5 w-5 text-green-500"}),r&&g&&!m&&h.jsx(ay,{className:"h-5 w-5 text-destructive"})]},y)})})]},f))}),!r&&h.jsx("div",{className:"mt-6 flex justify-end",children:h.jsx(oe,{onClick:l,children:"تحقق من الإجابات"})})]})})}function Pq({lesson:e}){const[t,n]=x.useState([]),[r,i]=x.useState(""),[a,o]=x.useState(!1),{toast:s}=Et(),l=x.useRef(null),[c,u]=x.useState(!1),d=x.useRef(null);x.useEffect(()=>{if(l.current){const m=l.current.querySelector("div");m&&m.scrollTo({top:m.scrollHeight,behavior:"smooth"})}},[t]),x.useEffect(()=>{const m=window.SpeechRecognition||window.webkitSpeechRecognition;m&&(d.current=new m,d.current.continuous=!1,d.current.lang="ar-SA",d.current.interimResults=!1,d.current.onresult=g=>{const w=g.results[0][0].transcript;i(w),y(w)},d.current.onerror=g=>{console.error("Speech recognition error:",g.error),s({variant:"destructive",title:"خطأ في التعرف على الكلام",description:"لم نتمكن من التعرف على صوتك. الرجاء المحاولة مرة أخرى."}),u(!1)},d.current.onend=()=>{u(!1)})},[s]);const f=()=>{if(!d.current){s({variant:"destructive",title:"المتصفح غير مدعوم",description:"ميزة التعرف على الكلام غير مدعومة في هذا المتصفح."});return}c?d.current.stop():d.current.start(),u(!c)},p=async m=>{try{const g=/[\u0600-\u06FF]/.test(m),w=await Gn({prompt:m,lang:g?"ar":"en"});w&&w.media&&new Audio(w.media).play()}catch(g){console.error("TTS Error:",g),s({variant:"destructive",title:"حدث خطأ",description:"لم نتمكن من تشغيل الصوت."})}},y=async m=>{const g=m||r;if(!g.trim()||a)return;const w={role:"user",content:g},b=[...t,w];n(b),i(""),o(!0);try{const S={lessonTitle:e.title,lessonExplanation:e.explanation,history:b.slice(0,-1),question:g},A=await UD(S),v={role:"model",content:A.answer};n(_=>[..._,v]),await p(A.answer)}catch(S){console.error("Expert chat error:",S),s({variant:"destructive",title:"حدث خطأ",description:"لم نتمكن من الحصول على رد من الخبير. الرجاء المحاولة مرة أخرى."}),n(A=>A.slice(0,-1))}finally{o(!1)}};return h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsx(pt,{className:"flex-grow p-4",ref:l,children:h.jsxs("div",{className:"space-y-4",children:[t.length===0&&h.jsxs("div",{className:"text-center text-muted-foreground pt-10",children:[h.jsx(Na,{className:"mx-auto h-12 w-12 mb-4"}),h.jsx("h3",{className:"text-lg font-semibold",children:"خبير الذكاء الاصطناعي"}),h.jsxs("p",{children:['اطرح أي سؤال حول "',e.title,'".']})]}),t.map((m,g)=>h.jsxs("div",{className:`flex items-start gap-3 ${m.role==="user"?"justify-end":""}`,children:[m.role==="model"&&h.jsx(Na,{className:"h-6 w-6 text-primary flex-shrink-0"}),h.jsx("div",{className:`rounded-lg p-3 max-w-[80%] ${m.role==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:h.jsx("p",{className:"text-sm whitespace-pre-wrap",children:m.content})}),m.role==="user"&&h.jsx(Bs,{className:"h-6 w-6 flex-shrink-0"})]},g)),a&&h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(Na,{className:"h-6 w-6 text-primary flex-shrink-0"}),h.jsx("div",{className:"rounded-lg p-3 bg-muted",children:h.jsxs("div",{className:"flex items-center space-x-2",dir:"rtl",children:[h.jsx("div",{className:"h-2 w-2 bg-primary rounded-full animate-pulse [animation-delay:-0.3s]"}),h.jsx("div",{className:"h-2 w-2 bg-primary rounded-full animate-pulse [animation-delay:-0.15s]"}),h.jsx("div",{className:"h-2 w-2 bg-primary rounded-full animate-pulse"})]})})]})]})}),h.jsxs("div",{className:"p-4 border-t flex items-center gap-2",children:[h.jsx(oe,{size:"icon",variant:c?"destructive":"outline",onClick:f,disabled:a,children:c?h.jsx(uy,{className:"h-5 w-5"}):h.jsx(Fs,{className:"h-5 w-5"})}),h.jsx(Zi,{value:r,onChange:m=>i(m.target.value),placeholder:"اكتب سؤالك أو استخدم الميكروفون...",rows:1,className:"w-full p-2 rounded-md focus:ring-2 focus:ring-primary outline-none transition resize-none",disabled:a,onKeyDown:m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),y())}}),h.jsx(oe,{size:"icon",onClick:()=>y(),disabled:a||!r.trim(),children:h.jsx(Vj,{className:"h-5 w-5"})})]})]})}function hw({story:e,isLessonStory:t}){const[n,r]=x.useState(null),[i,a]=x.useState(!1),[o,s]=x.useState(!1),[l,c]=x.useState(null),{toast:u}=Et(),{completeItem:d}=Kr(),f="summary"in e?e.summary:e.content,p="title"in e?e.title:"",y=async b=>{const S=b.replace(/[^a-zA-Z]/g,"");if(S){g(S,"en"),c({word:S,text:"جاري الترجمة...",isLoading:!0});try{const A=await qr({text:S,targetLanguage:"ar"});c({word:S,text:A.translation,isLoading:!1})}catch(A){console.error("Translation error:",A),c({word:S,text:"فشل الترجمة",isLoading:!1}),u({variant:"destructive",title:"خطأ في الترجمة"})}}},m=async()=>{a(!0);try{const b=await tI({story:f});r(b.imageUrl)}catch(b){console.error("Image generation error:",b),u({variant:"destructive",title:"فشل إنشاء الصورة",description:"حدث خطأ أثناء إنشاء الصورة. الرجاء المحاولة مرة أخرى."})}finally{a(!1)}},g=async(b,S="en")=>{s(!0);try{const A=await Gn({prompt:b,lang:S});A&&A.media?new Audio(A.media).play():u({variant:"destructive",title:"فشل تشغيل الصوت",description:"لم نتمكن من إنشاء الصوت."})}catch(A){console.error("TTS Error:",A),u({variant:"destructive",title:"فشل تشغيل الصوت",description:"حدث خطأ أثناء إنشاء الصوت."})}finally{s(!1)}},w=()=>{d(p),u({title:"Story Complete!",description:"You've unlocked the next item in your learning path."})};return h.jsx(pt,{className:"h-full",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-xl font-semibold",children:p}),h.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>g(f,"en"),disabled:o,"aria-label":"Listen to story",children:h.jsx(At,{className:"h-5 w-5"})})]}),h.jsx("p",{className:"text-muted-foreground leading-relaxed whitespace-pre-wrap mb-6",dir:"ltr",children:f.split(/(\s+)/).map((b,S)=>{if(b.trim().length>0){const v=b,_=v.replace(/[^a-zA-Z]/g,"");return h.jsxs(ZP,{children:[h.jsx(eI,{asChild:!0,children:h.jsx("span",{className:"cursor-pointer hover:bg-accent/30 rounded-md transition-colors",onClick:()=>y(v),children:v})}),l?.word===_&&h.jsx(Cy,{className:"w-auto p-2",side:"top",children:l.isLoading?h.jsx("div",{className:"text-sm",children:"..."}):h.jsx("div",{className:"text-sm font-semibold",children:l.text})})]},S)}return h.jsx("span",{children:b},S)})}),!t&&!n&&!i&&h.jsxs(oe,{onClick:m,children:[h.jsx(nc,{className:"mr-2 h-4 w-4"}),"تخيل القصة"]}),t&&h.jsx("div",{className:"mt-6 flex justify-end",children:h.jsxs(oe,{onClick:w,children:[h.jsx(Lo,{className:"mr-2 h-4 w-4"}),"Mark as Complete"]})}),i&&h.jsx("div",{className:"flex items-center justify-center p-4 rounded-md bg-muted",children:h.jsxs("div",{className:"flex items-center space-x-2",dir:"rtl",children:[h.jsx("div",{className:"h-2 w-2 bg-primary rounded-full animate-pulse [animation-delay:-0.3s]"}),h.jsx("div",{className:"h-2 w-2 bg-primary rounded-full animate-pulse [animation-delay:-0.15s]"}),h.jsx("div",{className:"h-2 w-2 bg-primary rounded-full animate-pulse"}),h.jsx("span",{className:"text-muted-foreground mr-2",children:"...يتم إنشاء الصورة"})]})}),n&&h.jsx("div",{className:"mt-4 border rounded-lg overflow-hidden",children:h.jsx(Yn,{src:n,alt:`Illustration for ${p}`,width:500,height:500,className:"w-full h-auto object-cover"})})]})})}function Iq({item:e,isOpen:t,onClose:n}){const[r,i]=x.useState("explanation"),[a,o]=x.useState({}),[s,l]=x.useState(null),[c,u]=x.useState(!1),{toast:d}=Et(),f=async()=>{if(!(!e||e.type!=="lesson"||s)){u(!0);try{const y=await qr({text:e.explanation,targetLanguage:"ar"});l(y.translation)}catch(y){console.error("Translation error:",y),d({variant:"destructive",title:"خطأ في الترجمة",description:"لم نتمكن من ترجمة الشرح. الرجاء المحاولة مرة أخرى."})}finally{u(!1)}}},p=async(y,m,g="en")=>{if(a[m]?.dataUrl){new Audio(a[m].dataUrl).play();return}o(w=>({...w,[m]:{loading:!0,dataUrl:null}}));try{const w=await Gn({prompt:y,lang:g});w&&w.media&&(o(S=>({...S,[m]:{loading:!1,dataUrl:w.media}})),new Audio(w.media).play())}catch(w){console.error("TTS Error:",w),o(b=>({...b,[m]:{loading:!1,dataUrl:null}}))}};return x.useEffect(()=>{l(null),i(e.type==="lesson"?"explanation":"story")},[e]),h.jsx(Le,{open:t,onOpenChange:y=>!y&&n(),children:h.jsxs($e,{className:"max-w-4xl h-[90vh] flex flex-col p-0",children:[h.jsxs(Ve,{className:"p-6 pb-2 border-b",children:[h.jsx(He,{className:"text-2xl text-primary",children:e.title}),h.jsx(et,{children:"Details and interactive sections for the selected learning item."})]}),e.type==="lesson"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex border-b px-6",children:[h.jsx(ds,{icon:h.jsx(Kj,{}),label:"الشرح والأمثلة",isActive:r==="explanation",onClick:()=>i("explanation")}),h.jsx(ds,{icon:h.jsx(Qj,{}),label:"اختبر نفسك",isActive:r==="mcq",onClick:()=>i("mcq")}),h.jsx(ds,{icon:h.jsx(TR,{}),label:"اسأل الخبير",isActive:r==="chatbot",onClick:()=>i("chatbot")}),e.story&&h.jsx(ds,{icon:h.jsx(cR,{}),label:"قصة",isActive:r==="story",onClick:()=>i("story")})]}),h.jsxs("div",{className:"flex-grow min-h-0",children:[r==="explanation"&&h.jsx(pt,{className:"h-full",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-3",children:[h.jsx("h3",{className:"text-xl font-semibold",children:"الشرح"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(oe,{variant:"outline",size:"icon",onClick:f,disabled:c||!!s,"aria-label":"Translate to Arabic",children:h.jsx(wR,{className:"h-5 w-5"})}),h.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>p(e.explanation,`${e.title}-explanation`,"en"),disabled:a[`${e.title}-explanation`]?.loading,"aria-label":"Listen to explanation",children:h.jsx(At,{className:"h-5 w-5"})})]})]}),h.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed whitespace-pre-wrap",children:e.explanation}),c&&h.jsx("div",{className:"p-4 rounded-md bg-muted text-center text-muted-foreground",children:"...جاري الترجمة"}),s&&h.jsxs("div",{className:"p-4 rounded-md bg-accent/20 border border-accent/30",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsx("h4",{className:"font-semibold",children:"الترجمة العربية"}),h.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>p(s,`${e.title}-translation`,"ar"),disabled:a[`${e.title}-translation`]?.loading,"aria-label":"Listen to translation",children:h.jsx(At,{className:"h-5 w-5"})})]}),h.jsx("p",{className:"leading-relaxed whitespace-pre-wrap",dir:"rtl",children:s})]}),h.jsx("h3",{className:"text-xl font-semibold mb-4 mt-6",children:"أمثلة"}),h.jsx("div",{className:"space-y-4",children:e.examples.map((y,m)=>h.jsx(Ue,{className:"bg-muted/50",children:h.jsxs(Tt,{className:"p-4 flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-mono text-left text-base",dir:"ltr",children:y.english}),h.jsx("p",{className:"text-sm text-muted-foreground mt-1",dir:"rtl",children:y.arabic})]}),h.jsxs("div",{className:"flex gap-1",children:[h.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>p(y.english,`${e.title}-example-${m}-en`,"en"),disabled:a[`${e.title}-example-${m}-en`]?.loading,"aria-label":`Listen to English example ${m+1}`,children:h.jsx(At,{className:"h-5 w-5"})}),h.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>p(y.arabic,`${e.title}-example-${m}-ar`,"ar"),disabled:a[`${e.title}-example-${m}-ar`]?.loading,"aria-label":`Listen to Arabic example ${m+1}`,children:h.jsx(At,{className:"h-5 w-5"})})]})]})},m))})]})}),r==="mcq"&&h.jsx(jq,{lesson:e}),r==="chatbot"&&h.jsx(Pq,{lesson:e}),r==="story"&&e.story&&h.jsx(hw,{story:e.story,isLessonStory:!0})]})]}),e.type==="story"&&h.jsx(hw,{story:e})]})})}function ds({icon:e,label:t,isActive:n,onClick:r}){return h.jsxs("button",{onClick:r,className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors ${n?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:[e,h.jsx("span",{className:"text-sm font-medium",children:t})]})}async function kq(e,t){try{const r=await(await Ct({model:"@cf/baai/bge-reranker-base",inputs:{query:e,contexts:t}})).json();return r.success&&r.result&&r.result.results.length>0?r.result.results[0].index:null}catch(n){return console.error("Error in reranker flow:",n),null}}async function aI(e){const t=await kq(e,cr.map(i=>i.title+": "+(i.type==="lesson"?i.explanation:i.content)));let n=`You are a helpful and friendly English learning assistant from Speed of Mastery. Your primary goal is to assist users with their English language questions.
First, detect the language of the user's prompt.
- If the user's prompt is in English, your entire response MUST be in English.
- If the user's prompt is in Arabic, your entire response MUST be in Arabic.
Answer the user's question clearly and concisely. If relevant, use the provided lesson context to inform your answer.`;if(t!==null){const i=cr[t],a=i.type==="lesson"?i.explanation:i.content;n+=`

---RELEVANT LESSON CONTEXT---
Title: ${i.title}
Content: ${a}
-----------------------------`}const r=[{role:"system",content:n},{role:"user",content:e}];try{const i=await Ct({model:"@cf/meta/llama-3-8b-instruct",inputs:{messages:r},stream:!0}),a=new TransformStream({async transform(o,s){const u=new TextDecoder().decode(o).split(`
`);for(const d of u)if(d.startsWith("data: "))try{const f=JSON.parse(d.substring(6));if(f.response){const p=`data: ${JSON.stringify({response:f.response})}

`;s.enqueue(new TextEncoder().encode(p))}}catch{const p=`data: ${JSON.stringify({response:d})}

`;s.enqueue(new TextEncoder().encode(p))}}});return i.body.pipeThrough(a)}catch(i){return console.error("Error getting chat stream:",i),new ReadableStream({start(o){const s=`data: ${JSON.stringify({response:"Sorry, I encountered an error. Please try again."})}

`;o.enqueue(new TextEncoder().encode(s)),o.close()}})}}var oI=x.forwardRef((e,t)=>{const{children:n,...r}=e,i=x.Children.toArray(n),a=i.find(Cq);if(a){const o=a.props.children,s=i.map(l=>l===a?x.Children.count(o)>1?x.Children.only(null):x.isValidElement(o)?o.props.children:null:l);return h.jsx(om,{...r,ref:t,children:x.isValidElement(o)?x.cloneElement(o,void 0,s):null})}return h.jsx(om,{...r,ref:t,children:n})});oI.displayName="Slot";var om=x.forwardRef((e,t)=>{const{children:n,...r}=e;if(x.isValidElement(n)){const i=Nq(n),a=Eq(r,n.props);return n.type!==x.Fragment&&(a.ref=t?Zg(t,i):i),x.cloneElement(n,a)}return x.Children.count(n)>1?x.Children.only(null):null});om.displayName="SlotClone";var Oq=({children:e})=>h.jsx(h.Fragment,{children:e});function Cq(e){return x.isValidElement(e)&&e.type===Oq}function Eq(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...s)=>{a(...s),i(...s)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function Nq(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Mq="VisuallyHidden",My=x.forwardRef((e,t)=>h.jsx(xe.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));My.displayName=Mq;var Rq=My,Dq=[" ","Enter","ArrowUp","ArrowDown"],qq=[" ","Enter"],Ho="Select",[hc,fc,Lq]=MM(Ho),[ra,rte]=fr(Ho,[Lq,na]),pc=na(),[$q,yr]=ra(Ho),[Fq,Bq]=ra(Ho),sI=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:s,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:f,required:p,form:y}=e,m=pc(t),[g,w]=x.useState(null),[b,S]=x.useState(null),[A,v]=x.useState(!1),_=Qg(c),[T=!1,j]=za({prop:r,defaultProp:i,onChange:a}),[P,O]=za({prop:o,defaultProp:s,onChange:l}),I=x.useRef(null),k=g?y||!!g.closest("form"):!0,[E,C]=x.useState(new Set),M=Array.from(E).map(D=>D.props.value).join(";");return h.jsx(jy,{...m,children:h.jsxs($q,{required:p,scope:t,trigger:g,onTriggerChange:w,valueNode:b,onValueNodeChange:S,valueNodeHasChildren:A,onValueNodeHasChildrenChange:v,contentId:Qi(),value:P,onValueChange:O,open:T,onOpenChange:j,dir:_,triggerPointerDownPosRef:I,disabled:f,children:[h.jsx(hc.Provider,{scope:t,children:h.jsx(Fq,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(D=>{C(q=>new Set(q).add(D))},[]),onNativeOptionRemove:x.useCallback(D=>{C(q=>{const $=new Set(q);return $.delete(D),$})},[]),children:n})}),k?h.jsxs(EI,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:d,value:P,onChange:D=>O(D.target.value),disabled:f,form:y,children:[P===void 0?h.jsx("option",{value:""}):null,Array.from(E)]},M):null]})})};sI.displayName=Ho;var lI="SelectTrigger",cI=x.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,a=pc(n),o=yr(lI,n),s=o.disabled||r,l=Ke(t,o.onTriggerChange),c=fc(n),u=x.useRef("touch"),[d,f,p]=NI(m=>{const g=c().filter(S=>!S.disabled),w=g.find(S=>S.value===o.value),b=MI(g,m,w);b!==void 0&&o.onValueChange(b.value)}),y=m=>{s||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return h.jsx(lc,{asChild:!0,...a,children:h.jsx(xe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":CI(o.value)?"":void 0,...i,ref:l,onClick:be(i.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&y(m)}),onPointerDown:be(i.onPointerDown,m=>{u.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(y(m),m.preventDefault())}),onKeyDown:be(i.onKeyDown,m=>{const g=d.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&f(m.key),!(g&&m.key===" ")&&Dq.includes(m.key)&&(y(),m.preventDefault())})})})});cI.displayName=lI;var uI="SelectValue",dI=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:o="",...s}=e,l=yr(uI,n),{onValueNodeHasChildrenChange:c}=l,u=a!==void 0,d=Ke(t,l.onValueNodeChange);return Ft(()=>{c(u)},[c,u]),h.jsx(xe.span,{...s,ref:d,style:{pointerEvents:"none"},children:CI(l.value)?h.jsx(h.Fragment,{children:o}):a})});dI.displayName=uI;var Wq="SelectIcon",hI=x.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return h.jsx(xe.span,{"aria-hidden":!0,...i,ref:t,children:r||"▼"})});hI.displayName=Wq;var Vq="SelectPortal",fI=e=>h.jsx(Dj,{asChild:!0,...e});fI.displayName=Vq;var Hr="SelectContent",pI=x.forwardRef((e,t)=>{const n=yr(Hr,e.__scopeSelect),[r,i]=x.useState();if(Ft(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?Jg.createPortal(h.jsx(mI,{scope:e.__scopeSelect,children:h.jsx(hc.Slot,{scope:e.__scopeSelect,children:h.jsx("div",{children:e.children})})}),a):null}return h.jsx(gI,{...e,ref:t})});pI.displayName=Hr;var rn=10,[mI,vr]=ra(Hr),Hq="SelectContentImpl",gI=x.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:g,...w}=e,b=yr(Hr,n),[S,A]=x.useState(null),[v,_]=x.useState(null),T=Ke(t,ne=>A(ne)),[j,P]=x.useState(null),[O,I]=x.useState(null),k=fc(n),[E,C]=x.useState(!1),M=x.useRef(!1);x.useEffect(()=>{if(S)return qj(S)},[S]),$j();const D=x.useCallback(ne=>{const[ue,...G]=k().map(B=>B.ref.current),[X]=G.slice(-1),J=document.activeElement;for(const B of ne)if(B===J||(B?.scrollIntoView({block:"nearest"}),B===ue&&v&&(v.scrollTop=0),B===X&&v&&(v.scrollTop=v.scrollHeight),B?.focus(),document.activeElement!==J))return},[k,v]),q=x.useCallback(()=>D([j,S]),[D,j,S]);x.useEffect(()=>{E&&q()},[E,q]);const{onOpenChange:$,triggerPointerDownPosRef:W}=b;x.useEffect(()=>{if(S){let ne={x:0,y:0};const ue=X=>{ne={x:Math.abs(Math.round(X.pageX)-(W.current?.x??0)),y:Math.abs(Math.round(X.pageY)-(W.current?.y??0))}},G=X=>{ne.x<=10&&ne.y<=10?X.preventDefault():S.contains(X.target)||$(!1),document.removeEventListener("pointermove",ue),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",G,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",G,{capture:!0})}}},[S,$,W]),x.useEffect(()=>{const ne=()=>$(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[$]);const[V,z]=NI(ne=>{const ue=k().filter(J=>!J.disabled),G=ue.find(J=>J.ref.current===document.activeElement),X=MI(ue,ne,G);X&&setTimeout(()=>X.ref.current.focus())}),U=x.useCallback((ne,ue,G)=>{const X=!M.current&&!G;(b.value!==void 0&&b.value===ue||X)&&(P(ne),X&&(M.current=!0))},[b.value]),ae=x.useCallback(()=>S?.focus(),[S]),he=x.useCallback((ne,ue,G)=>{const X=!M.current&&!G;(b.value!==void 0&&b.value===ue||X)&&I(ne)},[b.value]),ye=r==="popper"?sm:yI,fe=ye===sm?{side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:g}:{};return h.jsx(mI,{scope:n,content:S,viewport:v,onViewportChange:_,itemRefCallback:U,selectedItem:j,onItemLeave:ae,itemTextRefCallback:he,focusSelectedItem:q,selectedItemText:O,position:r,isPositioned:E,searchRef:V,children:h.jsx(Lj,{as:oI,allowPinchZoom:!0,children:h.jsx(Fj,{asChild:!0,trapped:b.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:be(i,ne=>{b.trigger?.focus({preventScroll:!0}),ne.preventDefault()}),children:h.jsx(ey,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:h.jsx(ye,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:ne=>ne.preventDefault(),...w,...fe,onPlaced:()=>C(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:be(w.onKeyDown,ne=>{const ue=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!ue&&ne.key.length===1&&z(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let X=k().filter(J=>!J.disabled).map(J=>J.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(X=X.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const J=ne.target,B=X.indexOf(J);X=X.slice(B+1)}setTimeout(()=>D(X)),ne.preventDefault()}})})})})})})});gI.displayName=Hq;var Uq="SelectItemAlignedPosition",yI=x.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,a=yr(Hr,n),o=vr(Hr,n),[s,l]=x.useState(null),[c,u]=x.useState(null),d=Ke(t,T=>u(T)),f=fc(n),p=x.useRef(!1),y=x.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:w,focusSelectedItem:b}=o,S=x.useCallback(()=>{if(a.trigger&&a.valueNode&&s&&c&&m&&g&&w){const T=a.trigger.getBoundingClientRect(),j=c.getBoundingClientRect(),P=a.valueNode.getBoundingClientRect(),O=w.getBoundingClientRect();if(a.dir!=="rtl"){const J=O.left-j.left,B=P.left-J,me=T.left-B,de=T.width+me,Ee=Math.max(de,j.width),Me=window.innerWidth-rn,Re=tm(B,[rn,Math.max(rn,Me-Ee)]);s.style.minWidth=de+"px",s.style.left=Re+"px"}else{const J=j.right-O.right,B=window.innerWidth-P.right-J,me=window.innerWidth-T.right-B,de=T.width+me,Ee=Math.max(de,j.width),Me=window.innerWidth-rn,Re=tm(B,[rn,Math.max(rn,Me-Ee)]);s.style.minWidth=de+"px",s.style.right=Re+"px"}const I=f(),k=window.innerHeight-rn*2,E=m.scrollHeight,C=window.getComputedStyle(c),M=parseInt(C.borderTopWidth,10),D=parseInt(C.paddingTop,10),q=parseInt(C.borderBottomWidth,10),$=parseInt(C.paddingBottom,10),W=M+D+E+$+q,V=Math.min(g.offsetHeight*5,W),z=window.getComputedStyle(m),U=parseInt(z.paddingTop,10),ae=parseInt(z.paddingBottom,10),he=T.top+T.height/2-rn,ye=k-he,fe=g.offsetHeight/2,ne=g.offsetTop+fe,ue=M+D+ne,G=W-ue;if(ue<=he){const J=I.length>0&&g===I[I.length-1].ref.current;s.style.bottom="0px";const B=c.clientHeight-m.offsetTop-m.offsetHeight,me=Math.max(ye,fe+(J?ae:0)+B+q),de=ue+me;s.style.height=de+"px"}else{const J=I.length>0&&g===I[0].ref.current;s.style.top="0px";const me=Math.max(he,M+m.offsetTop+(J?U:0)+fe)+G;s.style.height=me+"px",m.scrollTop=ue-he+m.offsetTop}s.style.margin=`${rn}px 0`,s.style.minHeight=V+"px",s.style.maxHeight=k+"px",r?.(),requestAnimationFrame(()=>p.current=!0)}},[f,a.trigger,a.valueNode,s,c,m,g,w,a.dir,r]);Ft(()=>S(),[S]);const[A,v]=x.useState();Ft(()=>{c&&v(window.getComputedStyle(c).zIndex)},[c]);const _=x.useCallback(T=>{T&&y.current===!0&&(S(),b?.(),y.current=!1)},[S,b]);return h.jsx(Gq,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:p,onScrollButtonChange:_,children:h.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:h.jsx(xe.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});yI.displayName=Uq;var zq="SelectPopperPosition",sm=x.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=rn,...a}=e,o=pc(n);return h.jsx(Py,{...o,...a,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});sm.displayName=zq;var[Gq,Ry]=ra(Hr,{}),lm="SelectViewport",vI=x.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,a=vr(lm,n),o=Ry(lm,n),s=Ke(t,a.onViewportChange),l=x.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),h.jsx(hc.Slot,{scope:n,children:h.jsx(xe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:be(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:f}=o;if(f?.current&&d){const p=Math.abs(l.current-u.scrollTop);if(p>0){const y=window.innerHeight-rn*2,m=parseFloat(d.style.minHeight),g=parseFloat(d.style.height),w=Math.max(m,g);if(w<y){const b=w+p,S=Math.min(y,b),A=b-S;d.style.height=S+"px",d.style.bottom==="0px"&&(u.scrollTop=A>0?A:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});vI.displayName=lm;var bI="SelectGroup",[Yq,Kq]=ra(bI),Xq=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Qi();return h.jsx(Yq,{scope:n,id:i,children:h.jsx(xe.div,{role:"group","aria-labelledby":i,...r,ref:t})})});Xq.displayName=bI;var wI="SelectLabel",xI=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Kq(wI,n);return h.jsx(xe.div,{id:i.id,...r,ref:t})});xI.displayName=wI;var Ks="SelectItem",[Qq,SI]=ra(Ks),_I=x.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...o}=e,s=yr(Ks,n),l=vr(Ks,n),c=s.value===r,[u,d]=x.useState(a??""),[f,p]=x.useState(!1),y=Ke(t,b=>l.itemRefCallback?.(b,r,i)),m=Qi(),g=x.useRef("touch"),w=()=>{i||(s.onValueChange(r),s.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(Qq,{scope:n,value:r,disabled:i,textId:m,isSelected:c,onItemTextChange:x.useCallback(b=>{d(S=>S||(b?.textContent??"").trim())},[]),children:h.jsx(hc.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:h.jsx(xe.div,{role:"option","aria-labelledby":m,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:y,onFocus:be(o.onFocus,()=>p(!0)),onBlur:be(o.onBlur,()=>p(!1)),onClick:be(o.onClick,()=>{g.current!=="mouse"&&w()}),onPointerUp:be(o.onPointerUp,()=>{g.current==="mouse"&&w()}),onPointerDown:be(o.onPointerDown,b=>{g.current=b.pointerType}),onPointerMove:be(o.onPointerMove,b=>{g.current=b.pointerType,i?l.onItemLeave?.():g.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:be(o.onPointerLeave,b=>{b.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:be(o.onKeyDown,b=>{l.searchRef?.current!==""&&b.key===" "||(qq.includes(b.key)&&w(),b.key===" "&&b.preventDefault())})})})})});_I.displayName=Ks;var ja="SelectItemText",AI=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...a}=e,o=yr(ja,n),s=vr(ja,n),l=SI(ja,n),c=Bq(ja,n),[u,d]=x.useState(null),f=Ke(t,w=>d(w),l.onItemTextChange,w=>s.itemTextRefCallback?.(w,l.value,l.disabled)),p=u?.textContent,y=x.useMemo(()=>h.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=c;return Ft(()=>(m(y),()=>g(y)),[m,g,y]),h.jsxs(h.Fragment,{children:[h.jsx(xe.span,{id:l.textId,...a,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Jg.createPortal(a.children,o.valueNode):null]})});AI.displayName=ja;var TI="SelectItemIndicator",jI=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return SI(TI,n).isSelected?h.jsx(xe.span,{"aria-hidden":!0,...r,ref:t}):null});jI.displayName=TI;var cm="SelectScrollUpButton",PI=x.forwardRef((e,t)=>{const n=vr(cm,e.__scopeSelect),r=Ry(cm,e.__scopeSelect),[i,a]=x.useState(!1),o=Ke(t,r.onScrollButtonChange);return Ft(()=>{if(n.viewport&&n.isPositioned){let s=function(){const c=l.scrollTop>0;a(c)};const l=n.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?h.jsx(kI,{...e,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});PI.displayName=cm;var um="SelectScrollDownButton",II=x.forwardRef((e,t)=>{const n=vr(um,e.__scopeSelect),r=Ry(um,e.__scopeSelect),[i,a]=x.useState(!1),o=Ke(t,r.onScrollButtonChange);return Ft(()=>{if(n.viewport&&n.isPositioned){let s=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;a(u)};const l=n.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?h.jsx(kI,{...e,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});II.displayName=um;var kI=x.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,a=vr("SelectScrollButton",n),o=x.useRef(null),s=fc(n),l=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>l(),[l]),Ft(()=>{s().find(u=>u.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[s]),h.jsx(xe.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:be(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:be(i.onPointerMove,()=>{a.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:be(i.onPointerLeave,()=>{l()})})}),Jq="SelectSeparator",OI=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return h.jsx(xe.div,{"aria-hidden":!0,...r,ref:t})});OI.displayName=Jq;var dm="SelectArrow",Zq=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=pc(n),a=yr(dm,n),o=vr(dm,n);return a.open&&o.position==="popper"?h.jsx(Iy,{...i,...r,ref:t}):null});Zq.displayName=dm;function CI(e){return e===""||e===void 0}var EI=x.forwardRef((e,t)=>{const{value:n,...r}=e,i=x.useRef(null),a=Ke(t,i),o=RM(n);return x.useEffect(()=>{const s=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&u){const d=new Event("change",{bubbles:!0});u.call(s,n),s.dispatchEvent(d)}},[o,n]),h.jsx(My,{asChild:!0,children:h.jsx("select",{...r,ref:a,defaultValue:n})})});EI.displayName="BubbleSelect";function NI(e){const t=gn(e),n=x.useRef(""),r=x.useRef(0),i=x.useCallback(o=>{const s=n.current+o;t(s),(function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))})(s)},[t]),a=x.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function MI(e,t,n){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=eL(e,Math.max(a,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function eL(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var tL=sI,RI=cI,nL=dI,rL=hI,iL=fI,DI=pI,aL=vI,qI=xI,LI=_I,oL=AI,sL=jI,$I=PI,FI=II,BI=OI;const Dy=tL,qy=nL,mc=x.forwardRef(({className:e,children:t,...n},r)=>h.jsxs(RI,{ref:r,className:pe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,h.jsx(rL,{asChild:!0,children:h.jsx(Hj,{className:"h-4 w-4 opacity-50"})})]}));mc.displayName=RI.displayName;const WI=x.forwardRef(({className:e,...t},n)=>h.jsx($I,{ref:n,className:pe("flex cursor-default items-center justify-center py-1",e),...t,children:h.jsx(nR,{className:"h-4 w-4"})}));WI.displayName=$I.displayName;const VI=x.forwardRef(({className:e,...t},n)=>h.jsx(FI,{ref:n,className:pe("flex cursor-default items-center justify-center py-1",e),...t,children:h.jsx(Hj,{className:"h-4 w-4"})}));VI.displayName=FI.displayName;const gc=x.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>h.jsx(iL,{children:h.jsxs(DI,{ref:i,className:pe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[h.jsx(WI,{}),h.jsx(aL,{className:pe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),h.jsx(VI,{})]})}));gc.displayName=DI.displayName;const lL=x.forwardRef(({className:e,...t},n)=>h.jsx(qI,{ref:n,className:pe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));lL.displayName=qI.displayName;const yc=x.forwardRef(({className:e,children:t,...n},r)=>h.jsxs(LI,{ref:r,className:pe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(sL,{children:h.jsx(Jj,{className:"h-4 w-4"})})}),h.jsx(oL,{children:t})]}));yc.displayName=LI.displayName;const cL=x.forwardRef(({className:e,...t},n)=>h.jsx(BI,{ref:n,className:pe("-mx-1 my-1 h-px bg-muted",e),...t}));cL.displayName=BI.displayName;function uL({selectedCategory:e,onCategoryChange:t,categories:n,disabled:r=!1}){const i=a=>{const o=n.find(s=>s.english===a);return o?`${o.english} / ${o.arabic}`:a};return h.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[h.jsxs(jt,{htmlFor:"category-select",className:"text-lg font-medium text-primary text-center",children:["Choose a Category: ",h.jsx("br",{}),h.jsx("span",{className:"font-[inherit]",dir:"rtl",children:"اختر فئة:"})]}),h.jsxs(Dy,{value:e,onValueChange:t,disabled:r,name:"category-select",children:[h.jsx(mc,{className:"w-[250px] sm:w-[300px] bg-card text-card-foreground border-primary focus:ring-primary",id:"category-select",children:h.jsx(qy,{placeholder:"Select category",children:i(e)})}),h.jsx(gc,{children:n.map(a=>h.jsxs(yc,{value:a.english,className:"font-[inherit]",children:[a.english," / ",h.jsx("span",{className:"float-right",dir:"rtl",children:a.arabic})]},a.english))})]})]})}function mt({className:e,...t}){return h.jsx("div",{className:pe("animate-pulse rounded-md bg-muted",e),...t})}var dL="Separator",fw="horizontal",hL=["horizontal","vertical"],HI=x.forwardRef((e,t)=>{const{decorative:n,orientation:r=fw,...i}=e,a=fL(r)?r:fw,s=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return h.jsx(xe.div,{"data-orientation":a,...s,...i,ref:t})});HI.displayName=dL;function fL(e){return hL.includes(e)}var UI=HI;const hm=x.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>h.jsx(UI,{ref:i,decorative:n,orientation:t,className:pe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));hm.displayName=UI.displayName;function pL({word:e,isLoading:t=!1}){const{toast:n}=Et(),[r,i]=x.useState(null),a=x.useRef(null),o=async(s,l,c)=>{if(!s||!s.trim()){n({title:"No text to speak",description:"There is no content to convert to speech.",variant:"destructive"});return}if(!r){a.current&&a.current.pause(),i(c);try{const u=await Gn({prompt:s,lang:l});if(!u||!u.media){n({title:"Text-to-Speech Error",description:"Could not generate audio for the selected text.",variant:"destructive"}),i(null);return}const d=new Audio(u.media);a.current=d,d.play().catch(f=>{console.error("Audio playback error:",f),n({title:"Audio Playback Error",description:"Your browser might be blocking automated audio playback. Please interact with the page and try again.",variant:"destructive"}),i(null)}),d.onended=()=>i(null),d.onerror=()=>{n({title:"Audio Error",description:"An error occurred while trying to play the audio.",variant:"destructive"}),i(null)}}catch(u){console.error("TTS Error:",u),n({title:"Text-to-Speech Error",description:"An unexpected error occurred while generating audio.",variant:"destructive"}),i(null)}}};return x.useEffect(()=>()=>{a.current&&a.current.pause()},[]),t?h.jsxs(Ue,{className:"w-full max-w-md bg-card text-card-foreground shadow-lg rounded-lg transition-all duration-300 ease-in-out",children:[h.jsxs(tt,{className:"flex flex-row items-center justify-between pb-2",children:[h.jsx(mt,{className:"h-8 w-3/5"}),h.jsx(mt,{className:"h-8 w-8 rounded-full"})]}),h.jsxs(Tt,{className:"space-y-4 pt-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(mt,{className:"h-4 w-1/4"}),h.jsx(mt,{className:"h-6 w-2/5"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(mt,{className:"h-4 w-1/4"}),h.jsx(mt,{className:"h-4 w-full"}),h.jsx(mt,{className:"h-4 w-4/5"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(mt,{className:"h-4 w-1/4"}),h.jsx(mt,{className:"h-4 w-full"}),h.jsx(mt,{className:"h-4 w-4/5"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(mt,{className:"h-4 w-1/4"}),h.jsx(mt,{className:"h-4 w-full"}),h.jsx(mt,{className:"h-4 w-4/5"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(mt,{className:"h-4 w-1/4"}),h.jsx(mt,{className:"h-4 w-full"}),h.jsx(mt,{className:"h-4 w-4/5"})]})]})]}):e?h.jsxs(Ue,{className:"w-full max-w-md bg-card text-card-foreground shadow-lg rounded-lg fade-in transition-all duration-300 ease-in-out",children:[h.jsxs(tt,{className:"flex flex-row items-center justify-between pb-2",children:[h.jsx(nt,{className:"text-3xl font-bold text-primary truncate",children:e.english}),h.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>o(e.english,"en","word"),"aria-label":`Listen to ${e.english}`,title:"Listen to pronunciation",className:"text-primary hover:text-primary/80",disabled:!!r,children:h.jsx(At,{className:`h-6 w-6 ${r==="word"?"animate-pulse":""}`})})]}),h.jsxs(Tt,{className:"space-y-4 pt-4",children:[h.jsxs("div",{className:"bg-muted/30 p-3 rounded-md",children:[h.jsxs("h3",{className:"text-sm font-medium text-accent mb-1 flex items-center gap-1",children:["🌍 Arabic Meaning:",h.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>o(e.arabic,"ar","arabic-word"),"aria-label":"Listen to Arabic meaning",title:"Listen to meaning",className:"text-primary hover:text-primary/80 h-5 w-5 p-0",disabled:!!r,children:h.jsx(At,{className:`h-4 w-4 ${r==="arabic-word"?"animate-pulse":""}`})})]}),h.jsx("p",{className:"text-xl font-semibold text-right font-[inherit]",dir:"rtl",children:e.arabic})]}),h.jsx(hm,{}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsxs("h3",{className:"text-sm font-medium text-accent mb-1 flex items-center gap-1",children:["📖 Definition (EN)",h.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>o(e.definition,"en","definition"),"aria-label":"Listen to English definition",title:"Listen to definition",className:"text-primary hover:text-primary/80 h-5 w-5 p-0",disabled:!!r,children:h.jsx(At,{className:`h-4 w-4 ${r==="definition"?"animate-pulse":""}`})})]}),h.jsx("p",{className:"text-base leading-relaxed",children:e.definition})]}),h.jsxs("div",{children:[h.jsxs("h3",{className:"text-sm font-medium text-accent mb-1 flex items-center gap-1",children:["💬 Example (EN)",h.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>o(e.example,"en","example"),"aria-label":"Listen to English example sentence",title:"Listen to example",className:"text-primary hover:text-primary/80 h-5 w-5 p-0",disabled:!!r,children:h.jsx(At,{className:`h-4 w-4 ${r==="example"?"animate-pulse":""}`})})]}),h.jsxs("p",{className:"text-base italic text-foreground/80",children:['"',e.example,'"']})]})]}),h.jsx(hm,{}),h.jsxs("div",{className:"space-y-3 text-right",dir:"rtl",children:[h.jsxs("div",{children:[h.jsxs("h3",{className:"text-sm font-medium text-accent mb-1 flex items-center justify-end gap-1",children:["📖 التعريف (AR)",h.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>o(e.arabicDefinition,"ar","arabic-definition"),"aria-label":"Listen to Arabic definition",title:"Listen to definition",className:"text-primary hover:text-primary/80 h-5 w-5 p-0",disabled:!!r,children:h.jsx(At,{className:`h-4 w-4 ${r==="arabic-definition"?"animate-pulse":""}`})})]}),h.jsx("p",{className:"text-base leading-relaxed font-[inherit]",children:e.arabicDefinition})]}),h.jsxs("div",{children:[h.jsxs("h3",{className:"text-sm font-medium text-accent mb-1 flex items-center justify-end gap-1",children:["💬 مثال (AR)",h.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>o(e.arabicExample,"ar","arabic-example"),"aria-label":"Listen to Arabic example",title:"Listen to example",className:"text-primary hover:text-primary/80 h-5 w-5 p-0",disabled:!!r,children:h.jsx(At,{className:`h-4 w-4 ${r==="arabic-example"?"animate-pulse":""}`})})]}),h.jsxs("p",{className:"text-base italic text-foreground/80 font-[inherit]",children:['"',e.arabicExample,'"']})]})]})]})]}):h.jsx(Ue,{className:"w-full max-w-md bg-card text-card-foreground shadow-lg rounded-lg transition-all duration-300 ease-in-out p-6",children:h.jsx("p",{className:"text-center text-muted-foreground",children:'Select a category and click "Next Word" to begin.'})})}we({category:te().describe("The category of words to suggest (e.g., Emotional, Professional, Intellectual)."),numberOfWords:oy().default(5).describe("The number of words to generate")});async function mL(e){const{category:t,numberOfWords:n}=e,r=`Suggest ${n} unique and interesting English words related to the category '${t}'. Your response must be only a single string of comma-separated words. For example: "resilience, empathy, determination, innovation, integrity". Do not add any other text or formatting.`,o=(await(await Ct({model:"@cf/meta/llama-3-8b-instruct",inputs:{messages:[{role:"user",content:r}]}})).json()).result.response;return o&&typeof o=="string"?o.split(",").map(s=>s.trim().replace(/"/g,"")):[]}we({word:te().describe("The English word to get details for."),category:te().describe("The category the word belongs to, for context.")});we({english:te().describe("The English word."),arabic:te().describe("The Arabic translation of the word."),definition:te().describe("The English definition of the word."),arabicDefinition:te().describe("The Arabic definition of the word."),example:te().describe("An example sentence using the word in English."),arabicExample:te().describe("An example sentence using the word in Arabic.")});async function pw(e){return(await(await Ct({model:"@cf/meta/llama-3-8b-instruct",inputs:{messages:[{role:"user",content:e}]}})).json()).result.response.trim().replace(/"/g,"")}async function gL(e){const{word:t,category:n}=e;try{const r=`Provide a concise, dictionary-style definition for the English word "${t}" in the context of the category "${n}". Respond with ONLY the definition text.`,i=`Provide a clear and simple example sentence using the English word "${t}". Respond with ONLY the example sentence.`,[a,o,s]=await Promise.all([pw(r),pw(i),qr({text:t,targetLanguage:"ar"})]),[l,c]=await Promise.all([qr({text:a,targetLanguage:"ar"}),qr({text:o,targetLanguage:"ar"})]);return{english:t,arabic:s.translation,definition:a,arabicDefinition:l.translation,example:o,arabicExample:c.translation}}catch(r){return console.error(`Failed to get all details for "${t}":`,r),null}}function yL(e){const t=[],n={"(":")","[":"]","{":"}"};for(let r=0;r<e.length;r++){const i=e[r];if(n[i])t.push(i);else if(Object.values(n).includes(i)&&n[t.pop()]!==i)return!1}return t.length===0}async function vL(e){const r=await(await Ct({model:"@cf/meta/llama-3-8b-instruct",inputs:{messages:[{role:"system",content:'You are an expert quiz master. Your task is to generate a JSON object representing a vocabulary quiz. The JSON object must have a key "questions" which is an array of exactly 5 multiple-choice question objects. Each question object must have keys "question" (the definition or synonym), "options" (an array of 4 English words), and "correct_answer". Do not output any text other than the JSON object.'},{role:"user",content:e}]}})).json();try{const i=r.result.response,a=i.indexOf("{"),o=i.lastIndexOf("}");if(a!==-1&&o!==-1){const s=i.substring(a,o+1);if(yL(s))return JSON.parse(s)}throw new Error("Incomplete or invalid JSON object found in response")}catch(i){throw console.error("Failed to parse JSON from Cloudflare AI:",r.result.response,i),new Error("Failed to parse JSON from AI response.")}}const bL=we({english:te(),arabic:te(),definition:te(),arabicDefinition:te(),example:te(),arabicExample:te()});we({words:Jt(bL).describe("The list of words the user has just studied.")});const wL=we({question:te().describe("The quiz question, asking for a definition or a synonym."),options:Jt(te()).length(4).describe("An array of 4 possible answers."),correct_answer:te().describe("The correct English word from the options.")});we({questions:Jt(wL).length(5).describe("An array of exactly 5 quiz questions.")});async function xL({words:e}){const n=`Based on the following list of vocabulary words, create a quiz with exactly 5 multiple-choice questions.

Each question should test the user's knowledge of one of the words. The question should be a definition or a synonym phrase.
The options should be four English words, one of which is the correct answer. The correct answer must be one of the words from the provided list. The other three options should be plausible but incorrect distractors.

Your output must be a single JSON object with a "questions" key, which holds an array of 5 question objects.

Word List:
${e.map(r=>`- ${r.english}: ${r.definition}`).join(`
`)}
`;try{return await vL(n)}catch(r){return console.error("Failed to generate vocab quiz:",r),{questions:[]}}}const mw=[{english:"Emotional",arabic:"عاطفي"},{english:"Professional",arabic:"احترافي"},{english:"Intellectual",arabic:"فكري"},{english:"Personal Growth",arabic:"نمو شخصي"},{english:"Relationships",arabic:"علاقات"}],fa=5,SL=4;function _L(){const[e,t]=x.useState(null),[n,r]=x.useState([]),[i,a]=x.useState([]),[o,s]=x.useState(0),[l,c]=x.useState(mw[0].english),[u,d]=x.useState(!1),[f,p]=x.useTransition(),[y,m]=x.useState(null),[g,w]=x.useState(null),[b,S]=x.useState({}),[A,v]=x.useState(0),[_,T]=x.useState(null),[j,P]=x.useState(0),[O,I]=x.useState(!1),{toast:k}=Et(),E=x.useCallback(async V=>{d(!0),m(null);try{const z=await gL({word:V,category:l});if(z)t(z),a(U=>[...U,z]),s(U=>U+1);else throw new Error(`Could not fetch details for the word "${V}".`)}catch(z){console.error("Error fetching word details:",z);const U=z instanceof Error?z.message:"An unknown error occurred.";m(`Oops! Couldn't fetch word details. ${U}`),k({title:"Error Fetching Word Details",description:U,variant:"destructive"})}finally{d(!1)}},[l,k]),C=x.useCallback(async()=>{if(o>=fa&&i.length>=fa){p(async()=>{try{const V=await xL({words:i.slice(-fa)});if(V&&V.questions.length>0)w(V.questions),I(!1),v(0),S({}),P(0),T(null);else throw new Error("AI failed to return quiz questions.")}catch(V){console.error("Failed to generate quiz",V),k({title:"Quiz Generation Failed",variant:"destructive"}),s(0)}});return}if(n.length>0){const V=n[0];r(n.slice(1)),await E(V)}else p(async()=>{try{const V=await mL({category:l,numberOfWords:5});if(V&&V.length>0){const z=V[0];r(V.slice(1)),await E(z)}else throw new Error("AI did not return any words.")}catch(V){console.error("Error fetching new word list:",V);const z=V instanceof Error?V.message:"An unknown error occurred.";m(`Oops! Couldn't get new words. ${z}`),k({title:"Error Getting Words",description:z,variant:"destructive"})}})},[n,o,i,k,E,l]);x.useEffect(()=>{t(null),r([]),a([]),s(0),C()},[l]);const M=V=>{c(V)},D=()=>{if(!_||!g)return;const V={...b,[A]:_};S(V),_===g[A].correct_answer&&P(z=>z+1),T(null),A<g.length-1?v(z=>z+1):I(!0)},q=()=>{w(null),I(!1),s(0),a([]),C()},$=()=>{if(!g)return null;const V=j>=SL,z=V?"Excellent! You passed the quiz.":"Good effort. Let's try again after reviewing.",U=V?h.jsx(sy,{className:"h-12 w-12 text-green-500"}):h.jsx($s,{className:"h-12 w-12 text-destructive"});return h.jsxs(Ue,{className:"w-full max-w-md p-6 text-center",children:[h.jsxs(tt,{children:[h.jsx("div",{className:"flex justify-center mb-4",children:U}),h.jsx(nt,{children:"Quiz Complete!"}),h.jsx(Xt,{children:z})]}),h.jsx(Tt,{children:h.jsxs("p",{className:"text-3xl font-bold",children:["Your Score: ",j," / ",g.length]})}),h.jsx(Ga,{children:h.jsx(oe,{onClick:q,children:"Continue Learning"})})]})},W=()=>{if(f&&!g)return h.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:[h.jsx(xt,{className:"h-12 w-12 animate-spin text-primary mb-4"}),h.jsx("h2",{className:"text-2xl font-bold",children:"Generating Your Quiz..."})]});if(O)return $();if(!g||g.length===0)return null;const V=g[A];return h.jsxs(Ue,{className:"w-full max-w-md",children:[h.jsxs(tt,{children:[h.jsx(nt,{children:"Vocabulary Quiz"}),h.jsxs(Xt,{children:["Question ",A+1," of ",g.length]}),h.jsx(xi,{value:(A+1)/g.length*100,className:"w-full mt-2"})]}),h.jsxs(Tt,{children:[h.jsx("p",{className:"font-semibold mb-4 text-lg",children:V.question}),h.jsx($o,{value:_||"",onValueChange:T,children:V.options.map(z=>h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Fo,{value:z,id:z}),h.jsx(jt,{htmlFor:z,className:"text-base",children:z})]},z))})]}),h.jsx(Ga,{children:h.jsx(oe,{onClick:D,disabled:!_,children:A===g.length-1?"Finish":"Next"})})]})};return h.jsxs("div",{className:"lingoleap-app-container flex flex-col items-center h-full p-4 sm:p-8 bg-background text-foreground transition-colors duration-300",children:[h.jsxs("header",{className:"text-center mb-8",children:[h.jsxs("h1",{className:"text-4xl sm:text-5xl font-extrabold text-primary mb-2 flex items-center justify-center gap-2",children:[h.jsx(DM,{className:"h-8 w-8 sm:h-10 sm:w-10"})," LinguaLeap ",h.jsx(Uj,{className:"h-8 w-8 sm:h-10 sm:w-10 text-accent"})]}),h.jsx("p",{className:"text-lg text-muted-foreground",children:"Expand Your Vocabulary, One Word at a Time"})]}),h.jsx("main",{className:"flex flex-col items-center gap-8 w-full max-w-md",children:g?W():h.jsxs(h.Fragment,{children:[h.jsx(uL,{selectedCategory:l,onCategoryChange:M,categories:mw,disabled:u||f}),y&&h.jsx("div",{className:"text-destructive text-center p-4 bg-destructive/10 rounded-md",children:y}),h.jsx(pL,{word:e,isLoading:u||f&&!e}),h.jsx(oe,{onClick:C,disabled:u||f,size:"lg",className:"bg-accent hover:bg-accent/90 text-accent-foreground transition-all duration-300 ease-in-out transform hover:scale-105 shadow-md w-full",children:u||f?h.jsx(xt,{className:"animate-spin"}):"🔄 Next Word"}),h.jsxs("div",{className:"text-center text-muted-foreground",children:[h.jsxs("p",{children:["Word ",o," of ",fa]}),h.jsx(xi,{value:o/fa*100,className:"w-32 mx-auto mt-2 h-2"})]})]})}),h.jsx("footer",{className:"mt-auto pt-8 text-center text-muted-foreground text-sm",children:"Powered by Speed of Mastery"})]})}function AL(){return h.jsx(pt,{className:"h-full",children:h.jsx(_L,{})})}var Ly="Avatar",[TL,ite]=fr(Ly),[jL,zI]=TL(Ly),GI=x.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,a]=x.useState("idle");return h.jsx(jL,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:h.jsx(xe.span,{...r,ref:t})})});GI.displayName=Ly;var YI="AvatarImage",KI=x.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=e,o=zI(YI,n),s=PL(r,a.referrerPolicy),l=gn(c=>{i(c),o.onImageLoadingStatusChange(c)});return Ft(()=>{s!=="idle"&&l(s)},[s,l]),s==="loaded"?h.jsx(xe.img,{...a,ref:t,src:r}):null});KI.displayName=YI;var XI="AvatarFallback",QI=x.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,a=zI(XI,n),[o,s]=x.useState(r===void 0);return x.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>s(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&a.imageLoadingStatus!=="loaded"?h.jsx(xe.span,{...i,ref:t}):null});QI.displayName=XI;function PL(e,t){const[n,r]=x.useState("idle");return Ft(()=>{if(!e){r("error");return}let i=!0;const a=new window.Image,o=s=>()=>{i&&r(s)};return r("loading"),a.onload=o("loaded"),a.onerror=o("error"),a.src=e,t&&(a.referrerPolicy=t),()=>{i=!1}},[e,t]),n}var JI=GI,ZI=KI,ek=QI;const Ra=x.forwardRef(({className:e,...t},n)=>h.jsx(JI,{ref:n,className:pe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Ra.displayName=JI.displayName;const Xs=x.forwardRef(({className:e,...t},n)=>h.jsx(ZI,{ref:n,className:pe("aspect-square h-full w-full",e),...t}));Xs.displayName=ZI.displayName;const Da=x.forwardRef(({className:e,...t},n)=>h.jsx(ek,{ref:n,className:pe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Da.displayName=ek.displayName;var Lu,gw;function Nt(){if(gw)return Lu;gw=1;var e=Array.isArray;return Lu=e,Lu}var $u,yw;function tk(){if(yw)return $u;yw=1;var e=typeof os=="object"&&os&&os.Object===Object&&os;return $u=e,$u}var Fu,vw;function On(){if(vw)return Fu;vw=1;var e=tk(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Fu=n,Fu}var Bu,bw;function Uo(){if(bw)return Bu;bw=1;var e=On(),t=e.Symbol;return Bu=t,Bu}var Wu,ww;function IL(){if(ww)return Wu;ww=1;var e=Uo(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function a(o){var s=n.call(o,i),l=o[i];try{o[i]=void 0;var c=!0}catch{}var u=r.call(o);return c&&(s?o[i]=l:delete o[i]),u}return Wu=a,Wu}var Vu,xw;function kL(){if(xw)return Vu;xw=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Vu=n,Vu}var Hu,Sw;function Kn(){if(Sw)return Hu;Sw=1;var e=Uo(),t=IL(),n=kL(),r="[object Null]",i="[object Undefined]",a=e?e.toStringTag:void 0;function o(s){return s==null?s===void 0?i:r:a&&a in Object(s)?t(s):n(s)}return Hu=o,Hu}var Uu,_w;function Xn(){if(_w)return Uu;_w=1;function e(t){return t!=null&&typeof t=="object"}return Uu=e,Uu}var zu,Aw;function ia(){if(Aw)return zu;Aw=1;var e=Kn(),t=Xn(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return zu=r,zu}var Gu,Tw;function $y(){if(Tw)return Gu;Tw=1;var e=Nt(),t=ia(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){if(e(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||t(a)?!0:r.test(a)||!n.test(a)||o!=null&&a in Object(o)}return Gu=i,Gu}var Yu,jw;function br(){if(jw)return Yu;jw=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Yu=e,Yu}var Ku,Pw;function Fy(){if(Pw)return Ku;Pw=1;var e=Kn(),t=br(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!t(s))return!1;var l=e(s);return l==r||l==i||l==n||l==a}return Ku=o,Ku}var Xu,Iw;function OL(){if(Iw)return Xu;Iw=1;var e=On(),t=e["__core-js_shared__"];return Xu=t,Xu}var Qu,kw;function CL(){if(kw)return Qu;kw=1;var e=OL(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return Qu=n,Qu}var Ju,Ow;function nk(){if(Ow)return Ju;Ow=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Ju=n,Ju}var Zu,Cw;function EL(){if(Cw)return Zu;Cw=1;var e=Fy(),t=CL(),n=br(),r=nk(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,c=s.hasOwnProperty,u=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(f){if(!n(f)||t(f))return!1;var p=e(f)?u:a;return p.test(r(f))}return Zu=d,Zu}var ed,Ew;function NL(){if(Ew)return ed;Ew=1;function e(t,n){return t?.[n]}return ed=e,ed}var td,Nw;function Xr(){if(Nw)return td;Nw=1;var e=EL(),t=NL();function n(r,i){var a=t(r,i);return e(a)?a:void 0}return td=n,td}var nd,Mw;function vc(){if(Mw)return nd;Mw=1;var e=Xr(),t=e(Object,"create");return nd=t,nd}var rd,Rw;function ML(){if(Rw)return rd;Rw=1;var e=vc();function t(){this.__data__=e?e(null):{},this.size=0}return rd=t,rd}var id,Dw;function RL(){if(Dw)return id;Dw=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return id=e,id}var ad,qw;function DL(){if(qw)return ad;qw=1;var e=vc(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var o=this.__data__;if(e){var s=o[a];return s===t?void 0:s}return r.call(o,a)?o[a]:void 0}return ad=i,ad}var od,Lw;function qL(){if(Lw)return od;Lw=1;var e=vc(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var a=this.__data__;return e?a[i]!==void 0:n.call(a,i)}return od=r,od}var sd,$w;function LL(){if($w)return sd;$w=1;var e=vc(),t="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=e&&i===void 0?t:i,this}return sd=n,sd}var ld,Fw;function $L(){if(Fw)return ld;Fw=1;var e=ML(),t=RL(),n=DL(),r=qL(),i=LL();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,ld=a,ld}var cd,Bw;function FL(){if(Bw)return cd;Bw=1;function e(){this.__data__=[],this.size=0}return cd=e,cd}var ud,Ww;function By(){if(Ww)return ud;Ww=1;function e(t,n){return t===n||t!==t&&n!==n}return ud=e,ud}var dd,Vw;function bc(){if(Vw)return dd;Vw=1;var e=By();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return dd=t,dd}var hd,Hw;function BL(){if(Hw)return hd;Hw=1;var e=bc(),t=Array.prototype,n=t.splice;function r(i){var a=this.__data__,o=e(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():n.call(a,o,1),--this.size,!0}return hd=r,hd}var fd,Uw;function WL(){if(Uw)return fd;Uw=1;var e=bc();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return fd=t,fd}var pd,zw;function VL(){if(zw)return pd;zw=1;var e=bc();function t(n){return e(this.__data__,n)>-1}return pd=t,pd}var md,Gw;function HL(){if(Gw)return md;Gw=1;var e=bc();function t(n,r){var i=this.__data__,a=e(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return md=t,md}var gd,Yw;function wc(){if(Yw)return gd;Yw=1;var e=FL(),t=BL(),n=WL(),r=VL(),i=HL();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,gd=a,gd}var yd,Kw;function Wy(){if(Kw)return yd;Kw=1;var e=Xr(),t=On(),n=e(t,"Map");return yd=n,yd}var vd,Xw;function UL(){if(Xw)return vd;Xw=1;var e=$L(),t=wc(),n=Wy();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return vd=r,vd}var bd,Qw;function zL(){if(Qw)return bd;Qw=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return bd=e,bd}var wd,Jw;function xc(){if(Jw)return wd;Jw=1;var e=zL();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return wd=t,wd}var xd,Zw;function GL(){if(Zw)return xd;Zw=1;var e=xc();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return xd=t,xd}var Sd,ex;function YL(){if(ex)return Sd;ex=1;var e=xc();function t(n){return e(this,n).get(n)}return Sd=t,Sd}var _d,tx;function KL(){if(tx)return _d;tx=1;var e=xc();function t(n){return e(this,n).has(n)}return _d=t,_d}var Ad,nx;function XL(){if(nx)return Ad;nx=1;var e=xc();function t(n,r){var i=e(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return Ad=t,Ad}var Td,rx;function Vy(){if(rx)return Td;rx=1;var e=UL(),t=GL(),n=YL(),r=KL(),i=XL();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Td=a,Td}var jd,ix;function rk(){if(ix)return jd;ix=1;var e=Vy(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],l=a.cache;if(l.has(s))return l.get(s);var c=r.apply(this,o);return a.cache=l.set(s,c)||l,c};return a.cache=new(n.Cache||e),a}return n.Cache=e,jd=n,jd}var Pd,ax;function QL(){if(ax)return Pd;ax=1;var e=rk(),t=500;function n(r){var i=e(r,function(o){return a.size===t&&a.clear(),o}),a=i.cache;return i}return Pd=n,Pd}var Id,ox;function JL(){if(ox)return Id;ox=1;var e=QL(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(t,function(o,s,l,c){a.push(l?c.replace(n,"$1"):s||o)}),a});return Id=r,Id}var kd,sx;function Hy(){if(sx)return kd;sx=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,a=Array(i);++r<i;)a[r]=n(t[r],r,t);return a}return kd=e,kd}var Od,lx;function ZL(){if(lx)return Od;lx=1;var e=Uo(),t=Hy(),n=Nt(),r=ia(),i=e?e.prototype:void 0,a=i?i.toString:void 0;function o(s){if(typeof s=="string")return s;if(n(s))return t(s,o)+"";if(r(s))return a?a.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return Od=o,Od}var Cd,cx;function ik(){if(cx)return Cd;cx=1;var e=ZL();function t(n){return n==null?"":e(n)}return Cd=t,Cd}var Ed,ux;function ak(){if(ux)return Ed;ux=1;var e=Nt(),t=$y(),n=JL(),r=ik();function i(a,o){return e(a)?a:t(a,o)?[a]:n(r(a))}return Ed=i,Ed}var Nd,dx;function Sc(){if(dx)return Nd;dx=1;var e=ia();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Nd=t,Nd}var Md,hx;function Uy(){if(hx)return Md;hx=1;var e=ak(),t=Sc();function n(r,i){i=e(i,r);for(var a=0,o=i.length;r!=null&&a<o;)r=r[t(i[a++])];return a&&a==o?r:void 0}return Md=n,Md}var Rd,fx;function ok(){if(fx)return Rd;fx=1;var e=Uy();function t(n,r,i){var a=n==null?void 0:e(n,r);return a===void 0?i:a}return Rd=t,Rd}var e$=ok();const Qt=Ce(e$);var Dd,px;function t$(){if(px)return Dd;px=1;function e(t){return t==null}return Dd=e,Dd}var n$=t$();const je=Ce(n$);var qd,mx;function r$(){if(mx)return qd;mx=1;var e=Kn(),t=Nt(),n=Xn(),r="[object String]";function i(a){return typeof a=="string"||!t(a)&&n(a)&&e(a)==r}return qd=i,qd}var i$=r$();const zo=Ce(i$);var a$=Fy();const ve=Ce(a$);var o$=br();const aa=Ce(o$);var Ld={exports:{}},Ae={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gx;function s$(){if(gx)return Ae;gx=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function m(g){if(typeof g=="object"&&g!==null){var w=g.$$typeof;switch(w){case e:switch(g=g.type,g){case n:case i:case r:case c:case u:return g;default:switch(g=g&&g.$$typeof,g){case s:case o:case l:case f:case d:case a:return g;default:return w}}case t:return w}}}return Ae.ContextConsumer=o,Ae.ContextProvider=a,Ae.Element=e,Ae.ForwardRef=l,Ae.Fragment=n,Ae.Lazy=f,Ae.Memo=d,Ae.Portal=t,Ae.Profiler=i,Ae.StrictMode=r,Ae.Suspense=c,Ae.SuspenseList=u,Ae.isAsyncMode=function(){return!1},Ae.isConcurrentMode=function(){return!1},Ae.isContextConsumer=function(g){return m(g)===o},Ae.isContextProvider=function(g){return m(g)===a},Ae.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===e},Ae.isForwardRef=function(g){return m(g)===l},Ae.isFragment=function(g){return m(g)===n},Ae.isLazy=function(g){return m(g)===f},Ae.isMemo=function(g){return m(g)===d},Ae.isPortal=function(g){return m(g)===t},Ae.isProfiler=function(g){return m(g)===i},Ae.isStrictMode=function(g){return m(g)===r},Ae.isSuspense=function(g){return m(g)===c},Ae.isSuspenseList=function(g){return m(g)===u},Ae.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===n||g===i||g===r||g===c||g===u||g===p||typeof g=="object"&&g!==null&&(g.$$typeof===f||g.$$typeof===d||g.$$typeof===a||g.$$typeof===o||g.$$typeof===l||g.$$typeof===y||g.getModuleId!==void 0)},Ae.typeOf=m,Ae}var yx;function l$(){return yx||(yx=1,Ld.exports=s$()),Ld.exports}var c$=l$(),$d,vx;function sk(){if(vx)return $d;vx=1;var e=Kn(),t=Xn(),n="[object Number]";function r(i){return typeof i=="number"||t(i)&&e(i)==n}return $d=r,$d}var Fd,bx;function u$(){if(bx)return Fd;bx=1;var e=sk();function t(n){return e(n)&&n!=+n}return Fd=t,Fd}var d$=u$();const Go=Ce(d$);var h$=sk();const f$=Ce(h$);var cn=function(t){return t===0?0:t>0?1:-1},Cr=function(t){return zo(t)&&t.indexOf("%")===t.length-1},Z=function(t){return f$(t)&&!Go(t)},ot=function(t){return Z(t)||zo(t)},p$=0,_c=function(t){var n=++p$;return"".concat(t||"").concat(n)},Ur=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Z(t)&&!zo(t))return r;var a;if(Cr(t)){var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return Go(a)&&(a=r),i&&a>n&&(a=n),a},tr=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},m$=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},ni=function(t,n){return Z(t)&&Z(n)?function(r){return t+r*(n-t)}:function(){return n}};function fm(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):Qt(r,t))===n})}function yi(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function pm(e){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pm(e)}var g$=["viewBox","children"],y$=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],wx=["points","pathLength"],Bd={svg:g$,polygon:wx,polyline:wx},zy=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Qs=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(x.isValidElement(t)&&(r=t.props),!aa(r))return null;var i={};return Object.keys(r).forEach(function(a){zy.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},v$=function(t,n,r){return function(i){return t(n,r,i),null}},Js=function(t,n,r){if(!aa(t)||pm(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];zy.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=v$(o,n,r))}),i},b$=["children"],w$=["children"];function xx(e,t){if(e==null)return{};var n=x$(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function x$(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Sx={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Dn=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},_x=null,Wd=null,Gy=function e(t){if(t===_x&&Array.isArray(Wd))return Wd;var n=[];return x.Children.forEach(t,function(r){je(r)||(c$.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),Wd=n,_x=t,n};function un(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return Dn(i)}):r=[Dn(t)],Gy(e).forEach(function(i){var a=Qt(i,"type.displayName")||Qt(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Rt(e,t){var n=un(e,t);return n&&n[0]}var Ax=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!Z(r)||r<=0||!Z(i)||i<=0)},S$=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],_$=function(t){return t&&t.type&&zo(t.type)&&S$.indexOf(t.type)>=0},A$=function(t,n,r,i){var a,o=(a=Bd?.[i])!==null&&a!==void 0?a:[];return!ve(t)&&(i&&o.includes(n)||y$.includes(n))||r&&zy.includes(n)},_e=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(x.isValidElement(t)&&(i=t.props),!aa(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;A$((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},mm=function e(t,n){if(t===n)return!0;var r=x.Children.count(t);if(r!==x.Children.count(n))return!1;if(r===0)return!0;if(r===1)return Tx(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=t[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!Tx(a,o))return!1}return!0},Tx=function(t,n){if(je(t)&&je(n))return!0;if(!je(t)&&!je(n)){var r=t.props||{},i=r.children,a=xx(r,b$),o=n.props||{},s=o.children,l=xx(o,w$);return i&&s?yi(a,l)&&mm(i,s):!i&&!s?yi(a,l):!1}return!1},jx=function(t,n){var r=[],i={};return Gy(t).forEach(function(a,o){if(_$(a))r.push(a);else if(a){var s=Dn(a.type),l=n[s]||{},c=l.handler,u=l.once;if(c&&(!u||!i[s])){var d=c(a,s,o);r.push(d),i[s]=!0}}}),r},T$=function(t){var n=t&&t.type;return n&&Sx[n]?Sx[n]:null},j$=function(t,n){return Gy(n).indexOf(t)},P$=["children","width","height","viewBox","className","style","title","desc"];function gm(){return gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gm.apply(this,arguments)}function I$(e,t){if(e==null)return{};var n=k$(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function k$(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ym(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,a=e.className,o=e.style,s=e.title,l=e.desc,c=I$(e,P$),u=i||{width:n,height:r,x:0,y:0},d=Pe("recharts-surface",a);return R.createElement("svg",gm({},_e(c,!0,"svg"),{className:d,width:n,height:r,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),R.createElement("title",null,s),R.createElement("desc",null,l),t)}var O$=["children","className"];function vm(){return vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vm.apply(this,arguments)}function C$(e,t){if(e==null)return{};var n=E$(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function E$(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var ct=R.forwardRef(function(e,t){var n=e.children,r=e.className,i=C$(e,O$),a=Pe("recharts-layer",r);return R.createElement("g",vm({className:a},_e(i,!0),{ref:t}),n)}),qn=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},Vd,Px;function N$(){if(Px)return Vd;Px=1;function e(t,n,r){var i=-1,a=t.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(a);++i<a;)o[i]=t[i+n];return o}return Vd=e,Vd}var Hd,Ix;function M$(){if(Ix)return Hd;Ix=1;var e=N$();function t(n,r,i){var a=n.length;return i=i===void 0?a:i,!r&&i>=a?n:e(n,r,i)}return Hd=t,Hd}var Ud,kx;function lk(){if(kx)return Ud;kx=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,a="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+e+i+a+"]");function l(c){return s.test(c)}return Ud=l,Ud}var zd,Ox;function R$(){if(Ox)return zd;Ox=1;function e(t){return t.split("")}return zd=e,zd}var Gd,Cx;function D$(){if(Cx)return Gd;Cx=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,a="\\ufe0e\\ufe0f",o="["+e+"]",s="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+s+"|"+l+")",u="[^"+e+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",y=c+"?",m="["+a+"]?",g="(?:"+p+"(?:"+[u,d,f].join("|")+")"+m+y+")*",w=m+y+g,b="(?:"+[u+s+"?",s,d,f,o].join("|")+")",S=RegExp(l+"(?="+l+")|"+b+w,"g");function A(v){return v.match(S)||[]}return Gd=A,Gd}var Yd,Ex;function q$(){if(Ex)return Yd;Ex=1;var e=R$(),t=lk(),n=D$();function r(i){return t(i)?n(i):e(i)}return Yd=r,Yd}var Kd,Nx;function L$(){if(Nx)return Kd;Nx=1;var e=M$(),t=lk(),n=q$(),r=ik();function i(a){return function(o){o=r(o);var s=t(o)?n(o):void 0,l=s?s[0]:o.charAt(0),c=s?e(s,1).join(""):o.slice(1);return l[a]()+c}}return Kd=i,Kd}var Xd,Mx;function $$(){if(Mx)return Xd;Mx=1;var e=L$(),t=e("toUpperCase");return Xd=t,Xd}var F$=$$();const Ac=Ce(F$);function De(e){return function(){return e}}const ck=Math.cos,Zs=Math.sin,fn=Math.sqrt,el=Math.PI,Tc=2*el,bm=Math.PI,wm=2*bm,Pr=1e-6,B$=wm-Pr;function uk(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function W$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return uk;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class V${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?uk:W$(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-t,c=i-n,u=o-t,d=s-n,f=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>Pr)if(!(Math.abs(d*l-c*u)>Pr)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-o,y=i-s,m=l*l+c*c,g=p*p+y*y,w=Math.sqrt(m),b=Math.sqrt(f),S=a*Math.tan((bm-Math.acos((m+f-g)/(2*w*b)))/2),A=S/b,v=S/w;Math.abs(A-1)>Pr&&this._append`L${t+A*u},${n+A*d}`,this._append`A${a},${a},0,0,${+(d*p>u*y)},${this._x1=t+v*l},${this._y1=n+v*c}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=t+s,u=n+l,d=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Pr||Math.abs(this._y1-u)>Pr)&&this._append`L${c},${u}`,r&&(f<0&&(f=f%wm+wm),f>B$?this._append`A${r},${r},0,1,${d},${t-s},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:f>Pr&&this._append`A${r},${r},0,${+(f>=bm)},${d},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Yy(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new V$(t)}function Ky(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function dk(e){this._context=e}dk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function jc(e){return new dk(e)}function hk(e){return e[0]}function fk(e){return e[1]}function pk(e,t){var n=De(!0),r=null,i=jc,a=null,o=Yy(s);e=typeof e=="function"?e:e===void 0?hk:De(e),t=typeof t=="function"?t:t===void 0?fk:De(t);function s(l){var c,u=(l=Ky(l)).length,d,f=!1,p;for(r==null&&(a=i(p=o())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(d,c,l),+t(d,c,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:De(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:De(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:De(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function hs(e,t,n){var r=null,i=De(!0),a=null,o=jc,s=null,l=Yy(c);e=typeof e=="function"?e:e===void 0?hk:De(+e),t=typeof t=="function"?t:De(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?fk:De(+n);function c(d){var f,p,y,m=(d=Ky(d)).length,g,w=!1,b,S=new Array(m),A=new Array(m);for(a==null&&(s=o(b=l())),f=0;f<=m;++f){if(!(f<m&&i(g=d[f],f,d))===w)if(w=!w)p=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=f-1;y>=p;--y)s.point(S[y],A[y]);s.lineEnd(),s.areaEnd()}w&&(S[f]=+e(g,f,d),A[f]=+t(g,f,d),s.point(r?+r(g,f,d):S[f],n?+n(g,f,d):A[f]))}if(b)return s=null,b+""||null}function u(){return pk().defined(i).curve(o).context(a)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:De(+d),r=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:De(+d),c):e},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:De(+d),c):r},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:De(+d),n=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:De(+d),c):t},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:De(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:De(!!d),c):i},c.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),c):o},c.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),c):a},c}class mk{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function H$(e){return new mk(e,!0)}function U$(e){return new mk(e,!1)}const Xy={draw(e,t){const n=fn(t/el);e.moveTo(n,0),e.arc(0,0,n,0,Tc)}},z$={draw(e,t){const n=fn(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},gk=fn(1/3),G$=gk*2,Y$={draw(e,t){const n=fn(t/G$),r=n*gk;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},K$={draw(e,t){const n=fn(t),r=-n/2;e.rect(r,r,n,n)}},X$=.8908130915292852,yk=Zs(el/10)/Zs(7*el/10),Q$=Zs(Tc/10)*yk,J$=-ck(Tc/10)*yk,Z$={draw(e,t){const n=fn(t*X$),r=Q$*n,i=J$*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=Tc*a/5,s=ck(o),l=Zs(o);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},Qd=fn(3),eF={draw(e,t){const n=-fn(t/(Qd*3));e.moveTo(0,n*2),e.lineTo(-Qd*n,-n),e.lineTo(Qd*n,-n),e.closePath()}},Wt=-.5,Vt=fn(3)/2,xm=1/fn(12),tF=(xm/2+1)*3,nF={draw(e,t){const n=fn(t/tF),r=n/2,i=n*xm,a=r,o=n*xm+n,s=-a,l=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(Wt*r-Vt*i,Vt*r+Wt*i),e.lineTo(Wt*a-Vt*o,Vt*a+Wt*o),e.lineTo(Wt*s-Vt*l,Vt*s+Wt*l),e.lineTo(Wt*r+Vt*i,Wt*i-Vt*r),e.lineTo(Wt*a+Vt*o,Wt*o-Vt*a),e.lineTo(Wt*s+Vt*l,Wt*l-Vt*s),e.closePath()}};function rF(e,t){let n=null,r=Yy(i);e=typeof e=="function"?e:De(e||Xy),t=typeof t=="function"?t:De(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:De(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:De(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function tl(){}function nl(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function vk(e){this._context=e}vk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:nl(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:nl(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function iF(e){return new vk(e)}function bk(e){this._context=e}bk.prototype={areaStart:tl,areaEnd:tl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:nl(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function aF(e){return new bk(e)}function wk(e){this._context=e}wk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:nl(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function oF(e){return new wk(e)}function xk(e){this._context=e}xk.prototype={areaStart:tl,areaEnd:tl,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function sF(e){return new xk(e)}function Rx(e){return e<0?-1:1}function Dx(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(Rx(a)+Rx(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function qx(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Jd(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function rl(e){this._context=e}rl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Jd(this,this._t0,qx(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Jd(this,qx(this,n=Dx(this,e,t)),n);break;default:Jd(this,this._t0,n=Dx(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Sk(e){this._context=new _k(e)}(Sk.prototype=Object.create(rl.prototype)).point=function(e,t){rl.prototype.point.call(this,t,e)};function _k(e){this._context=e}_k.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function lF(e){return new rl(e)}function cF(e){return new Sk(e)}function Ak(e){this._context=e}Ak.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Lx(e),i=Lx(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Lx(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function uF(e){return new Ak(e)}function Pc(e,t){this._context=e,this._t=t}Pc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function dF(e){return new Pc(e,.5)}function hF(e){return new Pc(e,0)}function fF(e){return new Pc(e,1)}function Ti(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,s=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Sm(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function pF(e,t){return e[t]}function mF(e){const t=[];return t.key=e,t}function gF(){var e=De([]),t=Sm,n=Ti,r=pF;function i(a){var o=Array.from(e.apply(this,arguments),mF),s,l=o.length,c=-1,u;for(const d of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+r(d,o[s].key,c,a)]).data=d;for(s=0,u=Ky(t(o));s<l;++s)o[u[s]].index=s;return n(o,u),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:De(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:De(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?Sm:typeof a=="function"?a:De(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Ti,i):n},i}function yF(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}Ti(e,t)}}function vF(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}Ti(e,t)}}function bF(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,c=0;s<o;++s){for(var u=e[t[s]],d=u[r][1]||0,f=u[r-1][1]||0,p=(d-f)/2,y=0;y<s;++y){var m=e[t[y]],g=m[r][1]||0,w=m[r-1][1]||0;p+=g-w}l+=d,c+=p*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Ti(e,t)}}function Qa(e){"@babel/helpers - typeof";return Qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qa(e)}var wF=["type","size","sizeType"];function _m(){return _m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_m.apply(this,arguments)}function $x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$x(Object(n),!0).forEach(function(r){xF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$x(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xF(e,t,n){return t=SF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SF(e){var t=_F(e,"string");return Qa(t)=="symbol"?t:t+""}function _F(e,t){if(Qa(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AF(e,t){if(e==null)return{};var n=TF(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function TF(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Tk={symbolCircle:Xy,symbolCross:z$,symbolDiamond:Y$,symbolSquare:K$,symbolStar:Z$,symbolTriangle:eF,symbolWye:nF},jF=Math.PI/180,PF=function(t){var n="symbol".concat(Ac(t));return Tk[n]||Xy},IF=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*jF;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},kF=function(t,n){Tk["symbol".concat(Ac(t))]=n},Qy=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,a=i===void 0?64:i,o=t.sizeType,s=o===void 0?"area":o,l=AF(t,wF),c=Fx(Fx({},l),{},{type:r,size:a,sizeType:s}),u=function(){var g=PF(r),w=rF().type(g).size(IF(a,s,r));return w()},d=c.className,f=c.cx,p=c.cy,y=_e(c,!0);return f===+f&&p===+p&&a===+a?R.createElement("path",_m({},y,{className:Pe("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(p,")"),d:u()})):null};Qy.registerSymbol=kF;function ji(e){"@babel/helpers - typeof";return ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ji(e)}function Am(){return Am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Am.apply(this,arguments)}function Bx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function OF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bx(Object(n),!0).forEach(function(r){Ja(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pk(r.key),r)}}function NF(e,t,n){return t&&EF(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MF(e,t,n){return t=il(t),RF(e,jk()?Reflect.construct(t,n||[],il(e).constructor):t.apply(e,n))}function RF(e,t){if(t&&(ji(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DF(e)}function DF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jk=function(){return!!e})()}function il(e){return il=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},il(e)}function qF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tm(e,t)}function Tm(e,t){return Tm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tm(e,t)}function Ja(e,t,n){return t=Pk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pk(e){var t=LF(e,"string");return ji(t)=="symbol"?t:t+""}function LF(e,t){if(ji(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ji(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ht=32,Jy=(function(e){function t(){return CF(this,t),MF(this,t,arguments)}return qF(t,e),NF(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Ht/2,o=Ht/6,s=Ht/3,l=r.inactive?i:r.color;if(r.type==="plainline")return R.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Ht,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return R.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Ht,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return R.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ht/8,"h").concat(Ht,"v").concat(Ht*3/4,"h").concat(-Ht,"z"),className:"recharts-legend-icon"});if(R.isValidElement(r.legendIcon)){var c=OF({},r);return delete c.legendIcon,R.cloneElement(r.legendIcon,c)}return R.createElement(Qy,{fill:l,cx:a,cy:a,size:Ht,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:Ht,height:Ht},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,y){var m=p.formatter||l,g=Pe(Ja(Ja({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var w=ve(p.value)?null:p.value;qn(!ve(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?c:p.color;return R.createElement("li",Am({className:g,style:d,key:"legend-item-".concat(y)},Js(r.props,p,y)),R.createElement(ym,{width:o,height:o,viewBox:u,style:f},r.renderIcon(p)),R.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m?m(w,p,y):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return R.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])})(x.PureComponent);Ja(Jy,"displayName","Legend");Ja(Jy,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Zd,Wx;function $F(){if(Wx)return Zd;Wx=1;var e=wc();function t(){this.__data__=new e,this.size=0}return Zd=t,Zd}var eh,Vx;function FF(){if(Vx)return eh;Vx=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return eh=e,eh}var th,Hx;function BF(){if(Hx)return th;Hx=1;function e(t){return this.__data__.get(t)}return th=e,th}var nh,Ux;function WF(){if(Ux)return nh;Ux=1;function e(t){return this.__data__.has(t)}return nh=e,nh}var rh,zx;function VF(){if(zx)return rh;zx=1;var e=wc(),t=Wy(),n=Vy(),r=200;function i(a,o){var s=this.__data__;if(s instanceof e){var l=s.__data__;if(!t||l.length<r-1)return l.push([a,o]),this.size=++s.size,this;s=this.__data__=new n(l)}return s.set(a,o),this.size=s.size,this}return rh=i,rh}var ih,Gx;function Ik(){if(Gx)return ih;Gx=1;var e=wc(),t=$F(),n=FF(),r=BF(),i=WF(),a=VF();function o(s){var l=this.__data__=new e(s);this.size=l.size}return o.prototype.clear=t,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=a,ih=o,ih}var ah,Yx;function HF(){if(Yx)return ah;Yx=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return ah=t,ah}var oh,Kx;function UF(){if(Kx)return oh;Kx=1;function e(t){return this.__data__.has(t)}return oh=e,oh}var sh,Xx;function kk(){if(Xx)return sh;Xx=1;var e=Vy(),t=HF(),n=UF();function r(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new e;++a<o;)this.add(i[a])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,sh=r,sh}var lh,Qx;function Ok(){if(Qx)return lh;Qx=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return lh=e,lh}var ch,Jx;function Ck(){if(Jx)return ch;Jx=1;function e(t,n){return t.has(n)}return ch=e,ch}var uh,Zx;function Ek(){if(Zx)return uh;Zx=1;var e=kk(),t=Ok(),n=Ck(),r=1,i=2;function a(o,s,l,c,u,d){var f=l&r,p=o.length,y=s.length;if(p!=y&&!(f&&y>p))return!1;var m=d.get(o),g=d.get(s);if(m&&g)return m==s&&g==o;var w=-1,b=!0,S=l&i?new e:void 0;for(d.set(o,s),d.set(s,o);++w<p;){var A=o[w],v=s[w];if(c)var _=f?c(v,A,w,s,o,d):c(A,v,w,o,s,d);if(_!==void 0){if(_)continue;b=!1;break}if(S){if(!t(s,function(T,j){if(!n(S,j)&&(A===T||u(A,T,l,c,d)))return S.push(j)})){b=!1;break}}else if(!(A===v||u(A,v,l,c,d))){b=!1;break}}return d.delete(o),d.delete(s),b}return uh=a,uh}var dh,e0;function zF(){if(e0)return dh;e0=1;var e=On(),t=e.Uint8Array;return dh=t,dh}var hh,t0;function GF(){if(t0)return hh;t0=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,a){r[++n]=[a,i]}),r}return hh=e,hh}var fh,n0;function Zy(){if(n0)return fh;n0=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return fh=e,fh}var ph,r0;function YF(){if(r0)return ph;r0=1;var e=Uo(),t=zF(),n=By(),r=Ek(),i=GF(),a=Zy(),o=1,s=2,l="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Map]",f="[object Number]",p="[object RegExp]",y="[object Set]",m="[object String]",g="[object Symbol]",w="[object ArrayBuffer]",b="[object DataView]",S=e?e.prototype:void 0,A=S?S.valueOf:void 0;function v(_,T,j,P,O,I,k){switch(j){case b:if(_.byteLength!=T.byteLength||_.byteOffset!=T.byteOffset)return!1;_=_.buffer,T=T.buffer;case w:return!(_.byteLength!=T.byteLength||!I(new t(_),new t(T)));case l:case c:case f:return n(+_,+T);case u:return _.name==T.name&&_.message==T.message;case p:case m:return _==T+"";case d:var E=i;case y:var C=P&o;if(E||(E=a),_.size!=T.size&&!C)return!1;var M=k.get(_);if(M)return M==T;P|=s,k.set(_,T);var D=r(E(_),E(T),P,O,I,k);return k.delete(_),D;case g:if(A)return A.call(_)==A.call(T)}return!1}return ph=v,ph}var mh,i0;function Nk(){if(i0)return mh;i0=1;function e(t,n){for(var r=-1,i=n.length,a=t.length;++r<i;)t[a+r]=n[r];return t}return mh=e,mh}var gh,a0;function KF(){if(a0)return gh;a0=1;var e=Nk(),t=Nt();function n(r,i,a){var o=i(r);return t(r)?o:e(o,a(r))}return gh=n,gh}var yh,o0;function XF(){if(o0)return yh;o0=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,a=0,o=[];++r<i;){var s=t[r];n(s,r,t)&&(o[a++]=s)}return o}return yh=e,yh}var vh,s0;function QF(){if(s0)return vh;s0=1;function e(){return[]}return vh=e,vh}var bh,l0;function JF(){if(l0)return bh;l0=1;var e=XF(),t=QF(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(s){return r.call(o,s)}))}:t;return bh=a,bh}var wh,c0;function ZF(){if(c0)return wh;c0=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return wh=e,wh}var xh,u0;function eB(){if(u0)return xh;u0=1;var e=Kn(),t=Xn(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return xh=r,xh}var Sh,d0;function ev(){if(d0)return Sh;d0=1;var e=eB(),t=Xn(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=e((function(){return arguments})())?e:function(o){return t(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return Sh=a,Sh}var Pa={exports:{}},_h,h0;function tB(){if(h0)return _h;h0=1;function e(){return!1}return _h=e,_h}Pa.exports;var f0;function Mk(){return f0||(f0=1,(function(e,t){var n=On(),r=tB(),i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;e.exports=c})(Pa,Pa.exports)),Pa.exports}var Ah,p0;function tv(){if(p0)return Ah;p0=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??e,!!i&&(a=="number"||a!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return Ah=n,Ah}var Th,m0;function nv(){if(m0)return Th;m0=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return Th=t,Th}var jh,g0;function nB(){if(g0)return jh;g0=1;var e=Kn(),t=nv(),n=Xn(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",s="[object Error]",l="[object Function]",c="[object Map]",u="[object Number]",d="[object Object]",f="[object RegExp]",p="[object Set]",y="[object String]",m="[object WeakMap]",g="[object ArrayBuffer]",w="[object DataView]",b="[object Float32Array]",S="[object Float64Array]",A="[object Int8Array]",v="[object Int16Array]",_="[object Int32Array]",T="[object Uint8Array]",j="[object Uint8ClampedArray]",P="[object Uint16Array]",O="[object Uint32Array]",I={};I[b]=I[S]=I[A]=I[v]=I[_]=I[T]=I[j]=I[P]=I[O]=!0,I[r]=I[i]=I[g]=I[a]=I[w]=I[o]=I[s]=I[l]=I[c]=I[u]=I[d]=I[f]=I[p]=I[y]=I[m]=!1;function k(E){return n(E)&&t(E.length)&&!!I[e(E)]}return jh=k,jh}var Ph,y0;function Rk(){if(y0)return Ph;y0=1;function e(t){return function(n){return t(n)}}return Ph=e,Ph}var Ia={exports:{}};Ia.exports;var v0;function rB(){return v0||(v0=1,(function(e,t){var n=tk(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a&&n.process,s=(function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}})();e.exports=s})(Ia,Ia.exports)),Ia.exports}var Ih,b0;function Dk(){if(b0)return Ih;b0=1;var e=nB(),t=Rk(),n=rB(),r=n&&n.isTypedArray,i=r?t(r):e;return Ih=i,Ih}var kh,w0;function iB(){if(w0)return kh;w0=1;var e=ZF(),t=ev(),n=Nt(),r=Mk(),i=tv(),a=Dk(),o=Object.prototype,s=o.hasOwnProperty;function l(c,u){var d=n(c),f=!d&&t(c),p=!d&&!f&&r(c),y=!d&&!f&&!p&&a(c),m=d||f||p||y,g=m?e(c.length,String):[],w=g.length;for(var b in c)(u||s.call(c,b))&&!(m&&(b=="length"||p&&(b=="offset"||b=="parent")||y&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||i(b,w)))&&g.push(b);return g}return kh=l,kh}var Oh,x0;function aB(){if(x0)return Oh;x0=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return Oh=t,Oh}var Ch,S0;function qk(){if(S0)return Ch;S0=1;function e(t,n){return function(r){return t(n(r))}}return Ch=e,Ch}var Eh,_0;function oB(){if(_0)return Eh;_0=1;var e=qk(),t=e(Object.keys,Object);return Eh=t,Eh}var Nh,A0;function sB(){if(A0)return Nh;A0=1;var e=aB(),t=oB(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!e(a))return t(a);var o=[];for(var s in Object(a))r.call(a,s)&&s!="constructor"&&o.push(s);return o}return Nh=i,Nh}var Mh,T0;function Yo(){if(T0)return Mh;T0=1;var e=Fy(),t=nv();function n(r){return r!=null&&t(r.length)&&!e(r)}return Mh=n,Mh}var Rh,j0;function Ic(){if(j0)return Rh;j0=1;var e=iB(),t=sB(),n=Yo();function r(i){return n(i)?e(i):t(i)}return Rh=r,Rh}var Dh,P0;function lB(){if(P0)return Dh;P0=1;var e=KF(),t=JF(),n=Ic();function r(i){return e(i,n,t)}return Dh=r,Dh}var qh,I0;function cB(){if(I0)return qh;I0=1;var e=lB(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,o,s,l,c,u){var d=s&t,f=e(a),p=f.length,y=e(o),m=y.length;if(p!=m&&!d)return!1;for(var g=p;g--;){var w=f[g];if(!(d?w in o:r.call(o,w)))return!1}var b=u.get(a),S=u.get(o);if(b&&S)return b==o&&S==a;var A=!0;u.set(a,o),u.set(o,a);for(var v=d;++g<p;){w=f[g];var _=a[w],T=o[w];if(l)var j=d?l(T,_,w,o,a,u):l(_,T,w,a,o,u);if(!(j===void 0?_===T||c(_,T,s,l,u):j)){A=!1;break}v||(v=w=="constructor")}if(A&&!v){var P=a.constructor,O=o.constructor;P!=O&&"constructor"in a&&"constructor"in o&&!(typeof P=="function"&&P instanceof P&&typeof O=="function"&&O instanceof O)&&(A=!1)}return u.delete(a),u.delete(o),A}return qh=i,qh}var Lh,k0;function uB(){if(k0)return Lh;k0=1;var e=Xr(),t=On(),n=e(t,"DataView");return Lh=n,Lh}var $h,O0;function dB(){if(O0)return $h;O0=1;var e=Xr(),t=On(),n=e(t,"Promise");return $h=n,$h}var Fh,C0;function Lk(){if(C0)return Fh;C0=1;var e=Xr(),t=On(),n=e(t,"Set");return Fh=n,Fh}var Bh,E0;function hB(){if(E0)return Bh;E0=1;var e=Xr(),t=On(),n=e(t,"WeakMap");return Bh=n,Bh}var Wh,N0;function fB(){if(N0)return Wh;N0=1;var e=uB(),t=Wy(),n=dB(),r=Lk(),i=hB(),a=Kn(),o=nk(),s="[object Map]",l="[object Object]",c="[object Promise]",u="[object Set]",d="[object WeakMap]",f="[object DataView]",p=o(e),y=o(t),m=o(n),g=o(r),w=o(i),b=a;return(e&&b(new e(new ArrayBuffer(1)))!=f||t&&b(new t)!=s||n&&b(n.resolve())!=c||r&&b(new r)!=u||i&&b(new i)!=d)&&(b=function(S){var A=a(S),v=A==l?S.constructor:void 0,_=v?o(v):"";if(_)switch(_){case p:return f;case y:return s;case m:return c;case g:return u;case w:return d}return A}),Wh=b,Wh}var Vh,M0;function pB(){if(M0)return Vh;M0=1;var e=Ik(),t=Ek(),n=YF(),r=cB(),i=fB(),a=Nt(),o=Mk(),s=Dk(),l=1,c="[object Arguments]",u="[object Array]",d="[object Object]",f=Object.prototype,p=f.hasOwnProperty;function y(m,g,w,b,S,A){var v=a(m),_=a(g),T=v?u:i(m),j=_?u:i(g);T=T==c?d:T,j=j==c?d:j;var P=T==d,O=j==d,I=T==j;if(I&&o(m)){if(!o(g))return!1;v=!0,P=!1}if(I&&!P)return A||(A=new e),v||s(m)?t(m,g,w,b,S,A):n(m,g,T,w,b,S,A);if(!(w&l)){var k=P&&p.call(m,"__wrapped__"),E=O&&p.call(g,"__wrapped__");if(k||E){var C=k?m.value():m,M=E?g.value():g;return A||(A=new e),S(C,M,w,b,A)}}return I?(A||(A=new e),r(m,g,w,b,S,A)):!1}return Vh=y,Vh}var Hh,R0;function rv(){if(R0)return Hh;R0=1;var e=pB(),t=Xn();function n(r,i,a,o,s){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,a,o,n,s)}return Hh=n,Hh}var Uh,D0;function mB(){if(D0)return Uh;D0=1;var e=Ik(),t=rv(),n=1,r=2;function i(a,o,s,l){var c=s.length,u=c,d=!l;if(a==null)return!u;for(a=Object(a);c--;){var f=s[c];if(d&&f[2]?f[1]!==a[f[0]]:!(f[0]in a))return!1}for(;++c<u;){f=s[c];var p=f[0],y=a[p],m=f[1];if(d&&f[2]){if(y===void 0&&!(p in a))return!1}else{var g=new e;if(l)var w=l(y,m,p,a,o,g);if(!(w===void 0?t(m,y,n|r,l,g):w))return!1}}return!0}return Uh=i,Uh}var zh,q0;function $k(){if(q0)return zh;q0=1;var e=br();function t(n){return n===n&&!e(n)}return zh=t,zh}var Gh,L0;function gB(){if(L0)return Gh;L0=1;var e=$k(),t=Ic();function n(r){for(var i=t(r),a=i.length;a--;){var o=i[a],s=r[o];i[a]=[o,s,e(s)]}return i}return Gh=n,Gh}var Yh,$0;function Fk(){if($0)return Yh;$0=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return Yh=e,Yh}var Kh,F0;function yB(){if(F0)return Kh;F0=1;var e=mB(),t=gB(),n=Fk();function r(i){var a=t(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(o){return o===i||e(o,i,a)}}return Kh=r,Kh}var Xh,B0;function vB(){if(B0)return Xh;B0=1;function e(t,n){return t!=null&&n in Object(t)}return Xh=e,Xh}var Qh,W0;function bB(){if(W0)return Qh;W0=1;var e=ak(),t=ev(),n=Nt(),r=tv(),i=nv(),a=Sc();function o(s,l,c){l=e(l,s);for(var u=-1,d=l.length,f=!1;++u<d;){var p=a(l[u]);if(!(f=s!=null&&c(s,p)))break;s=s[p]}return f||++u!=d?f:(d=s==null?0:s.length,!!d&&i(d)&&r(p,d)&&(n(s)||t(s)))}return Qh=o,Qh}var Jh,V0;function wB(){if(V0)return Jh;V0=1;var e=vB(),t=bB();function n(r,i){return r!=null&&t(r,i,e)}return Jh=n,Jh}var Zh,H0;function xB(){if(H0)return Zh;H0=1;var e=rv(),t=ok(),n=wB(),r=$y(),i=$k(),a=Fk(),o=Sc(),s=1,l=2;function c(u,d){return r(u)&&i(d)?a(o(u),d):function(f){var p=t(f,u);return p===void 0&&p===d?n(f,u):e(d,p,s|l)}}return Zh=c,Zh}var ef,U0;function oa(){if(U0)return ef;U0=1;function e(t){return t}return ef=e,ef}var tf,z0;function SB(){if(z0)return tf;z0=1;function e(t){return function(n){return n?.[t]}}return tf=e,tf}var nf,G0;function _B(){if(G0)return nf;G0=1;var e=Uy();function t(n){return function(r){return e(r,n)}}return nf=t,nf}var rf,Y0;function AB(){if(Y0)return rf;Y0=1;var e=SB(),t=_B(),n=$y(),r=Sc();function i(a){return n(a)?e(r(a)):t(a)}return rf=i,rf}var af,K0;function wr(){if(K0)return af;K0=1;var e=yB(),t=xB(),n=oa(),r=Nt(),i=AB();function a(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?t(o[0],o[1]):e(o):i(o)}return af=a,af}var of,X0;function Bk(){if(X0)return of;X0=1;function e(t,n,r,i){for(var a=t.length,o=r+(i?1:-1);i?o--:++o<a;)if(n(t[o],o,t))return o;return-1}return of=e,of}var sf,Q0;function TB(){if(Q0)return sf;Q0=1;function e(t){return t!==t}return sf=e,sf}var lf,J0;function jB(){if(J0)return lf;J0=1;function e(t,n,r){for(var i=r-1,a=t.length;++i<a;)if(t[i]===n)return i;return-1}return lf=e,lf}var cf,Z0;function PB(){if(Z0)return cf;Z0=1;var e=Bk(),t=TB(),n=jB();function r(i,a,o){return a===a?n(i,a,o):e(i,t,o)}return cf=r,cf}var uf,eS;function IB(){if(eS)return uf;eS=1;var e=PB();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return uf=t,uf}var df,tS;function kB(){if(tS)return df;tS=1;function e(t,n,r){for(var i=-1,a=t==null?0:t.length;++i<a;)if(r(n,t[i]))return!0;return!1}return df=e,df}var hf,nS;function OB(){if(nS)return hf;nS=1;function e(){}return hf=e,hf}var ff,rS;function CB(){if(rS)return ff;rS=1;var e=Lk(),t=OB(),n=Zy(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(a){return new e(a)}:t;return ff=i,ff}var pf,iS;function EB(){if(iS)return pf;iS=1;var e=kk(),t=IB(),n=kB(),r=Ck(),i=CB(),a=Zy(),o=200;function s(l,c,u){var d=-1,f=t,p=l.length,y=!0,m=[],g=m;if(u)y=!1,f=n;else if(p>=o){var w=c?null:i(l);if(w)return a(w);y=!1,f=r,g=new e}else g=c?[]:m;e:for(;++d<p;){var b=l[d],S=c?c(b):b;if(b=u||b!==0?b:0,y&&S===S){for(var A=g.length;A--;)if(g[A]===S)continue e;c&&g.push(S),m.push(b)}else f(g,S,u)||(g!==m&&g.push(S),m.push(b))}return m}return pf=s,pf}var mf,aS;function NB(){if(aS)return mf;aS=1;var e=wr(),t=EB();function n(r,i){return r&&r.length?t(r,e(i,2)):[]}return mf=n,mf}var MB=NB();const oS=Ce(MB);function Wk(e,t,n){return t===!0?oS(e,n):ve(t)?oS(e,t):e}function Pi(e){"@babel/helpers - typeof";return Pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pi(e)}var RB=["ref"];function sS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sS(Object(n),!0).forEach(function(r){kc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hk(r.key),r)}}function qB(e,t,n){return t&&lS(e.prototype,t),n&&lS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function LB(e,t,n){return t=al(t),$B(e,Vk()?Reflect.construct(t,n||[],al(e).constructor):t.apply(e,n))}function $B(e,t){if(t&&(Pi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FB(e)}function FB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vk=function(){return!!e})()}function al(e){return al=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},al(e)}function BB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jm(e,t)}function jm(e,t){return jm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jm(e,t)}function kc(e,t,n){return t=Hk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hk(e){var t=WB(e,"string");return Pi(t)=="symbol"?t:t+""}function WB(e,t){if(Pi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Pi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function VB(e,t){if(e==null)return{};var n=HB(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function HB(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function UB(e){return e.value}function zB(e,t){if(R.isValidElement(e))return R.cloneElement(e,t);if(typeof e=="function")return R.createElement(e,t);t.ref;var n=VB(t,RB);return R.createElement(Jy,n)}var cS=1,vi=(function(e){function t(){var n;DB(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=LB(this,t,[].concat(i)),kc(n,"lastBoundingBox",{width:-1,height:-1}),n}return BB(t,e),qB(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>cS||Math.abs(i.height-this.lastBoundingBox.height)>cS)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Cn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,d,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var y=this.getBBoxSnapshot();f={top:((u||0)-y.height)/2}}else f=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Cn(Cn({},d),f)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,d=Cn(Cn({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return R.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){r.wrapperNode=p}},zB(a,Cn(Cn({},this.props),{},{payload:Wk(u,c,UB)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Cn(Cn({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&Z(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])})(x.PureComponent);kc(vi,"displayName","Legend");kc(vi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var gf,uS;function GB(){if(uS)return gf;uS=1;var e=Uo(),t=ev(),n=Nt(),r=e?e.isConcatSpreadable:void 0;function i(a){return n(a)||t(a)||!!(r&&a&&a[r])}return gf=i,gf}var yf,dS;function Uk(){if(dS)return yf;dS=1;var e=Nk(),t=GB();function n(r,i,a,o,s){var l=-1,c=r.length;for(a||(a=t),s||(s=[]);++l<c;){var u=r[l];i>0&&a(u)?i>1?n(u,i-1,a,o,s):e(s,u):o||(s[s.length]=u)}return s}return yf=n,yf}var vf,hS;function YB(){if(hS)return vf;hS=1;function e(t){return function(n,r,i){for(var a=-1,o=Object(n),s=i(n),l=s.length;l--;){var c=s[t?l:++a];if(r(o[c],c,o)===!1)break}return n}}return vf=e,vf}var bf,fS;function KB(){if(fS)return bf;fS=1;var e=YB(),t=e();return bf=t,bf}var wf,pS;function zk(){if(pS)return wf;pS=1;var e=KB(),t=Ic();function n(r,i){return r&&e(r,i,t)}return wf=n,wf}var xf,mS;function XB(){if(mS)return xf;mS=1;var e=Yo();function t(n,r){return function(i,a){if(i==null)return i;if(!e(i))return n(i,a);for(var o=i.length,s=r?o:-1,l=Object(i);(r?s--:++s<o)&&a(l[s],s,l)!==!1;);return i}}return xf=t,xf}var Sf,gS;function iv(){if(gS)return Sf;gS=1;var e=zk(),t=XB(),n=t(e);return Sf=n,Sf}var _f,yS;function Gk(){if(yS)return _f;yS=1;var e=iv(),t=Yo();function n(r,i){var a=-1,o=t(r)?Array(r.length):[];return e(r,function(s,l,c){o[++a]=i(s,l,c)}),o}return _f=n,_f}var Af,vS;function QB(){if(vS)return Af;vS=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return Af=e,Af}var Tf,bS;function JB(){if(bS)return Tf;bS=1;var e=ia();function t(n,r){if(n!==r){var i=n!==void 0,a=n===null,o=n===n,s=e(n),l=r!==void 0,c=r===null,u=r===r,d=e(r);if(!c&&!d&&!s&&n>r||s&&l&&u&&!c&&!d||a&&l&&u||!i&&u||!o)return 1;if(!a&&!s&&!d&&n<r||d&&i&&o&&!a&&!s||c&&i&&o||!l&&o||!u)return-1}return 0}return Tf=t,Tf}var jf,wS;function ZB(){if(wS)return jf;wS=1;var e=JB();function t(n,r,i){for(var a=-1,o=n.criteria,s=r.criteria,l=o.length,c=i.length;++a<l;){var u=e(o[a],s[a]);if(u){if(a>=c)return u;var d=i[a];return u*(d=="desc"?-1:1)}}return n.index-r.index}return jf=t,jf}var Pf,xS;function eW(){if(xS)return Pf;xS=1;var e=Hy(),t=Uy(),n=wr(),r=Gk(),i=QB(),a=Rk(),o=ZB(),s=oa(),l=Nt();function c(u,d,f){d.length?d=e(d,function(m){return l(m)?function(g){return t(g,m.length===1?m[0]:m)}:m}):d=[s];var p=-1;d=e(d,a(n));var y=r(u,function(m,g,w){var b=e(d,function(S){return S(m)});return{criteria:b,index:++p,value:m}});return i(y,function(m,g){return o(m,g,f)})}return Pf=c,Pf}var If,SS;function tW(){if(SS)return If;SS=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return If=e,If}var kf,_S;function nW(){if(_S)return kf;_S=1;var e=tW(),t=Math.max;function n(r,i,a){return i=t(i===void 0?r.length-1:i,0),function(){for(var o=arguments,s=-1,l=t(o.length-i,0),c=Array(l);++s<l;)c[s]=o[i+s];s=-1;for(var u=Array(i+1);++s<i;)u[s]=o[s];return u[i]=a(c),e(r,this,u)}}return kf=n,kf}var Of,AS;function rW(){if(AS)return Of;AS=1;function e(t){return function(){return t}}return Of=e,Of}var Cf,TS;function Yk(){if(TS)return Cf;TS=1;var e=Xr(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return Cf=t,Cf}var Ef,jS;function iW(){if(jS)return Ef;jS=1;var e=rW(),t=Yk(),n=oa(),r=t?function(i,a){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(a),writable:!0})}:n;return Ef=r,Ef}var Nf,PS;function aW(){if(PS)return Nf;PS=1;var e=800,t=16,n=Date.now;function r(i){var a=0,o=0;return function(){var s=n(),l=t-(s-o);if(o=s,l>0){if(++a>=e)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return Nf=r,Nf}var Mf,IS;function oW(){if(IS)return Mf;IS=1;var e=iW(),t=aW(),n=t(e);return Mf=n,Mf}var Rf,kS;function sW(){if(kS)return Rf;kS=1;var e=oa(),t=nW(),n=oW();function r(i,a){return n(t(i,a,e),i+"")}return Rf=r,Rf}var Df,OS;function Oc(){if(OS)return Df;OS=1;var e=By(),t=Yo(),n=tv(),r=br();function i(a,o,s){if(!r(s))return!1;var l=typeof o;return(l=="number"?t(s)&&n(o,s.length):l=="string"&&o in s)?e(s[o],a):!1}return Df=i,Df}var qf,CS;function lW(){if(CS)return qf;CS=1;var e=Uk(),t=eW(),n=sW(),r=Oc(),i=n(function(a,o){if(a==null)return[];var s=o.length;return s>1&&r(a,o[0],o[1])?o=[]:s>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),t(a,e(o,1),[])});return qf=i,qf}var cW=lW();const av=Ce(cW);function Za(e){"@babel/helpers - typeof";return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Za(e)}function Pm(){return Pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pm.apply(this,arguments)}function uW(e,t){return pW(e)||fW(e,t)||hW(e,t)||dW()}function dW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hW(e,t){if(e){if(typeof e=="string")return ES(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ES(e,t)}}function ES(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fW(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function pW(e){if(Array.isArray(e))return e}function NS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NS(Object(n),!0).forEach(function(r){mW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mW(e,t,n){return t=gW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gW(e){var t=yW(e,"string");return Za(t)=="symbol"?t:t+""}function yW(e,t){if(Za(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Za(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vW(e){return Array.isArray(e)&&ot(e[0])&&ot(e[1])?e.join(" ~ "):e}var bW=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,s=o===void 0?{}:o,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,d=t.formatter,f=t.itemSorter,p=t.wrapperClassName,y=t.labelClassName,m=t.label,g=t.labelFormatter,w=t.accessibilityLayer,b=w===void 0?!1:w,S=function(){if(u&&u.length){var k={padding:0,margin:0},E=(f?av(u,f):u).map(function(C,M){if(C.type==="none")return null;var D=Lf({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},s),q=C.formatter||d||vW,$=C.value,W=C.name,V=$,z=W;if(q&&V!=null&&z!=null){var U=q($,W,C,M,u);if(Array.isArray(U)){var ae=uW(U,2);V=ae[0],z=ae[1]}else V=U}return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:D},ot(z)?R.createElement("span",{className:"recharts-tooltip-item-name"},z):null,ot(z)?R.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,R.createElement("span",{className:"recharts-tooltip-item-value"},V),R.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:k},E)}return null},A=Lf({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),v=Lf({margin:0},c),_=!je(m),T=_?m:"",j=Pe("recharts-default-tooltip",p),P=Pe("recharts-tooltip-label",y);_&&g&&u!==void 0&&u!==null&&(T=g(m,u));var O=b?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",Pm({className:j,style:A},O),R.createElement("p",{className:P,style:v},R.isValidElement(T)?T:"".concat(T)),S())};function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}function fs(e,t,n){return t=wW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wW(e){var t=xW(e,"string");return eo(t)=="symbol"?t:t+""}function xW(e,t){if(eo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(eo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pa="recharts-tooltip-wrapper",SW={visibility:"hidden"};function _W(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Pe(pa,fs(fs(fs(fs({},"".concat(pa,"-right"),Z(n)&&t&&Z(t.x)&&n>=t.x),"".concat(pa,"-left"),Z(n)&&t&&Z(t.x)&&n<t.x),"".concat(pa,"-bottom"),Z(r)&&t&&Z(t.y)&&r>=t.y),"".concat(pa,"-top"),Z(r)&&t&&Z(t.y)&&r<t.y))}function MS(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(a&&Z(a[r]))return a[r];var u=n[r]-s-i,d=n[r]+i;if(t[r])return o[r]?u:d;if(o[r]){var f=u,p=l[r];return f<p?Math.max(d,l[r]):Math.max(u,l[r])}var y=d+s,m=l[r]+c;return y>m?Math.max(u,l[r]):Math.max(d,l[r])}function AW(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function TW(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,u,d;return o.height>0&&o.width>0&&n?(u=MS({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=MS({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=AW({translateX:u,translateY:d,useTranslate3d:s})):c=SW,{cssProperties:c,cssClasses:_W({translateX:u,translateY:d,coordinate:n})}}function Ii(e){"@babel/helpers - typeof";return Ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ii(e)}function RS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RS(Object(n),!0).forEach(function(r){km(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xk(r.key),r)}}function IW(e,t,n){return t&&PW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kW(e,t,n){return t=ol(t),OW(e,Kk()?Reflect.construct(t,n||[],ol(e).constructor):t.apply(e,n))}function OW(e,t){if(t&&(Ii(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CW(e)}function CW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kk=function(){return!!e})()}function ol(e){return ol=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ol(e)}function EW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Im(e,t)}function Im(e,t){return Im=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Im(e,t)}function km(e,t,n){return t=Xk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xk(e){var t=NW(e,"string");return Ii(t)=="symbol"?t:t+""}function NW(e,t){if(Ii(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ii(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qS=1,MW=(function(e){function t(){var n;jW(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=kW(this,t,[].concat(i)),km(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),km(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return EW(t,e),IW(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>qS||Math.abs(r.height-this.state.lastBoundingBox.height)>qS)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,d=i.hasPayload,f=i.isAnimationActive,p=i.offset,y=i.position,m=i.reverseDirection,g=i.useTranslate3d,w=i.viewBox,b=i.wrapperStyle,S=TW({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:p,position:y,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:w}),A=S.cssClasses,v=S.cssProperties,_=DS(DS({transition:f&&a?"transform ".concat(s,"ms ").concat(l):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return R.createElement("div",{tabIndex:-1,className:A,style:_,ref:function(j){r.wrapperNode=j}},c)}}])})(x.PureComponent),RW=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ko={isSsr:RW()};function ki(e){"@babel/helpers - typeof";return ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ki(e)}function LS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $S(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LS(Object(n),!0).forEach(function(r){ov(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jk(r.key),r)}}function LW(e,t,n){return t&&qW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $W(e,t,n){return t=sl(t),FW(e,Qk()?Reflect.construct(t,n||[],sl(e).constructor):t.apply(e,n))}function FW(e,t){if(t&&(ki(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BW(e)}function BW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qk=function(){return!!e})()}function sl(e){return sl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sl(e)}function WW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Om(e,t)}function Om(e,t){return Om=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Om(e,t)}function ov(e,t,n){return t=Jk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jk(e){var t=VW(e,"string");return ki(t)=="symbol"?t:t+""}function VW(e,t){if(ki(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ki(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function HW(e){return e.dataKey}function UW(e,t){return R.isValidElement(e)?R.cloneElement(e,t):typeof e=="function"?R.createElement(e,t):R.createElement(bW,t)}var pn=(function(e){function t(){return DW(this,t),$W(this,t,arguments)}return WW(t,e),LW(t,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,d=i.filterNull,f=i.isAnimationActive,p=i.offset,y=i.payload,m=i.payloadUniqBy,g=i.position,w=i.reverseDirection,b=i.useTranslate3d,S=i.viewBox,A=i.wrapperStyle,v=y??[];d&&v.length&&(v=Wk(y.filter(function(T){return T.value!=null&&(T.hide!==!0||r.props.includeHidden)}),m,HW));var _=v.length>0;return R.createElement(MW,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:f,active:a,coordinate:u,hasPayload:_,offset:p,position:g,reverseDirection:w,useTranslate3d:b,viewBox:S,wrapperStyle:A},UW(c,$S($S({},this.props),{},{payload:v})))}}])})(x.PureComponent);ov(pn,"displayName","Tooltip");ov(pn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ko.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var $f,FS;function zW(){if(FS)return $f;FS=1;var e=On(),t=function(){return e.Date.now()};return $f=t,$f}var Ff,BS;function GW(){if(BS)return Ff;BS=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return Ff=t,Ff}var Bf,WS;function YW(){if(WS)return Bf;WS=1;var e=GW(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return Bf=n,Bf}var Wf,VS;function Zk(){if(VS)return Wf;VS=1;var e=YW(),t=br(),n=ia(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(c){if(typeof c=="number")return c;if(n(c))return r;if(t(c)){var u=typeof c.valueOf=="function"?c.valueOf():c;c=t(u)?u+"":u}if(typeof c!="string")return c===0?c:+c;c=e(c);var d=a.test(c);return d||o.test(c)?s(c.slice(2),d?2:8):i.test(c)?r:+c}return Wf=l,Wf}var Vf,HS;function KW(){if(HS)return Vf;HS=1;var e=br(),t=zW(),n=Zk(),r="Expected a function",i=Math.max,a=Math.min;function o(s,l,c){var u,d,f,p,y,m,g=0,w=!1,b=!1,S=!0;if(typeof s!="function")throw new TypeError(r);l=n(l)||0,e(c)&&(w=!!c.leading,b="maxWait"in c,f=b?i(n(c.maxWait)||0,l):f,S="trailing"in c?!!c.trailing:S);function A(E){var C=u,M=d;return u=d=void 0,g=E,p=s.apply(M,C),p}function v(E){return g=E,y=setTimeout(j,l),w?A(E):p}function _(E){var C=E-m,M=E-g,D=l-C;return b?a(D,f-M):D}function T(E){var C=E-m,M=E-g;return m===void 0||C>=l||C<0||b&&M>=f}function j(){var E=t();if(T(E))return P(E);y=setTimeout(j,_(E))}function P(E){return y=void 0,S&&u?A(E):(u=d=void 0,p)}function O(){y!==void 0&&clearTimeout(y),g=0,u=m=d=y=void 0}function I(){return y===void 0?p:P(t())}function k(){var E=t(),C=T(E);if(u=arguments,d=this,m=E,C){if(y===void 0)return v(m);if(b)return clearTimeout(y),y=setTimeout(j,l),A(m)}return y===void 0&&(y=setTimeout(j,l)),p}return k.cancel=O,k.flush=I,k}return Vf=o,Vf}var Hf,US;function XW(){if(US)return Hf;US=1;var e=KW(),t=br(),n="Expected a function";function r(i,a,o){var s=!0,l=!0;if(typeof i!="function")throw new TypeError(n);return t(o)&&(s="leading"in o?!!o.leading:s,l="trailing"in o?!!o.trailing:l),e(i,a,{leading:s,maxWait:a,trailing:l})}return Hf=r,Hf}var QW=XW();const eO=Ce(QW);function to(e){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(e)}function zS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ps(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zS(Object(n),!0).forEach(function(r){JW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JW(e,t,n){return t=ZW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZW(e){var t=e5(e,"string");return to(t)=="symbol"?t:t+""}function e5(e,t){if(to(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(to(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t5(e,t){return a5(e)||i5(e,t)||r5(e,t)||n5()}function n5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r5(e,t){if(e){if(typeof e=="string")return GS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GS(e,t)}}function GS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i5(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function a5(e){if(Array.isArray(e))return e}var o5=x.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=e.width,o=a===void 0?"100%":a,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,u=c===void 0?0:c,d=e.minHeight,f=e.maxHeight,p=e.children,y=e.debounce,m=y===void 0?0:y,g=e.id,w=e.className,b=e.onResize,S=e.style,A=S===void 0?{}:S,v=x.useRef(null),_=x.useRef();_.current=b,x.useImperativeHandle(t,function(){return Object.defineProperty(v.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),v.current},configurable:!0})});var T=x.useState({containerWidth:i.width,containerHeight:i.height}),j=t5(T,2),P=j[0],O=j[1],I=x.useCallback(function(E,C){O(function(M){var D=Math.round(E),q=Math.round(C);return M.containerWidth===D&&M.containerHeight===q?M:{containerWidth:D,containerHeight:q}})},[]);x.useEffect(function(){var E=function(W){var V,z=W[0].contentRect,U=z.width,ae=z.height;I(U,ae),(V=_.current)===null||V===void 0||V.call(_,U,ae)};m>0&&(E=eO(E,m,{trailing:!0,leading:!1}));var C=new ResizeObserver(E),M=v.current.getBoundingClientRect(),D=M.width,q=M.height;return I(D,q),C.observe(v.current),function(){C.disconnect()}},[I,m]);var k=x.useMemo(function(){var E=P.containerWidth,C=P.containerHeight;if(E<0||C<0)return null;qn(Cr(o)||Cr(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),qn(!n||n>0,"The aspect(%s) must be greater than zero.",n);var M=Cr(o)?E:o,D=Cr(l)?C:l;n&&n>0&&(M?D=M/n:D&&(M=D*n),f&&D>f&&(D=f)),qn(M>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,D,o,l,u,d,n);var q=!Array.isArray(p)&&Dn(p.type).endsWith("Chart");return R.Children.map(p,function($){return R.isValidElement($)?x.cloneElement($,ps({width:M,height:D},q?{style:ps({height:"100%",width:"100%",maxHeight:D,maxWidth:M},$.props.style)}:{})):$})},[n,p,l,f,d,u,P,o]);return R.createElement("div",{id:g?"".concat(g):void 0,className:Pe("recharts-responsive-container",w),style:ps(ps({},A),{},{width:o,height:l,minWidth:u,minHeight:d,maxHeight:f}),ref:v},k)}),tO=function(t){return null};tO.displayName="Cell";function no(e){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},no(e)}function YS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YS(Object(n),!0).forEach(function(r){s5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s5(e,t,n){return t=l5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l5(e){var t=c5(e,"string");return no(t)=="symbol"?t:t+""}function c5(e,t){if(no(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(no(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ri={widthCache:{},cacheCount:0},u5=2e3,d5={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},KS="recharts_measurement_span";function h5(e){var t=Cm({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var qa=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ko.isSsr)return{width:0,height:0};var r=h5(n),i=JSON.stringify({text:t,copyStyle:r});if(ri.widthCache[i])return ri.widthCache[i];try{var a=document.getElementById(KS);a||(a=document.createElement("span"),a.setAttribute("id",KS),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=Cm(Cm({},d5),r);Object.assign(a.style,o),a.textContent="".concat(t);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return ri.widthCache[i]=l,++ri.cacheCount>u5&&(ri.cacheCount=0,ri.widthCache={}),l}catch{return{width:0,height:0}}},f5=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function ro(e){"@babel/helpers - typeof";return ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ro(e)}function ll(e,t){return y5(e)||g5(e,t)||m5(e,t)||p5()}function p5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m5(e,t){if(e){if(typeof e=="string")return XS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XS(e,t)}}function XS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g5(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function y5(e){if(Array.isArray(e))return e}function v5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w5(r.key),r)}}function b5(e,t,n){return t&&QS(e.prototype,t),n&&QS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function w5(e){var t=x5(e,"string");return ro(t)=="symbol"?t:t+""}function x5(e,t){if(ro(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ro(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var JS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,S5=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_5=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,nO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},A5=Object.keys(nO),si="NaN";function T5(e,t){return e*nO[t]}var ms=(function(){function e(t,n){v5(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!S5.test(n)&&(this.num=NaN,this.unit=""),A5.includes(n)&&(this.num=T5(t,n),this.unit="px")}return b5(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=_5.exec(n))!==null&&r!==void 0?r:[],a=ll(i,3),o=a[1],s=a[2];return new e(parseFloat(o),s??"")}}])})();function rO(e){if(e.includes(si))return si;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=JS.exec(t))!==null&&n!==void 0?n:[],i=ll(r,4),a=i[1],o=i[2],s=i[3],l=ms.parse(a??""),c=ms.parse(s??""),u=o==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return si;t=t.replace(JS,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,f=(d=ZS.exec(t))!==null&&d!==void 0?d:[],p=ll(f,4),y=p[1],m=p[2],g=p[3],w=ms.parse(y??""),b=ms.parse(g??""),S=m==="+"?w.add(b):w.subtract(b);if(S.isNaN())return si;t=t.replace(ZS,S.toString())}return t}var e1=/\(([^()]*)\)/;function j5(e){for(var t=e;t.includes("(");){var n=e1.exec(t),r=ll(n,2),i=r[1];t=t.replace(e1,rO(i))}return t}function P5(e){var t=e.replace(/\s+/g,"");return t=j5(t),t=rO(t),t}function I5(e){try{return P5(e)}catch{return si}}function Uf(e){var t=I5(e.slice(5,-1));return t===si?"":t}var k5=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],O5=["dx","dy","angle","className","breakAll"];function Em(){return Em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Em.apply(this,arguments)}function t1(e,t){if(e==null)return{};var n=C5(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function C5(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function n1(e,t){return R5(e)||M5(e,t)||N5(e,t)||E5()}function E5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N5(e,t){if(e){if(typeof e=="string")return r1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r1(e,t)}}function r1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M5(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function R5(e){if(Array.isArray(e))return e}var iO=/[ \f\n\r\t\v\u2028\u2029]+/,aO=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var a=[];je(n)||(r?a=n.toString().split(""):a=n.toString().split(iO));var o=a.map(function(l){return{word:l,width:qa(l,i).width}}),s=r?0:qa(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},D5=function(t,n,r,i,a){var o=t.maxLines,s=t.children,l=t.style,c=t.breakAll,u=Z(o),d=s,f=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(D,q){var $=q.word,W=q.width,V=D[D.length-1];if(V&&(i==null||a||V.width+W+r<Number(i)))V.words.push($),V.width+=W+r;else{var z={words:[$],width:W};D.push(z)}return D},[])},p=f(n),y=function(M){return M.reduce(function(D,q){return D.width>q.width?D:q})};if(!u)return p;for(var m="…",g=function(M){var D=d.slice(0,M),q=aO({breakAll:c,style:l,children:D+m}).wordsWithComputedWidth,$=f(q),W=$.length>o||y($).width>Number(i);return[W,$]},w=0,b=d.length-1,S=0,A;w<=b&&S<=d.length-1;){var v=Math.floor((w+b)/2),_=v-1,T=g(_),j=n1(T,2),P=j[0],O=j[1],I=g(v),k=n1(I,1),E=k[0];if(!P&&!E&&(w=v+1),P&&E&&(b=v-1),!P&&E){A=O;break}S++}return A||p},i1=function(t){var n=je(t)?[]:t.toString().split(iO);return[{words:n}]},q5=function(t){var n=t.width,r=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,s=t.maxLines;if((n||r)&&!Ko.isSsr){var l,c,u=aO({breakAll:o,children:i,style:a});if(u){var d=u.wordsWithComputedWidth,f=u.spaceWidth;l=d,c=f}else return i1(i);return D5({breakAll:o,children:i,maxLines:s,style:a},l,c,n,r)}return i1(i)},a1="#808080",cl=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.lineHeight,s=o===void 0?"1em":o,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,d=u===void 0?!1:u,f=t.textAnchor,p=f===void 0?"start":f,y=t.verticalAnchor,m=y===void 0?"end":y,g=t.fill,w=g===void 0?a1:g,b=t1(t,k5),S=x.useMemo(function(){return q5({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),A=b.dx,v=b.dy,_=b.angle,T=b.className,j=b.breakAll,P=t1(b,O5);if(!ot(r)||!ot(a))return null;var O=r+(Z(A)?A:0),I=a+(Z(v)?v:0),k;switch(m){case"start":k=Uf("calc(".concat(c,")"));break;case"middle":k=Uf("calc(".concat((S.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:k=Uf("calc(".concat(S.length-1," * -").concat(s,")"));break}var E=[];if(d){var C=S[0].width,M=b.width;E.push("scale(".concat((Z(M)?M/C:1)/C,")"))}return _&&E.push("rotate(".concat(_,", ").concat(O,", ").concat(I,")")),E.length&&(P.transform=E.join(" ")),R.createElement("text",Em({},_e(P,!0),{x:O,y:I,className:Pe("recharts-text",T),textAnchor:p,fill:w.includes("url")?a1:w}),S.map(function(D,q){var $=D.words.join(j?"":" ");return R.createElement("tspan",{x:O,dy:q===0?k:s,key:"".concat($,"-").concat(q)},$)}))};function ir(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function L5(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function sv(e){let t,n,r;e.length!==2?(t=ir,n=(s,l)=>ir(e(s),l),r=(s,l)=>e(s)-l):(t=e===ir||e===L5?e:$5,n=e,r=e);function i(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;n(s[d],l)<0?c=d+1:u=d}while(c<u)}return c}function a(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;n(s[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function o(s,l,c=0,u=s.length){const d=i(s,l,c,u-1);return d>c&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function $5(){return 0}function oO(e){return e===null?NaN:+e}function*F5(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const B5=sv(ir),Xo=B5.right;sv(oO).center;class o1 extends Map{constructor(t,n=H5){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(s1(this,t))}has(t){return super.has(s1(this,t))}set(t,n){return super.set(W5(this,t),n)}delete(t){return super.delete(V5(this,t))}}function s1({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function W5({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function V5({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function H5(e){return e!==null&&typeof e=="object"?e.valueOf():e}function U5(e=ir){if(e===ir)return sO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function sO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const z5=Math.sqrt(50),G5=Math.sqrt(10),Y5=Math.sqrt(2);function ul(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=z5?10:a>=G5?5:a>=Y5?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?ul(e,t,n*2):[s,l,c]}function Nm(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?ul(t,e,n):ul(e,t,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function Mm(e,t,n){return t=+t,e=+e,n=+n,ul(e,t,n)[2]}function Rm(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Mm(t,e,n):Mm(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function l1(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function c1(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function lO(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?sO:U5(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(t-c*d/l+f)),y=Math.min(r,Math.floor(t+(l-c)*d/l+f));lO(e,t,p,y,i)}const a=e[t];let o=n,s=r;for(ma(e,n,t),i(e[r],a)>0&&ma(e,n,r);o<s;){for(ma(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[n],a)===0?ma(e,n,s):(++s,ma(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function ma(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function K5(e,t,n){if(e=Float64Array.from(F5(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return c1(e);if(t>=1)return l1(e);var r,i=(r-1)*t,a=Math.floor(i),o=l1(lO(e,a).subarray(0,a+1)),s=c1(e.subarray(a+1));return o+(s-o)*(i-a)}}function X5(e,t,n=oO){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),s=+n(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function Q5(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function tn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Qn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Dm=Symbol("implicit");function lv(){var e=new o1,t=[],n=[],r=Dm;function i(a){let o=e.get(a);if(o===void 0){if(r!==Dm)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new o1;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return lv(t,n).unknown(r)},tn.apply(i,arguments),i}function io(){var e=lv().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,s=!1,l=0,c=0,u=.5;delete e.unknown;function d(){var f=t().length,p=i<r,y=p?i:r,m=p?r:i;a=(m-y)/Math.max(1,f-l+c*2),s&&(a=Math.floor(a)),y+=(m-y-a*(f-l))*u,o=a*(1-l),s&&(y=Math.round(y),o=Math.round(o));var g=Q5(f).map(function(w){return y+a*w});return n(p?g.reverse():g)}return e.domain=function(f){return arguments.length?(t(f),d()):t()},e.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(f){return arguments.length?(s=!!f,d()):s},e.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),d()):l},e.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},e.paddingOuter=function(f){return arguments.length?(c=+f,d()):c},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),d()):u},e.copy=function(){return io(t(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},tn.apply(d(),arguments)}function cO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return cO(t())},e}function La(){return cO(io.apply(null,arguments).paddingInner(1))}function cv(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function uO(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Qo(){}var ao=.7,dl=1/ao,bi="\\s*([+-]?\\d+)\\s*",oo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",J5=/^#([0-9a-f]{3,8})$/,Z5=new RegExp(`^rgb\\(${bi},${bi},${bi}\\)$`),eV=new RegExp(`^rgb\\(${xn},${xn},${xn}\\)$`),tV=new RegExp(`^rgba\\(${bi},${bi},${bi},${oo}\\)$`),nV=new RegExp(`^rgba\\(${xn},${xn},${xn},${oo}\\)$`),rV=new RegExp(`^hsl\\(${oo},${xn},${xn}\\)$`),iV=new RegExp(`^hsla\\(${oo},${xn},${xn},${oo}\\)$`),u1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cv(Qo,so,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:d1,formatHex:d1,formatHex8:aV,formatHsl:oV,formatRgb:h1,toString:h1});function d1(){return this.rgb().formatHex()}function aV(){return this.rgb().formatHex8()}function oV(){return dO(this).formatHsl()}function h1(){return this.rgb().formatRgb()}function so(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=J5.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?f1(t):n===3?new Ot(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?gs(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?gs(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Z5.exec(e))?new Ot(t[1],t[2],t[3],1):(t=eV.exec(e))?new Ot(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=tV.exec(e))?gs(t[1],t[2],t[3],t[4]):(t=nV.exec(e))?gs(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=rV.exec(e))?g1(t[1],t[2]/100,t[3]/100,1):(t=iV.exec(e))?g1(t[1],t[2]/100,t[3]/100,t[4]):u1.hasOwnProperty(e)?f1(u1[e]):e==="transparent"?new Ot(NaN,NaN,NaN,0):null}function f1(e){return new Ot(e>>16&255,e>>8&255,e&255,1)}function gs(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ot(e,t,n,r)}function sV(e){return e instanceof Qo||(e=so(e)),e?(e=e.rgb(),new Ot(e.r,e.g,e.b,e.opacity)):new Ot}function qm(e,t,n,r){return arguments.length===1?sV(e):new Ot(e,t,n,r??1)}function Ot(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}cv(Ot,qm,uO(Qo,{brighter(e){return e=e==null?dl:Math.pow(dl,e),new Ot(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ao:Math.pow(ao,e),new Ot(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ot(Lr(this.r),Lr(this.g),Lr(this.b),hl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:p1,formatHex:p1,formatHex8:lV,formatRgb:m1,toString:m1}));function p1(){return`#${Er(this.r)}${Er(this.g)}${Er(this.b)}`}function lV(){return`#${Er(this.r)}${Er(this.g)}${Er(this.b)}${Er((isNaN(this.opacity)?1:this.opacity)*255)}`}function m1(){const e=hl(this.opacity);return`${e===1?"rgb(":"rgba("}${Lr(this.r)}, ${Lr(this.g)}, ${Lr(this.b)}${e===1?")":`, ${e})`}`}function hl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Lr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Er(e){return e=Lr(e),(e<16?"0":"")+e.toString(16)}function g1(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new sn(e,t,n,r)}function dO(e){if(e instanceof sn)return new sn(e.h,e.s,e.l,e.opacity);if(e instanceof Qo||(e=so(e)),!e)return new sn;if(e instanceof sn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new sn(o,s,l,e.opacity)}function cV(e,t,n,r){return arguments.length===1?dO(e):new sn(e,t,n,r??1)}function sn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}cv(sn,cV,uO(Qo,{brighter(e){return e=e==null?dl:Math.pow(dl,e),new sn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ao:Math.pow(ao,e),new sn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ot(zf(e>=240?e-240:e+120,i,r),zf(e,i,r),zf(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new sn(y1(this.h),ys(this.s),ys(this.l),hl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=hl(this.opacity);return`${e===1?"hsl(":"hsla("}${y1(this.h)}, ${ys(this.s)*100}%, ${ys(this.l)*100}%${e===1?")":`, ${e})`}`}}));function y1(e){return e=(e||0)%360,e<0?e+360:e}function ys(e){return Math.max(0,Math.min(1,e||0))}function zf(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const uv=e=>()=>e;function uV(e,t){return function(n){return e+n*t}}function dV(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function hV(e){return(e=+e)==1?hO:function(t,n){return n-t?dV(t,n,e):uv(isNaN(t)?n:t)}}function hO(e,t){var n=t-e;return n?uV(e,n):uv(isNaN(e)?t:e)}const v1=(function e(t){var n=hV(t);function r(i,a){var o=n((i=qm(i)).r,(a=qm(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),c=hO(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=e,r})(1);function fV(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function pV(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function mV(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=sa(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function gV(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function fl(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function yV(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=sa(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Lm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gf=new RegExp(Lm.source,"g");function vV(e){return function(){return e}}function bV(e){return function(t){return e(t)+""}}function wV(e,t){var n=Lm.lastIndex=Gf.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Lm.exec(e))&&(i=Gf.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:fl(r,i)})),n=Gf.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?bV(l[0].x):vV(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}function sa(e,t){var n=typeof t,r;return t==null||n==="boolean"?uv(t):(n==="number"?fl:n==="string"?(r=so(t))?(t=r,v1):wV:t instanceof so?v1:t instanceof Date?gV:pV(t)?fV:Array.isArray(t)?mV:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?yV:fl)(e,t)}function dv(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function xV(e,t){t===void 0&&(t=e,e=sa);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function SV(e){return function(){return e}}function pl(e){return+e}var b1=[0,1];function Pt(e){return e}function $m(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:SV(isNaN(t)?NaN:.5)}function _V(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function AV(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=$m(i,r),a=n(o,a)):(r=$m(r,i),a=n(a,o)),function(s){return a(r(s))}}function TV(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=$m(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(s){var l=Xo(e,s,1,r)-1;return a[l](i[l](s))}}function Jo(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Cc(){var e=b1,t=b1,n=sa,r,i,a,o=Pt,s,l,c;function u(){var f=Math.min(e.length,t.length);return o!==Pt&&(o=_V(e[0],e[f-1])),s=f>2?TV:AV,l=c=null,d}function d(f){return f==null||isNaN(f=+f)?a:(l||(l=s(e.map(r),t,n)))(r(o(f)))}return d.invert=function(f){return o(i((c||(c=s(t,e.map(r),fl)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,pl),u()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),n=dv,u()},d.clamp=function(f){return arguments.length?(o=f?!0:Pt,u()):o!==Pt},d.interpolate=function(f){return arguments.length?(n=f,u()):n},d.unknown=function(f){return arguments.length?(a=f,d):a},function(f,p){return r=f,i=p,u()}}function hv(){return Cc()(Pt,Pt)}function jV(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ml(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Oi(e){return e=ml(Math.abs(e)),e?e[1]:NaN}function PV(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function IV(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var kV=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lo(e){if(!(t=kV.exec(e)))throw new Error("invalid format: "+e);var t;return new fv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}lo.prototype=fv.prototype;function fv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}fv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function OV(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var fO;function CV(e,t){var n=ml(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(fO=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+ml(e,Math.max(0,t+a-1))[0]}function w1(e,t){var n=ml(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const x1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:jV,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>w1(e*100,t),r:w1,s:CV,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function S1(e){return e}var _1=Array.prototype.map,A1=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function EV(e){var t=e.grouping===void 0||e.thousands===void 0?S1:PV(_1.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?S1:IV(_1.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=lo(d);var f=d.fill,p=d.align,y=d.sign,m=d.symbol,g=d.zero,w=d.width,b=d.comma,S=d.precision,A=d.trim,v=d.type;v==="n"?(b=!0,v="g"):x1[v]||(S===void 0&&(S=12),A=!0,v="g"),(g||f==="0"&&p==="=")&&(g=!0,f="0",p="=");var _=m==="$"?n:m==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",T=m==="$"?r:/[%p]/.test(v)?o:"",j=x1[v],P=/[defgprs%]/.test(v);S=S===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function O(I){var k=_,E=T,C,M,D;if(v==="c")E=j(I)+E,I="";else{I=+I;var q=I<0||1/I<0;if(I=isNaN(I)?l:j(Math.abs(I),S),A&&(I=OV(I)),q&&+I==0&&y!=="+"&&(q=!1),k=(q?y==="("?y:s:y==="-"||y==="("?"":y)+k,E=(v==="s"?A1[8+fO/3]:"")+E+(q&&y==="("?")":""),P){for(C=-1,M=I.length;++C<M;)if(D=I.charCodeAt(C),48>D||D>57){E=(D===46?i+I.slice(C+1):I.slice(C))+E,I=I.slice(0,C);break}}}b&&!g&&(I=t(I,1/0));var $=k.length+I.length+E.length,W=$<w?new Array(w-$+1).join(f):"";switch(b&&g&&(I=t(W+I,W.length?w-E.length:1/0),W=""),p){case"<":I=k+I+E+W;break;case"=":I=k+W+I+E;break;case"^":I=W.slice(0,$=W.length>>1)+k+I+E+W.slice($);break;default:I=W+k+I+E;break}return a(I)}return O.toString=function(){return d+""},O}function u(d,f){var p=c((d=lo(d),d.type="f",d)),y=Math.max(-8,Math.min(8,Math.floor(Oi(f)/3)))*3,m=Math.pow(10,-y),g=A1[8+y/3];return function(w){return p(m*w)+g}}return{format:c,formatPrefix:u}}var vs,pv,pO;NV({thousands:",",grouping:[3],currency:["$",""]});function NV(e){return vs=EV(e),pv=vs.format,pO=vs.formatPrefix,vs}function MV(e){return Math.max(0,-Oi(Math.abs(e)))}function RV(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Oi(t)/3)))*3-Oi(Math.abs(e)))}function DV(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Oi(t)-Oi(e))+1}function mO(e,t,n,r){var i=Rm(e,t,n),a;switch(r=lo(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=RV(i,o))&&(r.precision=a),pO(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=DV(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=MV(i))&&(r.precision=a-(r.type==="%")*2);break}}return pv(r)}function xr(e){var t=e.domain;return e.ticks=function(n){var r=t();return Nm(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return mO(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],s=r[a],l,c,u=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);u-- >0;){if(c=Mm(o,s,n),c===l)return r[i]=o,r[a]=s,t(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function gl(){var e=hv();return e.copy=function(){return Jo(e,gl())},tn.apply(e,arguments),xr(e)}function gO(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,pl),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return gO(e).unknown(t)},e=arguments.length?Array.from(e,pl):[0,1],xr(n)}function yO(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function T1(e){return Math.log(e)}function j1(e){return Math.exp(e)}function qV(e){return-Math.log(-e)}function LV(e){return-Math.exp(-e)}function $V(e){return isFinite(e)?+("1e"+e):e<0?0:e}function FV(e){return e===10?$V:e===Math.E?Math.exp:t=>Math.pow(e,t)}function BV(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function P1(e){return(t,n)=>-e(-t,n)}function mv(e){const t=e(T1,j1),n=t.domain;let r=10,i,a;function o(){return i=BV(r),a=FV(r),n()[0]<0?(i=P1(i),a=P1(a),e(qV,LV)):e(T1,j1),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const l=n();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let f=i(c),p=i(u),y,m;const g=s==null?10:+s;let w=[];if(!(r%1)&&p-f<g){if(f=Math.floor(f),p=Math.ceil(p),c>0){for(;f<=p;++f)for(y=1;y<r;++y)if(m=f<0?y/a(-f):y*a(f),!(m<c)){if(m>u)break;w.push(m)}}else for(;f<=p;++f)for(y=r-1;y>=1;--y)if(m=f>0?y/a(-f):y*a(f),!(m<c)){if(m>u)break;w.push(m)}w.length*2<g&&(w=Nm(c,u,g))}else w=Nm(f,p,Math.min(p-f,g)).map(a);return d?w.reverse():w},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=lo(l)).precision==null&&(l.trim=!0),l=pv(l)),s===1/0)return l;const c=Math.max(1,r*s/t.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=c?l(u):""}},t.nice=()=>n(yO(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function vO(){const e=mv(Cc()).domain([1,10]);return e.copy=()=>Jo(e,vO()).base(e.base()),tn.apply(e,arguments),e}function I1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function k1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function gv(e){var t=1,n=e(I1(t),k1(t));return n.constant=function(r){return arguments.length?e(I1(t=+r),k1(t)):t},xr(n)}function bO(){var e=gv(Cc());return e.copy=function(){return Jo(e,bO()).constant(e.constant())},tn.apply(e,arguments)}function O1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function WV(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function VV(e){return e<0?-e*e:e*e}function yv(e){var t=e(Pt,Pt),n=1;function r(){return n===1?e(Pt,Pt):n===.5?e(WV,VV):e(O1(n),O1(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},xr(t)}function vv(){var e=yv(Cc());return e.copy=function(){return Jo(e,vv()).exponent(e.exponent())},tn.apply(e,arguments),e}function HV(){return vv.apply(null,arguments).exponent(.5)}function C1(e){return Math.sign(e)*e*e}function UV(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function wO(){var e=hv(),t=[0,1],n=!1,r;function i(a){var o=UV(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(C1(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,pl)).map(C1)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return wO(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},tn.apply(i,arguments),xr(i)}function xO(){var e=[],t=[],n=[],r;function i(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=X5(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:t[Xo(n,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ir),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return xO().domain(e).range(t).unknown(r)},tn.apply(a,arguments)}function SO(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Xo(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return SO().domain([e,t]).range(i).unknown(a)},tn.apply(xr(o),arguments)}function _O(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Xo(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return _O().domain(e).range(t).unknown(n)},tn.apply(i,arguments)}const Yf=new Date,Kf=new Date;function st(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),t(a,s),e(a);while(c<a&&a<o);return l},i.filter=a=>st(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(Yf.setTime(+a),Kf.setTime(+o),e(Yf),e(Kf),Math.floor(n(Yf,Kf))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const yl=st(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);yl.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?st(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):yl);yl.range;const Nn=1e3,Kt=Nn*60,Mn=Kt*60,Vn=Mn*24,bv=Vn*7,E1=Vn*30,Xf=Vn*365,Nr=st(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Nn)},(e,t)=>(t-e)/Nn,e=>e.getUTCSeconds());Nr.range;const wv=st(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Nn)},(e,t)=>{e.setTime(+e+t*Kt)},(e,t)=>(t-e)/Kt,e=>e.getMinutes());wv.range;const xv=st(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Kt)},(e,t)=>(t-e)/Kt,e=>e.getUTCMinutes());xv.range;const Sv=st(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Nn-e.getMinutes()*Kt)},(e,t)=>{e.setTime(+e+t*Mn)},(e,t)=>(t-e)/Mn,e=>e.getHours());Sv.range;const _v=st(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Mn)},(e,t)=>(t-e)/Mn,e=>e.getUTCHours());_v.range;const Zo=st(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Kt)/Vn,e=>e.getDate()-1);Zo.range;const Ec=st(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vn,e=>e.getUTCDate()-1);Ec.range;const AO=st(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vn,e=>Math.floor(e/Vn));AO.range;function Qr(e){return st(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Kt)/bv)}const Nc=Qr(0),vl=Qr(1),zV=Qr(2),GV=Qr(3),Ci=Qr(4),YV=Qr(5),KV=Qr(6);Nc.range;vl.range;zV.range;GV.range;Ci.range;YV.range;KV.range;function Jr(e){return st(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/bv)}const Mc=Jr(0),bl=Jr(1),XV=Jr(2),QV=Jr(3),Ei=Jr(4),JV=Jr(5),ZV=Jr(6);Mc.range;bl.range;XV.range;QV.range;Ei.range;JV.range;ZV.range;const Av=st(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Av.range;const Tv=st(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Tv.range;const Hn=st(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Hn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:st(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Hn.range;const Un=st(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Un.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:st(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Un.range;function TO(e,t,n,r,i,a){const o=[[Nr,1,Nn],[Nr,5,5*Nn],[Nr,15,15*Nn],[Nr,30,30*Nn],[a,1,Kt],[a,5,5*Kt],[a,15,15*Kt],[a,30,30*Kt],[i,1,Mn],[i,3,3*Mn],[i,6,6*Mn],[i,12,12*Mn],[r,1,Vn],[r,2,2*Vn],[n,1,bv],[t,1,E1],[t,3,3*E1],[e,1,Xf]];function s(c,u,d){const f=u<c;f&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),y=p?p.range(c,+u+1):[];return f?y.reverse():y}function l(c,u,d){const f=Math.abs(u-c)/d,p=sv(([,,g])=>g).right(o,f);if(p===o.length)return e.every(Rm(c/Xf,u/Xf,d));if(p===0)return yl.every(Math.max(Rm(c,u,d),1));const[y,m]=o[f/o[p-1][2]<o[p][2]/f?p-1:p];return y.every(m)}return[s,l]}const[e4,t4]=TO(Un,Tv,Mc,AO,_v,xv),[n4,r4]=TO(Hn,Av,Nc,Zo,Sv,wv);function Qf(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Jf(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ga(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function i4(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=ya(i),u=va(i),d=ya(a),f=va(a),p=ya(o),y=va(o),m=ya(s),g=va(s),w=ya(l),b=va(l),S={a:q,A:$,b:W,B:V,c:null,d:L1,e:L1,f:P4,g:q4,G:$4,H:A4,I:T4,j:j4,L:jO,m:I4,M:k4,p:z,q:U,Q:B1,s:W1,S:O4,u:C4,U:E4,V:N4,w:M4,W:R4,x:null,X:null,y:D4,Y:L4,Z:F4,"%":F1},A={a:ae,A:he,b:ye,B:fe,c:null,d:$1,e:$1,f:H4,g:eH,G:nH,H:B4,I:W4,j:V4,L:IO,m:U4,M:z4,p:ne,q:ue,Q:B1,s:W1,S:G4,u:Y4,U:K4,V:X4,w:Q4,W:J4,x:null,X:null,y:Z4,Y:tH,Z:rH,"%":F1},v={a:O,A:I,b:k,B:E,c:C,d:D1,e:D1,f:w4,g:R1,G:M1,H:q1,I:q1,j:g4,L:b4,m:m4,M:y4,p:P,q:p4,Q:S4,s:_4,S:v4,u:c4,U:u4,V:d4,w:l4,W:h4,x:M,X:D,y:R1,Y:M1,Z:f4,"%":x4};S.x=_(n,S),S.X=_(r,S),S.c=_(t,S),A.x=_(n,A),A.X=_(r,A),A.c=_(t,A);function _(G,X){return function(J){var B=[],me=-1,de=0,Ee=G.length,Me,Re,N;for(J instanceof Date||(J=new Date(+J));++me<Ee;)G.charCodeAt(me)===37&&(B.push(G.slice(de,me)),(Re=N1[Me=G.charAt(++me)])!=null?Me=G.charAt(++me):Re=Me==="e"?" ":"0",(N=X[Me])&&(Me=N(J,Re)),B.push(Me),de=me+1);return B.push(G.slice(de,me)),B.join("")}}function T(G,X){return function(J){var B=ga(1900,void 0,1),me=j(B,G,J+="",0),de,Ee;if(me!=J.length)return null;if("Q"in B)return new Date(B.Q);if("s"in B)return new Date(B.s*1e3+("L"in B?B.L:0));if(X&&!("Z"in B)&&(B.Z=0),"p"in B&&(B.H=B.H%12+B.p*12),B.m===void 0&&(B.m="q"in B?B.q:0),"V"in B){if(B.V<1||B.V>53)return null;"w"in B||(B.w=1),"Z"in B?(de=Jf(ga(B.y,0,1)),Ee=de.getUTCDay(),de=Ee>4||Ee===0?bl.ceil(de):bl(de),de=Ec.offset(de,(B.V-1)*7),B.y=de.getUTCFullYear(),B.m=de.getUTCMonth(),B.d=de.getUTCDate()+(B.w+6)%7):(de=Qf(ga(B.y,0,1)),Ee=de.getDay(),de=Ee>4||Ee===0?vl.ceil(de):vl(de),de=Zo.offset(de,(B.V-1)*7),B.y=de.getFullYear(),B.m=de.getMonth(),B.d=de.getDate()+(B.w+6)%7)}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),Ee="Z"in B?Jf(ga(B.y,0,1)).getUTCDay():Qf(ga(B.y,0,1)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+B.W*7-(Ee+5)%7:B.w+B.U*7-(Ee+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,Jf(B)):Qf(B)}}function j(G,X,J,B){for(var me=0,de=X.length,Ee=J.length,Me,Re;me<de;){if(B>=Ee)return-1;if(Me=X.charCodeAt(me++),Me===37){if(Me=X.charAt(me++),Re=v[Me in N1?X.charAt(me++):Me],!Re||(B=Re(G,J,B))<0)return-1}else if(Me!=J.charCodeAt(B++))return-1}return B}function P(G,X,J){var B=c.exec(X.slice(J));return B?(G.p=u.get(B[0].toLowerCase()),J+B[0].length):-1}function O(G,X,J){var B=p.exec(X.slice(J));return B?(G.w=y.get(B[0].toLowerCase()),J+B[0].length):-1}function I(G,X,J){var B=d.exec(X.slice(J));return B?(G.w=f.get(B[0].toLowerCase()),J+B[0].length):-1}function k(G,X,J){var B=w.exec(X.slice(J));return B?(G.m=b.get(B[0].toLowerCase()),J+B[0].length):-1}function E(G,X,J){var B=m.exec(X.slice(J));return B?(G.m=g.get(B[0].toLowerCase()),J+B[0].length):-1}function C(G,X,J){return j(G,t,X,J)}function M(G,X,J){return j(G,n,X,J)}function D(G,X,J){return j(G,r,X,J)}function q(G){return o[G.getDay()]}function $(G){return a[G.getDay()]}function W(G){return l[G.getMonth()]}function V(G){return s[G.getMonth()]}function z(G){return i[+(G.getHours()>=12)]}function U(G){return 1+~~(G.getMonth()/3)}function ae(G){return o[G.getUTCDay()]}function he(G){return a[G.getUTCDay()]}function ye(G){return l[G.getUTCMonth()]}function fe(G){return s[G.getUTCMonth()]}function ne(G){return i[+(G.getUTCHours()>=12)]}function ue(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var X=_(G+="",S);return X.toString=function(){return G},X},parse:function(G){var X=T(G+="",!1);return X.toString=function(){return G},X},utcFormat:function(G){var X=_(G+="",A);return X.toString=function(){return G},X},utcParse:function(G){var X=T(G+="",!0);return X.toString=function(){return G},X}}}var N1={"-":"",_:" ",0:"0"},ut=/^\s*\d+/,a4=/^%/,o4=/[\\^$*+?|[\]().{}]/g;function Se(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function s4(e){return e.replace(o4,"\\$&")}function ya(e){return new RegExp("^(?:"+e.map(s4).join("|")+")","i")}function va(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function l4(e,t,n){var r=ut.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function c4(e,t,n){var r=ut.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function u4(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function d4(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function h4(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function M1(e,t,n){var r=ut.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function R1(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function f4(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function p4(e,t,n){var r=ut.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function m4(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function D1(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function g4(e,t,n){var r=ut.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function q1(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function y4(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function v4(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function b4(e,t,n){var r=ut.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function w4(e,t,n){var r=ut.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function x4(e,t,n){var r=a4.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function S4(e,t,n){var r=ut.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function _4(e,t,n){var r=ut.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function L1(e,t){return Se(e.getDate(),t,2)}function A4(e,t){return Se(e.getHours(),t,2)}function T4(e,t){return Se(e.getHours()%12||12,t,2)}function j4(e,t){return Se(1+Zo.count(Hn(e),e),t,3)}function jO(e,t){return Se(e.getMilliseconds(),t,3)}function P4(e,t){return jO(e,t)+"000"}function I4(e,t){return Se(e.getMonth()+1,t,2)}function k4(e,t){return Se(e.getMinutes(),t,2)}function O4(e,t){return Se(e.getSeconds(),t,2)}function C4(e){var t=e.getDay();return t===0?7:t}function E4(e,t){return Se(Nc.count(Hn(e)-1,e),t,2)}function PO(e){var t=e.getDay();return t>=4||t===0?Ci(e):Ci.ceil(e)}function N4(e,t){return e=PO(e),Se(Ci.count(Hn(e),e)+(Hn(e).getDay()===4),t,2)}function M4(e){return e.getDay()}function R4(e,t){return Se(vl.count(Hn(e)-1,e),t,2)}function D4(e,t){return Se(e.getFullYear()%100,t,2)}function q4(e,t){return e=PO(e),Se(e.getFullYear()%100,t,2)}function L4(e,t){return Se(e.getFullYear()%1e4,t,4)}function $4(e,t){var n=e.getDay();return e=n>=4||n===0?Ci(e):Ci.ceil(e),Se(e.getFullYear()%1e4,t,4)}function F4(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Se(t/60|0,"0",2)+Se(t%60,"0",2)}function $1(e,t){return Se(e.getUTCDate(),t,2)}function B4(e,t){return Se(e.getUTCHours(),t,2)}function W4(e,t){return Se(e.getUTCHours()%12||12,t,2)}function V4(e,t){return Se(1+Ec.count(Un(e),e),t,3)}function IO(e,t){return Se(e.getUTCMilliseconds(),t,3)}function H4(e,t){return IO(e,t)+"000"}function U4(e,t){return Se(e.getUTCMonth()+1,t,2)}function z4(e,t){return Se(e.getUTCMinutes(),t,2)}function G4(e,t){return Se(e.getUTCSeconds(),t,2)}function Y4(e){var t=e.getUTCDay();return t===0?7:t}function K4(e,t){return Se(Mc.count(Un(e)-1,e),t,2)}function kO(e){var t=e.getUTCDay();return t>=4||t===0?Ei(e):Ei.ceil(e)}function X4(e,t){return e=kO(e),Se(Ei.count(Un(e),e)+(Un(e).getUTCDay()===4),t,2)}function Q4(e){return e.getUTCDay()}function J4(e,t){return Se(bl.count(Un(e)-1,e),t,2)}function Z4(e,t){return Se(e.getUTCFullYear()%100,t,2)}function eH(e,t){return e=kO(e),Se(e.getUTCFullYear()%100,t,2)}function tH(e,t){return Se(e.getUTCFullYear()%1e4,t,4)}function nH(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ei(e):Ei.ceil(e),Se(e.getUTCFullYear()%1e4,t,4)}function rH(){return"+0000"}function F1(){return"%"}function B1(e){return+e}function W1(e){return Math.floor(+e/1e3)}var ii,OO,CO;iH({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function iH(e){return ii=i4(e),OO=ii.format,ii.parse,CO=ii.utcFormat,ii.utcParse,ii}function aH(e){return new Date(e)}function oH(e){return e instanceof Date?+e:+new Date(+e)}function jv(e,t,n,r,i,a,o,s,l,c){var u=hv(),d=u.invert,f=u.domain,p=c(".%L"),y=c(":%S"),m=c("%I:%M"),g=c("%I %p"),w=c("%a %d"),b=c("%b %d"),S=c("%B"),A=c("%Y");function v(_){return(l(_)<_?p:s(_)<_?y:o(_)<_?m:a(_)<_?g:r(_)<_?i(_)<_?w:b:n(_)<_?S:A)(_)}return u.invert=function(_){return new Date(d(_))},u.domain=function(_){return arguments.length?f(Array.from(_,oH)):f().map(aH)},u.ticks=function(_){var T=f();return e(T[0],T[T.length-1],_??10)},u.tickFormat=function(_,T){return T==null?v:c(T)},u.nice=function(_){var T=f();return(!_||typeof _.range!="function")&&(_=t(T[0],T[T.length-1],_??10)),_?f(yO(T,_)):u},u.copy=function(){return Jo(u,jv(e,t,n,r,i,a,o,s,l,c))},u}function sH(){return tn.apply(jv(n4,r4,Hn,Av,Nc,Zo,Sv,wv,Nr,OO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lH(){return tn.apply(jv(e4,t4,Un,Tv,Mc,Ec,_v,xv,Nr,CO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Rc(){var e=0,t=1,n,r,i,a,o=Pt,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(o=d,c):o};function u(d){return function(f){var p,y;return arguments.length?([p,y]=f,o=d(p,y),c):[o(0),o(1)]}}return c.range=u(sa),c.rangeRound=u(dv),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return a=d,n=d(e),r=d(t),i=n===r?0:1/(r-n),c}}function Sr(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function EO(){var e=xr(Rc()(Pt));return e.copy=function(){return Sr(e,EO())},Qn.apply(e,arguments)}function NO(){var e=mv(Rc()).domain([1,10]);return e.copy=function(){return Sr(e,NO()).base(e.base())},Qn.apply(e,arguments)}function MO(){var e=gv(Rc());return e.copy=function(){return Sr(e,MO()).constant(e.constant())},Qn.apply(e,arguments)}function Pv(){var e=yv(Rc());return e.copy=function(){return Sr(e,Pv()).exponent(e.exponent())},Qn.apply(e,arguments)}function cH(){return Pv.apply(null,arguments).exponent(.5)}function RO(){var e=[],t=Pt;function n(r){if(r!=null&&!isNaN(r=+r))return t((Xo(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ir),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>K5(e,a/r))},n.copy=function(){return RO(t).domain(e)},Qn.apply(n,arguments)}function Dc(){var e=0,t=.5,n=1,r=1,i,a,o,s,l,c=Pt,u,d=!1,f;function p(m){return isNaN(m=+m)?f:(m=.5+((m=+u(m))-a)*(r*m<r*a?s:l),c(d?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,n]=m,i=u(e=+e),a=u(t=+t),o=u(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p):[e,t,n]},p.clamp=function(m){return arguments.length?(d=!!m,p):d},p.interpolator=function(m){return arguments.length?(c=m,p):c};function y(m){return function(g){var w,b,S;return arguments.length?([w,b,S]=g,c=xV(m,[w,b,S]),p):[c(0),c(.5),c(1)]}}return p.range=y(sa),p.rangeRound=y(dv),p.unknown=function(m){return arguments.length?(f=m,p):f},function(m){return u=m,i=m(e),a=m(t),o=m(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p}}function DO(){var e=xr(Dc()(Pt));return e.copy=function(){return Sr(e,DO())},Qn.apply(e,arguments)}function qO(){var e=mv(Dc()).domain([.1,1,10]);return e.copy=function(){return Sr(e,qO()).base(e.base())},Qn.apply(e,arguments)}function LO(){var e=gv(Dc());return e.copy=function(){return Sr(e,LO()).constant(e.constant())},Qn.apply(e,arguments)}function Iv(){var e=yv(Dc());return e.copy=function(){return Sr(e,Iv()).exponent(e.exponent())},Qn.apply(e,arguments)}function uH(){return Iv.apply(null,arguments).exponent(.5)}const V1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:io,scaleDiverging:DO,scaleDivergingLog:qO,scaleDivergingPow:Iv,scaleDivergingSqrt:uH,scaleDivergingSymlog:LO,scaleIdentity:gO,scaleImplicit:Dm,scaleLinear:gl,scaleLog:vO,scaleOrdinal:lv,scalePoint:La,scalePow:vv,scaleQuantile:xO,scaleQuantize:SO,scaleRadial:wO,scaleSequential:EO,scaleSequentialLog:NO,scaleSequentialPow:Pv,scaleSequentialQuantile:RO,scaleSequentialSqrt:cH,scaleSequentialSymlog:MO,scaleSqrt:HV,scaleSymlog:bO,scaleThreshold:_O,scaleTime:sH,scaleUtc:lH,tickFormat:mO},Symbol.toStringTag,{value:"Module"}));var Zf,H1;function $O(){if(H1)return Zf;H1=1;var e=ia();function t(n,r,i){for(var a=-1,o=n.length;++a<o;){var s=n[a],l=r(s);if(l!=null&&(c===void 0?l===l&&!e(l):i(l,c)))var c=l,u=s}return u}return Zf=t,Zf}var ep,U1;function dH(){if(U1)return ep;U1=1;function e(t,n){return t>n}return ep=e,ep}var tp,z1;function hH(){if(z1)return tp;z1=1;var e=$O(),t=dH(),n=oa();function r(i){return i&&i.length?e(i,n,t):void 0}return tp=r,tp}var fH=hH();const qc=Ce(fH);var np,G1;function pH(){if(G1)return np;G1=1;function e(t,n){return t<n}return np=e,np}var rp,Y1;function mH(){if(Y1)return rp;Y1=1;var e=$O(),t=pH(),n=oa();function r(i){return i&&i.length?e(i,n,t):void 0}return rp=r,rp}var gH=mH();const Lc=Ce(gH);var ip,K1;function yH(){if(K1)return ip;K1=1;var e=Hy(),t=wr(),n=Gk(),r=Nt();function i(a,o){var s=r(a)?e:n;return s(a,t(o,3))}return ip=i,ip}var ap,X1;function vH(){if(X1)return ap;X1=1;var e=Uk(),t=yH();function n(r,i){return e(t(r,i),1)}return ap=n,ap}var bH=vH();const wH=Ce(bH);var op,Q1;function xH(){if(Q1)return op;Q1=1;var e=rv();function t(n,r){return e(n,r)}return op=t,op}var SH=xH();const kv=Ce(SH);var la=1e9,_H={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Cv,We=!0,Zt="[DecimalError] ",$r=Zt+"Invalid argument: ",Ov=Zt+"Exponent out of range: ",ca=Math.floor,Ir=Math.pow,AH=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qt,lt=1e7,qe=7,FO=9007199254740991,wl=ca(FO/qe),ie={};ie.absoluteValue=ie.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ie.comparedTo=ie.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ie.decimalPlaces=ie.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*qe;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ie.dividedBy=ie.div=function(e){return Ln(this,new this.constructor(e))};ie.dividedToIntegerBy=ie.idiv=function(e){var t=this,n=t.constructor;return Ne(Ln(t,new n(e),0,1),n.precision)};ie.equals=ie.eq=function(e){return!this.cmp(e)};ie.exponent=function(){return rt(this)};ie.greaterThan=ie.gt=function(e){return this.cmp(e)>0};ie.greaterThanOrEqualTo=ie.gte=function(e){return this.cmp(e)>=0};ie.isInteger=ie.isint=function(){return this.e>this.d.length-2};ie.isNegative=ie.isneg=function(){return this.s<0};ie.isPositive=ie.ispos=function(){return this.s>0};ie.isZero=function(){return this.s===0};ie.lessThan=ie.lt=function(e){return this.cmp(e)<0};ie.lessThanOrEqualTo=ie.lte=function(e){return this.cmp(e)<1};ie.logarithm=ie.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(qt))throw Error(Zt+"NaN");if(n.s<1)throw Error(Zt+(n.s?"NaN":"-Infinity"));return n.eq(qt)?new r(0):(We=!1,t=Ln(co(n,a),co(e,a),a),We=!0,Ne(t,i))};ie.minus=ie.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?VO(t,e):BO(t,(e.s=-e.s,e))};ie.modulo=ie.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Zt+"NaN");return n.s?(We=!1,t=Ln(n,e,0,1).times(e),We=!0,n.minus(t)):Ne(new r(n),i)};ie.naturalExponential=ie.exp=function(){return WO(this)};ie.naturalLogarithm=ie.ln=function(){return co(this)};ie.negated=ie.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ie.plus=ie.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?BO(t,e):VO(t,(e.s=-e.s,e))};ie.precision=ie.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error($r+e);if(t=rt(i)+1,r=i.d.length-1,n=r*qe+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ie.squareRoot=ie.sqrt=function(){var e,t,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Zt+"NaN")}for(e=rt(s),We=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=vn(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=ca((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(Ln(s,a,o+2)).times(.5),vn(a.d).slice(0,o)===(t=vn(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Ne(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(t!="9999")break;o+=4}return We=!0,Ne(r,n)};ie.times=ie.mul=function(e){var t,n,r,i,a,o,s,l,c,u=this,d=u.constructor,f=u.d,p=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,n=u.e+e.e,l=f.length,c=p.length,l<c&&(a=f,f=p,p=a,o=l,l=c,c=o),a=[],o=l+c,r=o;r--;)a.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)s=a[i]+p[r]*f[i-r-1]+t,a[i--]=s%lt|0,t=s/lt|0;a[i]=(a[i]+t)%lt|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,We?Ne(e,d.precision):e};ie.toDecimalPlaces=ie.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(jn(e,0,la),t===void 0?t=r.rounding:jn(t,0,8),Ne(n,e+rt(n)+1,t))};ie.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=zr(r,!0):(jn(e,0,la),t===void 0?t=i.rounding:jn(t,0,8),r=Ne(new i(r),e+1,t),n=zr(r,!0,e+1)),n};ie.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?zr(i):(jn(e,0,la),t===void 0?t=a.rounding:jn(t,0,8),r=Ne(new a(i),e+rt(i)+1,t),n=zr(r.abs(),!1,e+rt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ie.toInteger=ie.toint=function(){var e=this,t=e.constructor;return Ne(new t(e),rt(e)+1,t.rounding)};ie.toNumber=function(){return+this};ie.toPower=ie.pow=function(e){var t,n,r,i,a,o,s=this,l=s.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(qt);if(s=new l(s),!s.s){if(e.s<1)throw Error(Zt+"Infinity");return s}if(s.eq(qt))return s;if(r=l.precision,e.eq(qt))return Ne(s,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=s.s,o){if((n=u<0?-u:u)<=FO){for(i=new l(qt),t=Math.ceil(r/qe+4),We=!1;n%2&&(i=i.times(s),Z1(i.d,t)),n=ca(n/2),n!==0;)s=s.times(s),Z1(s.d,t);return We=!0,e.s<0?new l(qt).div(i):Ne(i,r)}}else if(a<0)throw Error(Zt+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,We=!1,i=e.times(co(s,r+c)),We=!0,i=WO(i),i.s=a,i};ie.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=rt(i),r=zr(i,n<=a.toExpNeg||n>=a.toExpPos)):(jn(e,1,la),t===void 0?t=a.rounding:jn(t,0,8),i=Ne(new a(i),e,t),n=rt(i),r=zr(i,e<=n||n<=a.toExpNeg,e)),r};ie.toSignificantDigits=ie.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(jn(e,1,la),t===void 0?t=r.rounding:jn(t,0,8)),Ne(new r(n),e,t)};ie.toString=ie.valueOf=ie.val=ie.toJSON=ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=rt(e),n=e.constructor;return zr(e,t<=n.toExpNeg||t>=n.toExpPos)};function BO(e,t){var n,r,i,a,o,s,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),We?Ne(t,d):t;if(l=e.d,c=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=c.length):(r=c,i=o,s=l.length),o=Math.ceil(d/qe),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/lt|0,l[a]%=lt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,We?Ne(t,d):t}function jn(e,t,n){if(e!==~~e||e<t||e>n)throw Error($r+e)}function vn(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=qe-r.length,n&&(a+=er(n)),a+=r;o=e[t],r=o+"",n=qe-r.length,n&&(a+=er(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Ln=(function(){function e(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%lt|0,o=a/lt|0;return o&&r.unshift(o),r}function t(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*lt+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,c,u,d,f,p,y,m,g,w,b,S,A,v,_,T,j,P=r.constructor,O=r.s==i.s?1:-1,I=r.d,k=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(Zt+"Division by zero");for(l=r.e-i.e,T=k.length,v=I.length,p=new P(O),y=p.d=[],c=0;k[c]==(I[c]||0);)++c;if(k[c]>(I[c]||0)&&--l,a==null?b=a=P.precision:o?b=a+(rt(r)-rt(i))+1:b=a,b<0)return new P(0);if(b=b/qe+2|0,c=0,T==1)for(u=0,k=k[0],b++;(c<v||u)&&b--;c++)S=u*lt+(I[c]||0),y[c]=S/k|0,u=S%k|0;else{for(u=lt/(k[0]+1)|0,u>1&&(k=e(k,u),I=e(I,u),T=k.length,v=I.length),A=T,m=I.slice(0,T),g=m.length;g<T;)m[g++]=0;j=k.slice(),j.unshift(0),_=k[0],k[1]>=lt/2&&++_;do u=0,s=t(k,m,T,g),s<0?(w=m[0],T!=g&&(w=w*lt+(m[1]||0)),u=w/_|0,u>1?(u>=lt&&(u=lt-1),d=e(k,u),f=d.length,g=m.length,s=t(d,m,f,g),s==1&&(u--,n(d,T<f?j:k,f))):(u==0&&(s=u=1),d=k.slice()),f=d.length,f<g&&d.unshift(0),n(m,d,g),s==-1&&(g=m.length,s=t(k,m,T,g),s<1&&(u++,n(m,T<g?j:k,g))),g=m.length):s===0&&(u++,m=[0]),y[c++]=u,s&&m[0]?m[g++]=I[A]||0:(m=[I[A]],g=1);while((A++<v||m[0]!==void 0)&&b--)}return y[0]||y.shift(),p.e=l,Ne(p,o?a+rt(p)+1:a)}})();function WO(e,t){var n,r,i,a,o,s,l=0,c=0,u=e.constructor,d=u.precision;if(rt(e)>16)throw Error(Ov+rt(e));if(!e.s)return new u(qt);for(We=!1,s=d,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(r=Math.log(Ir(2,c))/Math.LN10*2+5|0,s+=r,n=i=a=new u(qt),u.precision=s;;){if(i=Ne(i.times(e),s),n=n.times(++l),o=a.plus(Ln(i,n,s)),vn(o.d).slice(0,s)===vn(a.d).slice(0,s)){for(;c--;)a=Ne(a.times(a),s);return u.precision=d,t==null?(We=!0,Ne(a,d)):a}a=o}}function rt(e){for(var t=e.e*qe,n=e.d[0];n>=10;n/=10)t++;return t}function sp(e,t,n){if(t>e.LN10.sd())throw We=!0,n&&(e.precision=n),Error(Zt+"LN10 precision limit exceeded");return Ne(new e(e.LN10),t)}function er(e){for(var t="";e--;)t+="0";return t}function co(e,t){var n,r,i,a,o,s,l,c,u,d=1,f=10,p=e,y=p.d,m=p.constructor,g=m.precision;if(p.s<1)throw Error(Zt+(p.s?"NaN":"-Infinity"));if(p.eq(qt))return new m(0);if(t==null?(We=!1,c=g):c=t,p.eq(10))return t==null&&(We=!0),sp(m,c);if(c+=f,m.precision=c,n=vn(y),r=n.charAt(0),a=rt(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=vn(p.d),r=n.charAt(0),d++;a=rt(p),r>1?(p=new m("0."+n),a++):p=new m(r+"."+n.slice(1))}else return l=sp(m,c+2,g).times(a+""),p=co(new m(r+"."+n.slice(1)),c-f).plus(l),m.precision=g,t==null?(We=!0,Ne(p,g)):p;for(s=o=p=Ln(p.minus(qt),p.plus(qt),c),u=Ne(p.times(p),c),i=3;;){if(o=Ne(o.times(u),c),l=s.plus(Ln(o,new m(i),c)),vn(l.d).slice(0,c)===vn(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(sp(m,c+2,g).times(a+""))),s=Ln(s,new m(d),c),m.precision=g,t==null?(We=!0,Ne(s,g)):s;s=l,i+=2}}function J1(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=ca(n/qe),e.d=[],r=(n+1)%qe,n<0&&(r+=qe),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=qe;r<i;)e.d.push(+t.slice(r,r+=qe));t=t.slice(r),r=qe-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),We&&(e.e>wl||e.e<-wl))throw Error(Ov+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ne(e,t,n){var r,i,a,o,s,l,c,u,d=e.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=qe,i=t,c=d[u=0];else{if(u=Math.ceil((r+1)/qe),a=d.length,u>=a)return e;for(c=a=d[u],o=1;a>=10;a/=10)o++;r%=qe,i=r-qe+o}if(n!==void 0&&(a=Ir(10,o-i-1),s=c/a%10|0,l=t<0||d[u+1]!==void 0||c%a,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?c/Ir(10,o-i):0:d[u-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return l?(a=rt(e),d.length=1,t=t-a-1,d[0]=Ir(10,(qe-t%qe)%qe),e.e=ca(-t/qe)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(r==0?(d.length=u,a=1,u--):(d.length=u+1,a=Ir(10,qe-r),d[u]=i>0?(c/Ir(10,o-i)%Ir(10,i)|0)*a:0),l)for(;;)if(u==0){(d[0]+=a)==lt&&(d[0]=1,++e.e);break}else{if(d[u]+=a,d[u]!=lt)break;d[u--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(We&&(e.e>wl||e.e<-wl))throw Error(Ov+rt(e));return e}function VO(e,t){var n,r,i,a,o,s,l,c,u,d,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),We?Ne(t,p):t;if(l=e.d,d=t.d,r=t.e,c=e.e,l=l.slice(),o=c-r,o){for(u=o<0,u?(n=l,o=-o,s=d.length):(n=d,r=c,s=l.length),i=Math.max(Math.ceil(p/qe),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}o=0}for(u&&(n=l,l=d,d=n,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=lt-1;--l[a],l[i]+=lt}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,We?Ne(t,p):t):new f(0)}function zr(e,t,n){var r,i=rt(e),a=vn(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+er(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+er(-i-1)+a,n&&(r=n-o)>0&&(a+=er(r))):i>=o?(a+=er(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+er(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=er(r))),e.s<0?"-"+a:a}function Z1(e,t){if(e.length>t)return e.length=t,!0}function HO(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error($r+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return J1(o,a.toString())}else if(typeof a!="string")throw Error($r+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,AH.test(a))J1(o,a);else throw Error($r+a)}if(i.prototype=ie,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=HO,i.config=i.set=TH,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function TH(e){if(!e||typeof e!="object")throw Error(Zt+"Object expected");var t,n,r,i=["precision",1,la,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(ca(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error($r+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error($r+n+": "+r);return this}var Cv=HO(_H);qt=new Cv(1);const Oe=Cv;function jH(e){return OH(e)||kH(e)||IH(e)||PH()}function PH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IH(e,t){if(e){if(typeof e=="string")return Fm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fm(e,t)}}function kH(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function OH(e){if(Array.isArray(e))return Fm(e)}function Fm(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var CH=function(t){return t},UO={},zO=function(t){return t===UO},e_=function(t){return function n(){return arguments.length===0||arguments.length===1&&zO(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},EH=function e(t,n){return t===1?n:e_(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==UO}).length;return o>=t?n.apply(void 0,i):e(t-o,e_(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=i.map(function(d){return zO(d)?l.shift():d});return n.apply(void 0,jH(u).concat(l))}))})},$c=function(t){return EH(t.length,t)},Bm=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},NH=$c(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),MH=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return CH;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},Wm=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},GO=function(t){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=t.apply(void 0,a)),r}};function RH(e){var t;return e===0?t=1:t=Math.floor(new Oe(e).abs().log(10).toNumber())+1,t}function DH(e,t,n){for(var r=new Oe(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var qH=$c(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),LH=$c(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),$H=$c(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const Fc={rangeStep:DH,getDigitCount:RH,interpolateNumber:qH,uninterpolateNumber:LH,uninterpolateTruncation:$H};function Vm(e){return WH(e)||BH(e)||YO(e)||FH()}function FH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BH(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function WH(e){if(Array.isArray(e))return Hm(e)}function uo(e,t){return UH(e)||HH(e,t)||YO(e,t)||VH()}function VH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YO(e,t){if(e){if(typeof e=="string")return Hm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hm(e,t)}}function Hm(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function HH(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function UH(e){if(Array.isArray(e))return e}function KO(e){var t=uo(e,2),n=t[0],r=t[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function XO(e,t,n){if(e.lte(0))return new Oe(0);var r=Fc.getDigitCount(e.toNumber()),i=new Oe(10).pow(r),a=e.div(i),o=r!==1?.05:.1,s=new Oe(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return t?l:new Oe(Math.ceil(l))}function zH(e,t,n){var r=1,i=new Oe(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Oe(10).pow(Fc.getDigitCount(e)-1),i=new Oe(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Oe(Math.floor(e)))}else e===0?i=new Oe(Math.floor((t-1)/2)):n||(i=new Oe(Math.floor(e)));var o=Math.floor((t-1)/2),s=MH(NH(function(l){return i.add(new Oe(l-o).mul(r)).toNumber()}),Bm);return s(0,t)}function QO(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Oe(0),tickMin:new Oe(0),tickMax:new Oe(0)};var a=XO(new Oe(t).sub(e).div(n-1),r,i),o;e<=0&&t>=0?o=new Oe(0):(o=new Oe(e).add(t).div(2),o=o.sub(new Oe(o).mod(a)));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new Oe(t).sub(o).div(a).toNumber()),c=s+l+1;return c>n?QO(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:a,tickMin:o.sub(new Oe(s).mul(a)),tickMax:o.add(new Oe(l).mul(a))})}function GH(e){var t=uo(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=KO([n,r]),l=uo(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(Vm(Bm(0,i-1).map(function(){return 1/0}))):[].concat(Vm(Bm(0,i-1).map(function(){return-1/0})),[u]);return n>r?Wm(d):d}if(c===u)return zH(c,i,a);var f=QO(c,u,o,a),p=f.step,y=f.tickMin,m=f.tickMax,g=Fc.rangeStep(y,m.add(new Oe(.1).mul(p)),p);return n>r?Wm(g):g}function YH(e,t){var n=uo(e,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=KO([r,i]),s=uo(o,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(t,2),d=XO(new Oe(c).sub(l).div(u-1),a,0),f=[].concat(Vm(Fc.rangeStep(new Oe(l),new Oe(c).sub(new Oe(.99).mul(d)),d)),[c]);return r>i?Wm(f):f}var KH=GO(GH),XH=GO(YH),QH="Invariant failed";function Gr(e,t){throw new Error(QH)}var JH=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ni(e){"@babel/helpers - typeof";return Ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ni(e)}function xl(){return xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xl.apply(this,arguments)}function ZH(e,t){return r3(e)||n3(e,t)||t3(e,t)||e3()}function e3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t3(e,t){if(e){if(typeof e=="string")return t_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t_(e,t)}}function t_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n3(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function r3(e){if(Array.isArray(e))return e}function i3(e,t){if(e==null)return{};var n=a3(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function a3(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function o3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eC(r.key),r)}}function l3(e,t,n){return t&&s3(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function c3(e,t,n){return t=Sl(t),u3(e,JO()?Reflect.construct(t,n||[],Sl(e).constructor):t.apply(e,n))}function u3(e,t){if(t&&(Ni(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d3(e)}function d3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JO=function(){return!!e})()}function Sl(e){return Sl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sl(e)}function h3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Um(e,t)}function Um(e,t){return Um=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Um(e,t)}function ZO(e,t,n){return t=eC(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eC(e){var t=f3(e,"string");return Ni(t)=="symbol"?t:t+""}function f3(e,t){if(Ni(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ni(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bc=(function(e){function t(){return o3(this,t),c3(this,t,arguments)}return h3(t,e),l3(t,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,d=r.yAxis,f=i3(r,JH),p=_e(f,!1);this.props.direction==="x"&&u.type!=="number"&&Gr();var y=l.map(function(m){var g=c(m,s),w=g.x,b=g.y,S=g.value,A=g.errorVal;if(!A)return null;var v=[],_,T;if(Array.isArray(A)){var j=ZH(A,2);_=j[0],T=j[1]}else _=T=A;if(a==="vertical"){var P=u.scale,O=b+i,I=O+o,k=O-o,E=P(S-_),C=P(S+T);v.push({x1:C,y1:I,x2:C,y2:k}),v.push({x1:E,y1:O,x2:C,y2:O}),v.push({x1:E,y1:I,x2:E,y2:k})}else if(a==="horizontal"){var M=d.scale,D=w+i,q=D-o,$=D+o,W=M(S-_),V=M(S+T);v.push({x1:q,y1:V,x2:$,y2:V}),v.push({x1:D,y1:W,x2:D,y2:V}),v.push({x1:q,y1:W,x2:$,y2:W})}return R.createElement(ct,xl({className:"recharts-errorBar",key:"bar-".concat(v.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},p),v.map(function(z){return R.createElement("line",xl({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return R.createElement(ct,{className:"recharts-errorBars"},y)}}])})(R.Component);ZO(Bc,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});ZO(Bc,"displayName","ErrorBar");function ho(e){"@babel/helpers - typeof";return ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ho(e)}function n_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n_(Object(n),!0).forEach(function(r){p3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p3(e,t,n){return t=m3(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m3(e){var t=g3(e,"string");return ho(t)=="symbol"?t:t+""}function g3(e,t){if(ho(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ho(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tC=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=Rt(n,vi);if(!o)return null;var s=vi.defaultProps,l=s!==void 0?Tr(Tr({},s),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:a==="children"?c=(r||[]).reduce(function(u,d){var f=d.item,p=d.props,y=p.sectors||p.data||[];return u.concat(y.map(function(m){return{type:o.props.iconType||f.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(r||[]).map(function(u){var d=u.item,f=d.type.defaultProps,p=f!==void 0?Tr(Tr({},f),d.props):{},y=p.dataKey,m=p.name,g=p.legendType,w=p.hide;return{inactive:w,dataKey:y,type:l.iconType||g||"square",color:Ev(d),value:m||y,payload:p}}),Tr(Tr(Tr({},l),vi.getWithHeight(o,i)),{},{payload:c,item:o})};function fo(e){"@babel/helpers - typeof";return fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fo(e)}function r_(e){return w3(e)||b3(e)||v3(e)||y3()}function y3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v3(e,t){if(e){if(typeof e=="string")return zm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zm(e,t)}}function b3(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function w3(e){if(Array.isArray(e))return zm(e)}function zm(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i_(Object(n),!0).forEach(function(r){wi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wi(e,t,n){return t=x3(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x3(e){var t=S3(e,"string");return fo(t)=="symbol"?t:t+""}function S3(e,t){if(fo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pn(e,t,n){return je(e)||je(t)?n:ot(t)?Qt(e,t,n):ve(t)?t(e):n}function $a(e,t,n,r){var i=wH(e,function(s){return Pn(s,t)});if(n==="number"){var a=i.filter(function(s){return Z(s)||parseFloat(s)});return a.length?[Lc(a),qc(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!je(s)}):i;return o.map(function(s){return ot(s)||s instanceof Date?s:""})}var _3=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r?.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<s;c++){var u=c>0?i[c-1].coordinate:i[s-1].coordinate,d=i[c].coordinate,f=c>=s-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(cn(d-u)!==cn(f-d)){var y=[];if(cn(f-d)===cn(l[1]-l[0])){p=f;var m=d+l[1]-l[0];y[0]=Math.min(m,(m+u)/2),y[1]=Math.max(m,(m+u)/2)}else{p=u;var g=f+l[1]-l[0];y[0]=Math.min(d,(g+d)/2),y[1]=Math.max(d,(g+d)/2)}var w=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>w[0]&&t<=w[1]||t>=y[0]&&t<=y[1]){o=i[c].index;break}}else{var b=Math.min(u,f),S=Math.max(u,f);if(t>(b+d)/2&&t<=(S+d)/2){o=i[c].index;break}}}else for(var A=0;A<s;A++)if(A===0&&t<=(r[A].coordinate+r[A+1].coordinate)/2||A>0&&A<s-1&&t>(r[A].coordinate+r[A-1].coordinate)/2&&t<=(r[A].coordinate+r[A+1].coordinate)/2||A===s-1&&t>(r[A].coordinate+r[A-1].coordinate)/2){o=r[A].index;break}return o},Ev=function(t){var n,r=t,i=r.type.displayName,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Ye(Ye({},t.type.defaultProps),t.props):t.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},A3=function(t){var n=t.barSize,r=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,c=s.length;l<c;l++)for(var u=a[s[l]].stackGroups,d=Object.keys(u),f=0,p=d.length;f<p;f++){var y=u[d[f]],m=y.items,g=y.cateAxisId,w=m.filter(function(T){return Dn(T.type).indexOf("Bar")>=0});if(w&&w.length){var b=w[0].type.defaultProps,S=b!==void 0?Ye(Ye({},b),w[0].props):w[0].props,A=S.barSize,v=S[g];o[v]||(o[v]=[]);var _=je(A)?n:A;o[v].push({item:w[0],stackList:w.slice(1),barSize:je(_)?void 0:Ur(_,r,0)})}}return o},T3=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,s=t.maxBarSize,l=o.length;if(l<1)return null;var c=Ur(n,i,0,!0),u,d=[];if(o[0].barSize===+o[0].barSize){var f=!1,p=i/l,y=o.reduce(function(A,v){return A+v.barSize||0},0);y+=(l-1)*c,y>=i&&(y-=(l-1)*c,c=0),y>=i&&p>0&&(f=!0,p*=.9,y=l*p);var m=(i-y)/2>>0,g={offset:m-c,size:0};u=o.reduce(function(A,v){var _={item:v.item,position:{offset:g.offset+g.size+c,size:f?p:v.barSize}},T=[].concat(r_(A),[_]);return g=T[T.length-1].position,v.stackList&&v.stackList.length&&v.stackList.forEach(function(j){T.push({item:j,position:g})}),T},d)}else{var w=Ur(r,i,0,!0);i-2*w-(l-1)*c<=0&&(c=0);var b=(i-2*w-(l-1)*c)/l;b>1&&(b>>=0);var S=s===+s?Math.min(b,s):b;u=o.reduce(function(A,v,_){var T=[].concat(r_(A),[{item:v.item,position:{offset:w+(b+c)*_+(b-S)/2,size:S}}]);return v.stackList&&v.stackList.length&&v.stackList.forEach(function(j){T.push({item:j,position:T[T.length-1].position})}),T},d)}return u},j3=function(t,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),c=tC({children:a,legendWidth:l});if(c){var u=i||{},d=u.width,f=u.height,p=c.align,y=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&y==="middle")&&p!=="center"&&Z(t[p]))return Ye(Ye({},t),{},wi({},p,t[p]+(d||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&y!=="middle"&&Z(t[y]))return Ye(Ye({},t),{},wi({},y,t[y]+(f||0)))}return t},P3=function(t,n,r){return je(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},nC=function(t,n,r,i,a){var o=n.props.children,s=un(o,Bc).filter(function(c){return P3(i,a,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var d=Pn(u,r);if(je(d))return c;var f=Array.isArray(d)?[Lc(d),qc(d)]:[d,d],p=l.reduce(function(y,m){var g=Pn(u,m,0),w=f[0]-Math.abs(Array.isArray(g)?g[0]:g),b=f[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(w,y[0]),Math.max(b,y[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},I3=function(t,n,r,i,a){var o=n.map(function(s){return nC(t,s,r,a,i)}).filter(function(s){return!je(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},rC=function(t,n,r,i,a){var o=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&nC(t,l,c,i)||$a(t,c,r,a)});if(r==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},iC=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},aC=function(t,n,r,i){if(i)return t.map(function(l){return l.coordinate});var a,o,s=t.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},Rn=function(t,n,r){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,s=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&s?.length>=2?cn(s[0]-s[1])*2*c:c,n&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(d){var f=a?a.indexOf(d):d;return{coordinate:i(f)+c,value:d,offset:c}});return u.filter(function(d){return!Go(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,f){return{coordinate:i(d)+c,value:d,index:f,offset:c}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,f){return{coordinate:i(d)+c,value:a?a[d]:d,index:f,offset:c}})},lp=new WeakMap,bs=function(t,n){if(typeof n!="function")return t;lp.has(t)||lp.set(t,new WeakMap);var r=lp.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},k3=function(t,n,r){var i=t.scale,a=t.type,o=t.layout,s=t.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:io(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:gl(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:La(),realScaleType:"point"}:a==="category"?{scale:io(),realScaleType:"band"}:{scale:gl(),realScaleType:"linear"};if(zo(i)){var l="scale".concat(Ac(i));return{scale:(V1[l]||La)(),realScaleType:V1[l]?l:"point"}}return ve(i)?{scale:i}:{scale:La(),realScaleType:"point"}},a_=1e-4,O3=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),a=Math.min(i[0],i[1])-a_,o=Math.max(i[0],i[1])+a_,s=t(n[0]),l=t(n[r-1]);(s<a||s>o||l<a||l>o)&&t.domain([n[0],n[r-1]])}},C3=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},E3=function(t,n){if(!n||n.length!==2||!Z(n[0])||!Z(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!Z(t[0])||t[0]<r)&&(a[0]=r),(!Z(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},N3=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=Go(t[s][r][1])?t[s][r][0]:t[s][r][1];l>=0?(t[s][r][0]=a,t[s][r][1]=a+l,a=t[s][r][1]):(t[s][r][0]=o,t[s][r][1]=o+l,o=t[s][r][1])}},M3=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=Go(t[o][r][1])?t[o][r][0]:t[o][r][1];s>=0?(t[o][r][0]=a,t[o][r][1]=a+s,a=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},R3={sign:N3,expand:yF,none:Ti,silhouette:vF,wiggle:bF,positive:M3},D3=function(t,n,r){var i=n.map(function(s){return s.props.dataKey}),a=R3[r],o=gF().keys(i).value(function(s,l){return+Pn(s,l,0)}).order(Sm).offset(a);return o(t)},q3=function(t,n,r,i,a,o){if(!t)return null;var s=o?n.reverse():n,l={},c=s.reduce(function(d,f){var p,y=(p=f.type)!==null&&p!==void 0&&p.defaultProps?Ye(Ye({},f.type.defaultProps),f.props):f.props,m=y.stackId,g=y.hide;if(g)return d;var w=y[r],b=d[w]||{hasStack:!1,stackGroups:{}};if(ot(m)){var S=b.stackGroups[m]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(f),b.hasStack=!0,b.stackGroups[m]=S}else b.stackGroups[_c("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[f]};return Ye(Ye({},d),{},wi({},w,b))},l),u={};return Object.keys(c).reduce(function(d,f){var p=c[f];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,g){var w=p.stackGroups[g];return Ye(Ye({},m),{},wi({},g,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:D3(t,w.items,a)}))},y)}return Ye(Ye({},d),{},wi({},f,p))},u)},L3=function(t,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=KH(c,a,s);return t.domain([Lc(u),qc(u)]),{niceTicks:u}}if(a&&i==="number"){var d=t.domain(),f=XH(d,a,s);return{niceTicks:f}}return null},o_=function(t){var n=t.axis,r=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,s=t.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Pn(o,n.dataKey,n.domain[s]);return je(l)?null:n.scale(l)-a/2+i},$3=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},F3=function(t,n){var r,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Ye(Ye({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(ot(a)){var o=n[a];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},B3=function(t){return t.reduce(function(n,r){return[Lc(r.concat([n[0]]).filter(Z)),qc(r.concat([n[1]]).filter(Z))]},[1/0,-1/0])},oC=function(t,n,r){return Object.keys(t).reduce(function(i,a){var o=t[a],s=o.stackedData,l=s.reduce(function(c,u){var d=B3(u.slice(n,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},s_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,l_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Gm=function(t,n,r){if(ve(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(Z(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(s_.test(t[0])){var a=+s_.exec(t[0])[1];i[0]=n[0]-a}else ve(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(Z(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(l_.test(t[1])){var o=+l_.exec(t[1])[1];i[1]=n[1]+o}else ve(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},_l=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var a=av(n,function(d){return d.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var c=a[s],u=a[s-1];o=Math.min((c.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},c_=function(t,n,r){return!t||!t.length||kv(t,Qt(r,"type.defaultProps.domain"))?n:t},sC=function(t,n){var r=t.type.defaultProps?Ye(Ye({},t.type.defaultProps),t.props):t.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return Ye(Ye({},_e(t,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:Ev(t),value:Pn(n,i),type:l,payload:n,chartType:c,hide:u})};function po(e){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},po(e)}function u_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function d_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u_(Object(n),!0).forEach(function(r){W3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function W3(e,t,n){return t=V3(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V3(e){var t=H3(e,"string");return po(t)=="symbol"?t:t+""}function H3(e,t){if(po(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(po(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Al=Math.PI/180,U3=function(t){return t*180/Math.PI},ft=function(t,n,r,i){return{x:t+Math.cos(-Al*i)*r,y:n+Math.sin(-Al*i)*r}},z3=function(t,n){var r=t.x,i=t.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},G3=function(t,n){var r=t.x,i=t.y,a=n.cx,o=n.cy,s=z3({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:s,angle:U3(c),angleInRadian:c}},Y3=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},K3=function(t,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return t+s*360},h_=function(t,n){var r=t.x,i=t.y,a=G3({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,c=n.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var u=Y3(n),d=u.startAngle,f=u.endAngle,p=s,y;if(d<=f){for(;p>f;)p-=360;for(;p<d;)p+=360;y=p>=d&&p<=f}else{for(;p>d;)p-=360;for(;p<f;)p+=360;y=p>=f&&p<=d}return y?d_(d_({},n),{},{radius:o,angle:K3(p,n)}):null};function mo(e){"@babel/helpers - typeof";return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mo(e)}var X3=["offset"];function Q3(e){return tU(e)||eU(e)||Z3(e)||J3()}function J3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z3(e,t){if(e){if(typeof e=="string")return Ym(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ym(e,t)}}function eU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tU(e){if(Array.isArray(e))return Ym(e)}function Ym(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nU(e,t){if(e==null)return{};var n=rU(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rU(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function f_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f_(Object(n),!0).forEach(function(r){iU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iU(e,t,n){return t=aU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aU(e){var t=oU(e,"string");return mo(t)=="symbol"?t:t+""}function oU(e,t){if(mo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(mo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function go(){return go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},go.apply(this,arguments)}var sU=function(t){var n=t.value,r=t.formatter,i=je(t.children)?n:t.children;return ve(r)?r(i):i},lU=function(t,n){var r=cn(n-t),i=Math.min(Math.abs(n-t),360);return r*i},cU=function(t,n,r){var i=t.position,a=t.viewBox,o=t.offset,s=t.className,l=a,c=l.cx,u=l.cy,d=l.innerRadius,f=l.outerRadius,p=l.startAngle,y=l.endAngle,m=l.clockWise,g=(d+f)/2,w=lU(p,y),b=w>=0?1:-1,S,A;i==="insideStart"?(S=p+b*o,A=m):i==="insideEnd"?(S=y-b*o,A=!m):i==="end"&&(S=y+b*o,A=m),A=w<=0?A:!A;var v=ft(c,u,g,S),_=ft(c,u,g,S+(A?1:-1)*359),T="M".concat(v.x,",").concat(v.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(A?0:1,`,
    `).concat(_.x,",").concat(_.y),j=je(t.id)?_c("recharts-radial-line-"):t.id;return R.createElement("text",go({},r,{dominantBaseline:"central",className:Pe("recharts-radial-bar-label",s)}),R.createElement("defs",null,R.createElement("path",{id:j,d:T})),R.createElement("textPath",{xlinkHref:"#".concat(j)},n))},uU=function(t){var n=t.viewBox,r=t.offset,i=t.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,d=a.endAngle,f=(u+d)/2;if(i==="outside"){var p=ft(o,s,c+r,f),y=p.x,m=p.y;return{x:y,y:m,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var g=(l+c)/2,w=ft(o,s,g,f),b=w.x,S=w.y;return{x:b,y:S,textAnchor:"middle",verticalAnchor:"middle"}},dU=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,a=t.position,o=n,s=o.x,l=o.y,c=o.width,u=o.height,d=u>=0?1:-1,f=d*i,p=d>0?"end":"start",y=d>0?"start":"end",m=c>=0?1:-1,g=m*i,w=m>0?"end":"start",b=m>0?"start":"end";if(a==="top"){var S={x:s+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:p};return it(it({},S),r?{height:Math.max(l-r.y,0),width:c}:{})}if(a==="bottom"){var A={x:s+c/2,y:l+u+f,textAnchor:"middle",verticalAnchor:y};return it(it({},A),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(a==="left"){var v={x:s-g,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return it(it({},v),r?{width:Math.max(v.x-r.x,0),height:u}:{})}if(a==="right"){var _={x:s+c+g,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return it(it({},_),r?{width:Math.max(r.x+r.width-_.x,0),height:u}:{})}var T=r?{width:c,height:u}:{};return a==="insideLeft"?it({x:s+g,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},T):a==="insideRight"?it({x:s+c-g,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},T):a==="insideTop"?it({x:s+c/2,y:l+f,textAnchor:"middle",verticalAnchor:y},T):a==="insideBottom"?it({x:s+c/2,y:l+u-f,textAnchor:"middle",verticalAnchor:p},T):a==="insideTopLeft"?it({x:s+g,y:l+f,textAnchor:b,verticalAnchor:y},T):a==="insideTopRight"?it({x:s+c-g,y:l+f,textAnchor:w,verticalAnchor:y},T):a==="insideBottomLeft"?it({x:s+g,y:l+u-f,textAnchor:b,verticalAnchor:p},T):a==="insideBottomRight"?it({x:s+c-g,y:l+u-f,textAnchor:w,verticalAnchor:p},T):aa(a)&&(Z(a.x)||Cr(a.x))&&(Z(a.y)||Cr(a.y))?it({x:s+Ur(a.x,c),y:l+Ur(a.y,u),textAnchor:"end",verticalAnchor:"end"},T):it({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},T)},hU=function(t){return"cx"in t&&Z(t.cx)};function vt(e){var t=e.offset,n=t===void 0?5:t,r=nU(e,X3),i=it({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,c=i.content,u=i.className,d=u===void 0?"":u,f=i.textBreakAll;if(!a||je(s)&&je(l)&&!x.isValidElement(c)&&!ve(c))return null;if(x.isValidElement(c))return x.cloneElement(c,i);var p;if(ve(c)){if(p=x.createElement(c,i),x.isValidElement(p))return p}else p=sU(i);var y=hU(a),m=_e(i,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return cU(i,p,m);var g=y?uU(i):dU(i);return R.createElement(cl,go({className:Pe("recharts-label",d)},m,g,{breakAll:f}),p)}vt.displayName="Label";var lC=function(t){var n=t.cx,r=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,d=t.x,f=t.y,p=t.top,y=t.left,m=t.width,g=t.height,w=t.clockWise,b=t.labelViewBox;if(b)return b;if(Z(m)&&Z(g)){if(Z(d)&&Z(f))return{x:d,y:f,width:m,height:g};if(Z(p)&&Z(y))return{x:p,y,width:m,height:g}}return Z(d)&&Z(f)?{x:d,y:f,width:0,height:0}:Z(n)&&Z(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:w}:t.viewBox?t.viewBox:{}},fU=function(t,n){return t?t===!0?R.createElement(vt,{key:"label-implicit",viewBox:n}):ot(t)?R.createElement(vt,{key:"label-implicit",viewBox:n,value:t}):x.isValidElement(t)?t.type===vt?x.cloneElement(t,{key:"label-implicit",viewBox:n}):R.createElement(vt,{key:"label-implicit",content:t,viewBox:n}):ve(t)?R.createElement(vt,{key:"label-implicit",content:t,viewBox:n}):aa(t)?R.createElement(vt,go({viewBox:n},t,{key:"label-implicit"})):null:null},pU=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,a=lC(t),o=un(i,vt).map(function(l,c){return x.cloneElement(l,{viewBox:n||a,key:"label-".concat(c)})});if(!r)return o;var s=fU(t.label,n||a);return[s].concat(Q3(o))};vt.parseViewBox=lC;vt.renderCallByParent=pU;var cp,p_;function mU(){if(p_)return cp;p_=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return cp=e,cp}var gU=mU();const yU=Ce(gU);function yo(e){"@babel/helpers - typeof";return yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yo(e)}var vU=["valueAccessor"],bU=["data","dataKey","clockWise","id","textBreakAll"];function wU(e){return AU(e)||_U(e)||SU(e)||xU()}function xU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SU(e,t){if(e){if(typeof e=="string")return Km(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Km(e,t)}}function _U(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function AU(e){if(Array.isArray(e))return Km(e)}function Km(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tl(){return Tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tl.apply(this,arguments)}function m_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function g_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m_(Object(n),!0).forEach(function(r){TU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TU(e,t,n){return t=jU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jU(e){var t=PU(e,"string");return yo(t)=="symbol"?t:t+""}function PU(e,t){if(yo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(yo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y_(e,t){if(e==null)return{};var n=IU(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function IU(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var kU=function(t){return Array.isArray(t.value)?yU(t.value):t.value};function Fr(e){var t=e.valueAccessor,n=t===void 0?kU:t,r=y_(e,vU),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,c=y_(r,bU);return!i||!i.length?null:R.createElement(ct,{className:"recharts-label-list"},i.map(function(u,d){var f=je(a)?n(u,d):Pn(u&&u.payload,a),p=je(s)?{}:{id:"".concat(s,"-").concat(d)};return R.createElement(vt,Tl({},_e(u,!0),c,p,{parentViewBox:u.parentViewBox,value:f,textBreakAll:l,viewBox:vt.parseViewBox(je(o)?u:g_(g_({},u),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}Fr.displayName="LabelList";function OU(e,t){return e?e===!0?R.createElement(Fr,{key:"labelList-implicit",data:t}):R.isValidElement(e)||ve(e)?R.createElement(Fr,{key:"labelList-implicit",data:t,content:e}):aa(e)?R.createElement(Fr,Tl({data:t},e,{key:"labelList-implicit"})):null:null}function CU(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=un(r,Fr).map(function(o,s){return x.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!n)return i;var a=OU(e.label,t);return[a].concat(wU(i))}Fr.renderCallByParent=CU;function vo(e){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vo(e)}function Xm(){return Xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xm.apply(this,arguments)}function v_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function b_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v_(Object(n),!0).forEach(function(r){EU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EU(e,t,n){return t=NU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NU(e){var t=MU(e,"string");return vo(t)=="symbol"?t:t+""}function MU(e,t){if(vo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(vo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RU=function(t,n){var r=cn(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},ws=function(t){var n=t.cx,r=t.cy,i=t.radius,a=t.angle,o=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(s?1:-1)+i,d=Math.asin(l/u)/Al,f=c?a:a+o*d,p=ft(n,r,u,f),y=ft(n,r,i,f),m=c?a-o*d:a,g=ft(n,r,u*Math.cos(d*Al),m);return{center:p,circleTangency:y,lineTangency:g,theta:d}},cC=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,s=t.endAngle,l=RU(o,s),c=o+l,u=ft(n,r,a,o),d=ft(n,r,a,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var p=ft(n,r,i,o),y=ft(n,r,i,c);f+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},DU=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,d=cn(u-c),f=ws({cx:n,cy:r,radius:a,angle:c,sign:d,cornerRadius:o,cornerIsExternal:l}),p=f.circleTangency,y=f.lineTangency,m=f.theta,g=ws({cx:n,cy:r,radius:a,angle:u,sign:-d,cornerRadius:o,cornerIsExternal:l}),w=g.circleTangency,b=g.lineTangency,S=g.theta,A=l?Math.abs(c-u):Math.abs(c-u)-m-S;if(A<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):cC({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var v="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(A>180),",").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var _=ws({cx:n,cy:r,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),T=_.circleTangency,j=_.lineTangency,P=_.theta,O=ws({cx:n,cy:r,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),I=O.circleTangency,k=O.lineTangency,E=O.theta,C=l?Math.abs(c-u):Math.abs(c-u)-P-E;if(C<0&&o===0)return"".concat(v,"L").concat(n,",").concat(r,"Z");v+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(d>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else v+="L".concat(n,",").concat(r,"Z");return v},qU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},uC=function(t){var n=b_(b_({},qU),t),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,d=n.endAngle,f=n.className;if(o<a||u===d)return null;var p=Pe("recharts-sector",f),y=o-a,m=Ur(s,y,0,!0),g;return m>0&&Math.abs(u-d)<360?g=DU({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(m,y/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):g=cC({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:d}),R.createElement("path",Xm({},_e(n,!0),{className:p,d:g,role:"img"}))};function bo(e){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bo(e)}function Qm(){return Qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qm.apply(this,arguments)}function w_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function x_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w_(Object(n),!0).forEach(function(r){LU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LU(e,t,n){return t=$U(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $U(e){var t=FU(e,"string");return bo(t)=="symbol"?t:t+""}function FU(e,t){if(bo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(bo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S_={curveBasisClosed:aF,curveBasisOpen:oF,curveBasis:iF,curveBumpX:H$,curveBumpY:U$,curveLinearClosed:sF,curveLinear:jc,curveMonotoneX:lF,curveMonotoneY:cF,curveNatural:uF,curveStep:dF,curveStepAfter:fF,curveStepBefore:hF},xs=function(t){return t.x===+t.x&&t.y===+t.y},ba=function(t){return t.x},wa=function(t){return t.y},BU=function(t,n){if(ve(t))return t;var r="curve".concat(Ac(t));return(r==="curveMonotone"||r==="curveBump")&&n?S_["".concat(r).concat(n==="vertical"?"Y":"X")]:S_[r]||jc},WU=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,a=i===void 0?[]:i,o=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=BU(r,s),d=c?a.filter(function(m){return xs(m)}):a,f;if(Array.isArray(o)){var p=c?o.filter(function(m){return xs(m)}):o,y=d.map(function(m,g){return x_(x_({},m),{},{base:p[g]})});return s==="vertical"?f=hs().y(wa).x1(ba).x0(function(m){return m.base.x}):f=hs().x(ba).y1(wa).y0(function(m){return m.base.y}),f.defined(xs).curve(u),f(y)}return s==="vertical"&&Z(o)?f=hs().y(wa).x1(ba).x0(o):Z(o)?f=hs().x(ba).y1(wa).y0(o):f=pk().x(ba).y(wa),f.defined(xs).curve(u),f(d)},__=function(t){var n=t.className,r=t.points,i=t.path,a=t.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?WU(t):i;return R.createElement("path",Qm({},_e(t,!1),Qs(t),{className:Pe("recharts-curve",n),d:o,ref:a}))},up={exports:{}},dp,A_;function VU(){if(A_)return dp;A_=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return dp=e,dp}var hp,T_;function HU(){if(T_)return hp;T_=1;var e=VU();function t(){}function n(){}return n.resetWarningCache=t,hp=function(){function r(o,s,l,c,u,d){if(d!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},hp}var j_;function UU(){return j_||(j_=1,up.exports=HU()()),up.exports}var zU=UU();const Te=Ce(zU);var GU=Object.getOwnPropertyNames,YU=Object.getOwnPropertySymbols,KU=Object.prototype.hasOwnProperty;function P_(e,t){return function(r,i,a){return e(r,i,a)&&t(r,i,a)}}function Ss(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var l=e(n,r,i);return a.delete(n),a.delete(r),l}}function I_(e){return GU(e).concat(YU(e))}var XU=Object.hasOwn||(function(e,t){return KU.call(e,t)});function Zr(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var QU="__v",JU="__o",ZU="_owner",k_=Object.getOwnPropertyDescriptor,O_=Object.keys;function ez(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function tz(e,t){return Zr(e.getTime(),t.getTime())}function nz(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function rz(e,t){return e===t}function C_(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),a=e.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var c=t.entries(),u=!1,d=0;(s=c.next())&&!s.done;){if(i[d]){d++;continue}var f=o.value,p=s.value;if(n.equals(f[0],p[0],l,d,e,t,n)&&n.equals(f[1],p[1],f[0],p[0],e,t,n)){u=i[d]=!0;break}d++}if(!u)return!1;l++}return!0}var iz=Zr;function az(e,t,n){var r=O_(e),i=r.length;if(O_(t).length!==i)return!1;for(;i-- >0;)if(!dC(e,t,n,r[i]))return!1;return!0}function xa(e,t,n){var r=I_(e),i=r.length;if(I_(t).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],!dC(e,t,n,a)||(o=k_(e,a),s=k_(t,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function oz(e,t){return Zr(e.valueOf(),t.valueOf())}function sz(e,t){return e.source===t.source&&e.flags===t.flags}function E_(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),a=e.values(),o,s;(o=a.next())&&!o.done;){for(var l=t.values(),c=!1,u=0;(s=l.next())&&!s.done;){if(!i[u]&&n.equals(o.value,s.value,o.value,s.value,e,t,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function lz(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function cz(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function dC(e,t,n,r){return(r===ZU||r===JU||r===QU)&&(e.$$typeof||t.$$typeof)?!0:XU(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var uz="[object Arguments]",dz="[object Boolean]",hz="[object Date]",fz="[object Error]",pz="[object Map]",mz="[object Number]",gz="[object Object]",yz="[object RegExp]",vz="[object Set]",bz="[object String]",wz="[object URL]",xz=Array.isArray,N_=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,M_=Object.assign,Sz=Object.prototype.toString.call.bind(Object.prototype.toString);function _z(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,f=e.areUrlsEqual;return function(y,m,g){if(y===m)return!0;if(y==null||m==null)return!1;var w=typeof y;if(w!==typeof m)return!1;if(w!=="object")return w==="number"?o(y,m,g):w==="function"?i(y,m,g):!1;var b=y.constructor;if(b!==m.constructor)return!1;if(b===Object)return s(y,m,g);if(xz(y))return t(y,m,g);if(N_!=null&&N_(y))return d(y,m,g);if(b===Date)return n(y,m,g);if(b===RegExp)return c(y,m,g);if(b===Map)return a(y,m,g);if(b===Set)return u(y,m,g);var S=Sz(y);return S===hz?n(y,m,g):S===yz?c(y,m,g):S===pz?a(y,m,g):S===vz?u(y,m,g):S===gz?typeof y.then!="function"&&typeof m.then!="function"&&s(y,m,g):S===wz?f(y,m,g):S===fz?r(y,m,g):S===uz?s(y,m,g):S===dz||S===mz||S===bz?l(y,m,g):!1}}function Az(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?xa:ez,areDatesEqual:tz,areErrorsEqual:nz,areFunctionsEqual:rz,areMapsEqual:r?P_(C_,xa):C_,areNumbersEqual:iz,areObjectsEqual:r?xa:az,arePrimitiveWrappersEqual:oz,areRegExpsEqual:sz,areSetsEqual:r?P_(E_,xa):E_,areTypedArraysEqual:r?xa:lz,areUrlsEqual:cz};if(n&&(i=M_({},i,n(i))),t){var a=Ss(i.areArraysEqual),o=Ss(i.areMapsEqual),s=Ss(i.areObjectsEqual),l=Ss(i.areSetsEqual);i=M_({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function Tz(e){return function(t,n,r,i,a,o,s){return e(t,n,s)}}function jz(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,a=e.strict;if(r)return function(l,c){var u=r(),d=u.cache,f=d===void 0?t?new WeakMap:void 0:d,p=u.meta;return n(l,c,{cache:f,equals:i,meta:p,strict:a})};if(t)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return n(l,c,o)}}var Pz=_r();_r({strict:!0});_r({circular:!0});_r({circular:!0,strict:!0});_r({createInternalComparator:function(){return Zr}});_r({strict:!0,createInternalComparator:function(){return Zr}});_r({circular:!0,createInternalComparator:function(){return Zr}});_r({circular:!0,createInternalComparator:function(){return Zr},strict:!0});function _r(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,i=e.createState,a=e.strict,o=a===void 0?!1:a,s=Az(e),l=_z(s),c=r?r(l):Tz(l);return jz({circular:n,comparator:l,createState:i,equals:c,strict:o})}function Iz(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function R_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>t?(e(a),n=-1):Iz(i)};requestAnimationFrame(r)}function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}function kz(e){return Nz(e)||Ez(e)||Cz(e)||Oz()}function Oz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cz(e,t){if(e){if(typeof e=="string")return D_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D_(e,t)}}function D_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ez(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nz(e){if(Array.isArray(e))return e}function Mz(){var e={},t=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=kz(o),l=s[0],c=s.slice(1);if(typeof l=="number"){R_(i.bind(null,c),l);return}i(l),R_(i.bind(null,c));return}Jm(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function wo(e){"@babel/helpers - typeof";return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wo(e)}function q_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function L_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q_(Object(n),!0).forEach(function(r){hC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hC(e,t,n){return t=Rz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rz(e){var t=Dz(e,"string");return wo(t)==="symbol"?t:String(t)}function Dz(e,t){if(wo(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(wo(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qz=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Lz=function(t){return t},$z=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Fa=function(t,n){return Object.keys(n).reduce(function(r,i){return L_(L_({},r),{},hC({},i,t(i,n[i])))},{})},$_=function(t,n,r){return t.map(function(i){return"".concat($z(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Fz(e,t){return Vz(e)||Wz(e,t)||fC(e,t)||Bz()}function Bz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wz(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Vz(e){if(Array.isArray(e))return e}function Hz(e){return Gz(e)||zz(e)||fC(e)||Uz()}function Uz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fC(e,t){if(e){if(typeof e=="string")return Zm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zm(e,t)}}function zz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gz(e){if(Array.isArray(e))return Zm(e)}function Zm(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var jl=1e-4,pC=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},mC=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},F_=function(t,n){return function(r){var i=pC(t,n);return mC(i,r)}},Yz=function(t,n){return function(r){var i=pC(t,n),a=[].concat(Hz(i.map(function(o,s){return o*s}).slice(1)),[0]);return mC(a,r)}},B_=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),u=Fz(c,4);i=u[0],a=u[1],o=u[2],s=u[3]}}}var d=F_(i,o),f=F_(a,s),p=Yz(i,o),y=function(w){return w>1?1:w<0?0:w},m=function(w){for(var b=w>1?1:w,S=b,A=0;A<8;++A){var v=d(S)-b,_=p(S);if(Math.abs(v-b)<jl||_<jl)return f(S);S=y(S-v/_)}return f(S)};return m.isStepper=!1,m},Kz=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,a=i===void 0?8:i,o=t.dt,s=o===void 0?17:o,l=function(u,d,f){var p=-(u-d)*r,y=f*a,m=f+(p-y)*s/1e3,g=f*s/1e3+u;return Math.abs(g-d)<jl&&Math.abs(m)<jl?[d,0]:[g,m]};return l.isStepper=!0,l.dt=s,l},Xz=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return B_(i);case"spring":return Kz();default:if(i.split("(")[0]==="cubic-bezier")return B_(i)}return typeof i=="function"?i:null};function xo(e){"@babel/helpers - typeof";return xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xo(e)}function W_(e){return Zz(e)||Jz(e)||gC(e)||Qz()}function Qz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Zz(e){if(Array.isArray(e))return tg(e)}function V_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V_(Object(n),!0).forEach(function(r){eg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eg(e,t,n){return t=e6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e6(e){var t=t6(e,"string");return xo(t)==="symbol"?t:String(t)}function t6(e,t){if(xo(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xo(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n6(e,t){return a6(e)||i6(e,t)||gC(e,t)||r6()}function r6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gC(e,t){if(e){if(typeof e=="string")return tg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tg(e,t)}}function tg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i6(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function a6(e){if(Array.isArray(e))return e}var Pl=function(t,n,r){return t+(n-t)*r},ng=function(t){var n=t.from,r=t.to;return n!==r},o6=function e(t,n,r){var i=Fa(function(a,o){if(ng(o)){var s=t(o.from,o.to,o.velocity),l=n6(s,2),c=l[0],u=l[1];return dt(dt({},o),{},{from:c,velocity:u})}return o},n);return r<1?Fa(function(a,o){return ng(o)?dt(dt({},o),{},{velocity:Pl(o.velocity,i[a].velocity,r),from:Pl(o.from,i[a].from,r)}):o},n):e(t,i,r-1)};const s6=(function(e,t,n,r,i){var a=qz(e,t),o=a.reduce(function(g,w){return dt(dt({},g),{},eg({},w,[e[w],t[w]]))},{}),s=a.reduce(function(g,w){return dt(dt({},g),{},eg({},w,{from:e[w],velocity:0,to:t[w]}))},{}),l=-1,c,u,d=function(){return null},f=function(){return Fa(function(w,b){return b.from},s)},p=function(){return!Object.values(s).filter(ng).length},y=function(w){c||(c=w);var b=w-c,S=b/n.dt;s=o6(n,s,S),i(dt(dt(dt({},e),t),f())),c=w,p()||(l=requestAnimationFrame(d))},m=function(w){u||(u=w);var b=(w-u)/r,S=Fa(function(v,_){return Pl.apply(void 0,W_(_).concat([n(b)]))},o);if(i(dt(dt(dt({},e),t),S)),b<1)l=requestAnimationFrame(d);else{var A=Fa(function(v,_){return Pl.apply(void 0,W_(_).concat([n(1)]))},o);i(dt(dt(dt({},e),t),A))}};return d=n.isStepper?y:m,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}});function Mi(e){"@babel/helpers - typeof";return Mi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mi(e)}var l6=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function c6(e,t){if(e==null)return{};var n=u6(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function u6(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function fp(e){return p6(e)||f6(e)||h6(e)||d6()}function d6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h6(e,t){if(e){if(typeof e=="string")return rg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rg(e,t)}}function f6(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function p6(e){if(Array.isArray(e))return rg(e)}function rg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H_(Object(n),!0).forEach(function(r){ka(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ka(e,t,n){return t=yC(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yC(r.key),r)}}function y6(e,t,n){return t&&g6(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yC(e){var t=v6(e,"string");return Mi(t)==="symbol"?t:String(t)}function v6(e,t){if(Mi(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Mi(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ig(e,t)}function ig(e,t){return ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ig(e,t)}function w6(e){var t=x6();return function(){var r=Il(e),i;if(t){var a=Il(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return ag(this,i)}}function ag(e,t){if(t&&(Mi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return og(e)}function og(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Il(e){return Il=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Il(e)}var ur=(function(e){b6(n,e);var t=w6(n);function n(r,i){var a;m6(this,n),a=t.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,c=o.from,u=o.to,d=o.steps,f=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(og(a)),a.changeStyle=a.changeStyle.bind(og(a)),!s||p<=0)return a.state={style:{}},typeof f=="function"&&(a.state={style:u}),ag(a);if(d&&d.length)a.state={style:d[0].style};else if(c){if(typeof f=="function")return a.state={style:c},ag(a);a.state={style:l?ka({},l,c):c}}else a.state={style:{}};return a}return y6(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,d=a.from,f=this.state.style;if(s){if(!o){var p={style:l?ka({},l,u):u};this.state&&f&&(l&&f[l]!==u||!l&&f!==u)&&this.setState(p);return}if(!(Pz(i.to,u)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=y||c?d:i.to;if(this.state&&f){var g={style:l?ka({},l,m):m};(l&&f[l]!==m||!l&&f!==m)&&this.setState(g)}this.runAnimation(nn(nn({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,c=i.easing,u=i.begin,d=i.onAnimationEnd,f=i.onAnimationStart,p=s6(o,s,Xz(c),l,this.changeStyle),y=function(){a.stopJSAnimation=p()};this.manager.start([f,u,y,l,d])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,c=o[0],u=c.style,d=c.duration,f=d===void 0?0:d,p=function(m,g,w){if(w===0)return m;var b=g.duration,S=g.easing,A=S===void 0?"ease":S,v=g.style,_=g.properties,T=g.onAnimationEnd,j=w>0?o[w-1]:g,P=_||Object.keys(v);if(typeof A=="function"||A==="spring")return[].concat(fp(m),[a.runJSAnimation.bind(a,{from:j.style,to:v,duration:b,easing:A}),b]);var O=$_(P,b,A),I=nn(nn(nn({},j.style),v),{},{transition:O});return[].concat(fp(m),[I,b,T]).filter(Lz)};return this.manager.start([l].concat(fp(o.reduce(p,[u,Math.max(f,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Mz());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,f=i.steps,p=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var m=s?ka({},s,l):l,g=$_(Object.keys(m),o,c);y.start([u,a,nn(nn({},m),{},{transition:g}),o,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=c6(i,l6),c=x.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!s||c===0||o<=0)return a;var d=function(p){var y=p.props,m=y.style,g=m===void 0?{}:m,w=y.className,b=x.cloneElement(p,nn(nn({},l),{},{style:nn(nn({},g),u),className:w}));return b};return c===1?d(x.Children.only(a)):R.createElement("div",null,x.Children.map(a,function(f){return d(f)}))}}]),n})(x.PureComponent);ur.displayName="Animate";ur.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ur.propTypes={from:Te.oneOfType([Te.object,Te.string]),to:Te.oneOfType([Te.object,Te.string]),attributeName:Te.string,duration:Te.number,begin:Te.number,easing:Te.oneOfType([Te.string,Te.func]),steps:Te.arrayOf(Te.shape({duration:Te.number.isRequired,style:Te.object.isRequired,easing:Te.oneOfType([Te.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Te.func]),properties:Te.arrayOf("string"),onAnimationEnd:Te.func})),children:Te.oneOfType([Te.node,Te.func]),isActive:Te.bool,canBegin:Te.bool,onAnimationEnd:Te.func,shouldReAnimate:Te.bool,onAnimationStart:Te.func,onAnimationReStart:Te.func};function So(e){"@babel/helpers - typeof";return So=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},So(e)}function kl(){return kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kl.apply(this,arguments)}function S6(e,t){return j6(e)||T6(e,t)||A6(e,t)||_6()}function _6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A6(e,t){if(e){if(typeof e=="string")return U_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U_(e,t)}}function U_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T6(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function j6(e){if(Array.isArray(e))return e}function z_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function G_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z_(Object(n),!0).forEach(function(r){P6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P6(e,t,n){return t=I6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I6(e){var t=k6(e,"string");return So(t)=="symbol"?t:t+""}function k6(e,t){if(So(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(So(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y_=function(t,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(o>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,p=4;f<p;f++)d[f]=a[f]>o?o:a[f];u="M".concat(t,",").concat(n+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+l*d[0],",").concat(n)),u+="L ".concat(t+r-l*d[1],",").concat(n),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+r,",").concat(n+s*d[1])),u+="L ".concat(t+r,",").concat(n+i-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+r-l*d[2],",").concat(n+i)),u+="L ".concat(t+l*d[3],",").concat(n+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(n+i-s*d[3])),u+="Z"}else if(o>0&&a===+a&&a>0){var y=Math.min(o,a);u="M ".concat(t,",").concat(n+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+l*y,",").concat(n,`
            L `).concat(t+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+r,",").concat(n+s*y,`
            L `).concat(t+r,",").concat(n+i-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+r-l*y,",").concat(n+i,`
            L `).concat(t+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t,",").concat(n+i-s*y," Z")}else u="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},O6=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(a,a+s),u=Math.max(a,a+s),d=Math.min(o,o+l),f=Math.max(o,o+l);return r>=c&&r<=u&&i>=d&&i<=f}return!1},C6={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Nv=function(t){var n=G_(G_({},C6),t),r=x.useRef(),i=x.useState(-1),a=S6(i,2),o=a[0],s=a[1];x.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&s(A)}catch{}},[]);var l=n.x,c=n.y,u=n.width,d=n.height,f=n.radius,p=n.className,y=n.animationEasing,m=n.animationDuration,g=n.animationBegin,w=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var S=Pe("recharts-rectangle",p);return b?R.createElement(ur,{canBegin:o>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:m,animationEasing:y,isActive:b},function(A){var v=A.width,_=A.height,T=A.x,j=A.y;return R.createElement(ur,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,isActive:w,easing:y},R.createElement("path",kl({},_e(n,!0),{className:S,d:Y_(T,j,v,_,f),ref:r})))}):R.createElement("path",kl({},_e(n,!0),{className:S,d:Y_(l,c,u,d,f)}))};function sg(){return sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sg.apply(this,arguments)}var vC=function(t){var n=t.cx,r=t.cy,i=t.r,a=t.className,o=Pe("recharts-dot",a);return n===+n&&r===+r&&i===+i?R.createElement("circle",sg({},_e(t,!1),Qs(t),{className:o,cx:n,cy:r,r:i})):null};function _o(e){"@babel/helpers - typeof";return _o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_o(e)}var E6=["x","y","top","left","width","height","className"];function lg(){return lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lg.apply(this,arguments)}function K_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function N6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K_(Object(n),!0).forEach(function(r){M6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M6(e,t,n){return t=R6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R6(e){var t=D6(e,"string");return _o(t)=="symbol"?t:t+""}function D6(e,t){if(_o(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_o(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q6(e,t){if(e==null)return{};var n=L6(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function L6(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var $6=function(t,n,r,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},F6=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.top,s=o===void 0?0:o,l=t.left,c=l===void 0?0:l,u=t.width,d=u===void 0?0:u,f=t.height,p=f===void 0?0:f,y=t.className,m=q6(t,E6),g=N6({x:r,y:a,top:s,left:c,width:d,height:p},m);return!Z(r)||!Z(a)||!Z(d)||!Z(p)||!Z(s)||!Z(c)?null:R.createElement("path",lg({},_e(g,!0),{className:Pe("recharts-cross",y),d:$6(r,a,d,p,s,c)}))},pp,X_;function B6(){if(X_)return pp;X_=1;var e=qk(),t=e(Object.getPrototypeOf,Object);return pp=t,pp}var mp,Q_;function W6(){if(Q_)return mp;Q_=1;var e=Kn(),t=B6(),n=Xn(),r="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,s=a.hasOwnProperty,l=o.call(Object);function c(u){if(!n(u)||e(u)!=r)return!1;var d=t(u);if(d===null)return!0;var f=s.call(d,"constructor")&&d.constructor;return typeof f=="function"&&f instanceof f&&o.call(f)==l}return mp=c,mp}var V6=W6();const H6=Ce(V6);var gp,J_;function U6(){if(J_)return gp;J_=1;var e=Kn(),t=Xn(),n="[object Boolean]";function r(i){return i===!0||i===!1||t(i)&&e(i)==n}return gp=r,gp}var z6=U6();const G6=Ce(z6);function Ao(e){"@babel/helpers - typeof";return Ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ao(e)}function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ol.apply(this,arguments)}function Y6(e,t){return J6(e)||Q6(e,t)||X6(e,t)||K6()}function K6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X6(e,t){if(e){if(typeof e=="string")return Z_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z_(e,t)}}function Z_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q6(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function J6(e){if(Array.isArray(e))return e}function eA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(n),!0).forEach(function(r){Z6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Z6(e,t,n){return t=e8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e8(e){var t=t8(e,"string");return Ao(t)=="symbol"?t:t+""}function t8(e,t){if(Ao(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ao(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nA=function(t,n,r,i,a){var o=r-i,s;return s="M ".concat(t,",").concat(n),s+="L ".concat(t+r,",").concat(n),s+="L ".concat(t+r-o/2,",").concat(n+a),s+="L ".concat(t+r-o/2-i,",").concat(n+a),s+="L ".concat(t,",").concat(n," Z"),s},n8={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},r8=function(t){var n=tA(tA({},n8),t),r=x.useRef(),i=x.useState(-1),a=Y6(i,2),o=a[0],s=a[1];x.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&s(S)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,d=n.lowerWidth,f=n.height,p=n.className,y=n.animationEasing,m=n.animationDuration,g=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||f!==+f||u===0&&d===0||f===0)return null;var b=Pe("recharts-trapezoid",p);return w?R.createElement(ur,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:f,x:l,y:c},duration:m,animationEasing:y,isActive:w},function(S){var A=S.upperWidth,v=S.lowerWidth,_=S.height,T=S.x,j=S.y;return R.createElement(ur,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,easing:y},R.createElement("path",Ol({},_e(n,!0),{className:b,d:nA(T,j,A,v,_),ref:r})))}):R.createElement("g",null,R.createElement("path",Ol({},_e(n,!0),{className:b,d:nA(l,c,u,d,f)})))},i8=["option","shapeType","propTransformer","activeClassName","isActive"];function To(e){"@babel/helpers - typeof";return To=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},To(e)}function a8(e,t){if(e==null)return{};var n=o8(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function o8(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function rA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(n),!0).forEach(function(r){s8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s8(e,t,n){return t=l8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l8(e){var t=c8(e,"string");return To(t)=="symbol"?t:t+""}function c8(e,t){if(To(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(To(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u8(e,t){return Cl(Cl({},t),e)}function d8(e,t){return e==="symbols"}function iA(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return R.createElement(Nv,n);case"trapezoid":return R.createElement(r8,n);case"sector":return R.createElement(uC,n);case"symbols":if(d8(t))return R.createElement(Qy,n);break;default:return null}}function h8(e){return x.isValidElement(e)?e.props:e}function f8(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?u8:r,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,s=e.isActive,l=a8(e,i8),c;if(x.isValidElement(t))c=x.cloneElement(t,Cl(Cl({},l),h8(t)));else if(ve(t))c=t(l);else if(H6(t)&&!G6(t)){var u=i(t,l);c=R.createElement(iA,{shapeType:n,elementProps:u})}else{var d=l;c=R.createElement(iA,{shapeType:n,elementProps:d})}return s?R.createElement(ct,{className:o},c):c}function Wc(e,t){return t!=null&&"trapezoids"in e.props}function Vc(e,t){return t!=null&&"sectors"in e.props}function jo(e,t){return t!=null&&"points"in e.props}function p8(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&a}function m8(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function g8(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function y8(e,t){var n;return Wc(e,t)?n=p8:Vc(e,t)?n=m8:jo(e,t)&&(n=g8),n}function v8(e,t){var n;return Wc(e,t)?n="trapezoids":Vc(e,t)?n="sectors":jo(e,t)&&(n="points"),n}function b8(e,t){if(Wc(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Vc(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return jo(e,t)?t.payload:{}}function w8(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=v8(n,t),a=b8(n,t),o=r.filter(function(l,c){var u=kv(a,l),d=n.props[i].filter(function(y){var m=y8(n,t);return m(y,t)}),f=n.props[i].indexOf(d[d.length-1]),p=c===f;return u&&p}),s=r.indexOf(o[o.length-1]);return s}var yp,aA;function x8(){if(aA)return yp;aA=1;var e=Math.ceil,t=Math.max;function n(r,i,a,o){for(var s=-1,l=t(e((i-r)/(a||1)),0),c=Array(l);l--;)c[o?l:++s]=r,r+=a;return c}return yp=n,yp}var vp,oA;function bC(){if(oA)return vp;oA=1;var e=Zk(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var a=i<0?-1:1;return a*n}return i===i?i:0}return vp=r,vp}var bp,sA;function S8(){if(sA)return bp;sA=1;var e=x8(),t=Oc(),n=bC();function r(i){return function(a,o,s){return s&&typeof s!="number"&&t(a,o,s)&&(o=s=void 0),a=n(a),o===void 0?(o=a,a=0):o=n(o),s=s===void 0?a<o?1:-1:n(s),e(a,o,s,i)}}return bp=r,bp}var wp,lA;function _8(){if(lA)return wp;lA=1;var e=S8(),t=e();return wp=t,wp}var A8=_8();const El=Ce(A8);function Po(e){"@babel/helpers - typeof";return Po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Po(e)}function cA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(n),!0).forEach(function(r){wC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wC(e,t,n){return t=T8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T8(e){var t=j8(e,"string");return Po(t)=="symbol"?t:t+""}function j8(e,t){if(Po(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Po(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P8=["Webkit","Moz","O","ms"],I8=function(t,n){var r=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=P8.reduce(function(a,o){return uA(uA({},a),{},wC({},o+r,n))},{});return i[t]=n,i};function Ri(e){"@babel/helpers - typeof";return Ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ri(e)}function Nl(){return Nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nl.apply(this,arguments)}function dA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dA(Object(n),!0).forEach(function(r){Mt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function k8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SC(r.key),r)}}function O8(e,t,n){return t&&hA(e.prototype,t),n&&hA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function C8(e,t,n){return t=Ml(t),E8(e,xC()?Reflect.construct(t,n||[],Ml(e).constructor):t.apply(e,n))}function E8(e,t){if(t&&(Ri(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N8(e)}function N8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xC=function(){return!!e})()}function Ml(e){return Ml=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ml(e)}function M8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cg(e,t)}function cg(e,t){return cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cg(e,t)}function Mt(e,t,n){return t=SC(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SC(e){var t=R8(e,"string");return Ri(t)=="symbol"?t:t+""}function R8(e,t){if(Ri(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ri(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var D8=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,a=t.x,o=t.width,s=t.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=La().domain(El(0,l)).range([a,a+o-s]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},fA=function(t){return t.changedTouches&&!!t.changedTouches.length},Di=(function(e){function t(n){var r;return k8(this,t),r=C8(this,t,[n]),Mt(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Mt(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Mt(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o?.({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),Mt(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Mt(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Mt(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Mt(r,"handleSlideDragStart",function(i){var a=fA(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return M8(t,e),O8(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,d=Math.min(i,a),f=Math.max(i,a),p=t.getIndexInRange(o,d),y=t.getIndexInRange(o,f);return{startIndex:p-p%l,endIndex:y===u?u:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=Pn(a[r],s,r);return ve(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,f=l.startIndex,p=l.endIndex,y=l.onChange,m=r.pageX-a;m>0?m=Math.min(m,c+u-d-s,c+u-d-o):m<0&&(m=Math.max(m,c-o,c-s));var g=this.getIndex({startX:o+m,endX:s+m});(g.startIndex!==f||g.endIndex!==p)&&y&&y(g),this.setState({startX:o+m,endX:s+m,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=fA(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[o],u=this.props,d=u.x,f=u.width,p=u.travellerWidth,y=u.onChange,m=u.gap,g=u.data,w={startX:this.state.startX,endX:this.state.endX},b=r.pageX-a;b>0?b=Math.min(b,d+f-p-c):b<0&&(b=Math.max(b,d-c)),w[o]=c+b;var S=this.getIndex(w),A=S.startIndex,v=S.endIndex,_=function(){var j=g.length-1;return o==="startX"&&(s>l?A%m===0:v%m===0)||s<l&&v===j||o==="endX"&&(s>l?v%m===0:A%m===0)||s>l&&v===j};this.setState(Mt(Mt({},o,c+b),"brushMoveStartX",r.pageX),function(){y&&_()&&y(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,c=o.endX,u=this.state[i],d=s.indexOf(u);if(d!==-1){var f=d+r;if(!(f===-1||f>=s.length)){var p=s[f];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(Mt({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,c=r.stroke;return R.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,c=r.children,u=r.padding,d=x.Children.only(c);return d?R.cloneElement(d,{x:i,y:a,width:o,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,f=l.traveller,p=l.ariaLabel,y=l.data,m=l.startIndex,g=l.endIndex,w=Math.max(r,this.props.x),b=xp(xp({},_e(this.props,!1)),{},{x:w,y:c,width:u,height:d}),S=p||"Min value: ".concat((a=y[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=y[g])===null||o===void 0?void 0:o.name);return R.createElement(ct,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(v){["ArrowLeft","ArrowRight"].includes(v.key)&&(v.preventDefault(),v.stopPropagation(),s.handleTravellerMoveKeyboard(v.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(f,b))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(r,i)+c,d=Math.max(Math.abs(i-r)-c,0);return R.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:o,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,d=u.startX,f=u.endX,p=5,y={pointerEvents:"none",fill:c};return R.createElement(ct,{className:"recharts-brush-texts"},R.createElement(cl,Nl({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,f)-p,y:o+s/2},y),this.getTextOfTick(i)),R.createElement(cl,Nl({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,f)+l+p,y:o+s/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,c=r.width,u=r.height,d=r.alwaysShowText,f=this.state,p=f.startX,y=f.endX,m=f.isTextActive,g=f.isSlideMoving,w=f.isTravellerMoving,b=f.isTravellerFocused;if(!i||!i.length||!Z(s)||!Z(l)||!Z(c)||!Z(u)||c<=0||u<=0)return null;var S=Pe("recharts-brush",a),A=R.Children.count(o)===1,v=I8("userSelect","none");return R.createElement(ct,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:v},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(m||g||w||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,c=Math.floor(a+s/2)-1;return R.createElement(R.Fragment,null,R.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),R.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),R.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return R.isValidElement(r)?a=R.cloneElement(r,i):ve(r)?a=r(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,d=r.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return xp({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o},a&&a.length?D8({data:a,width:o,x:s,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var f=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])})(x.PureComponent);Mt(Di,"displayName","Brush");Mt(Di,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Sp,pA;function q8(){if(pA)return Sp;pA=1;var e=iv();function t(n,r){var i;return e(n,function(a,o,s){return i=r(a,o,s),!i}),!!i}return Sp=t,Sp}var _p,mA;function L8(){if(mA)return _p;mA=1;var e=Ok(),t=wr(),n=q8(),r=Nt(),i=Oc();function a(o,s,l){var c=r(o)?e:n;return l&&i(o,s,l)&&(s=void 0),c(o,t(s,3))}return _p=a,_p}var $8=L8();const F8=Ce($8);var Sn=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},Ap,gA;function B8(){if(gA)return Ap;gA=1;var e=Yk();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Ap=t,Ap}var Tp,yA;function W8(){if(yA)return Tp;yA=1;var e=B8(),t=zk(),n=wr();function r(i,a){var o={};return a=n(a,3),t(i,function(s,l,c){e(o,l,a(s,l,c))}),o}return Tp=r,Tp}var V8=W8();const H8=Ce(V8);var jp,vA;function U8(){if(vA)return jp;vA=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(!n(t[r],r,t))return!1;return!0}return jp=e,jp}var Pp,bA;function z8(){if(bA)return Pp;bA=1;var e=iv();function t(n,r){var i=!0;return e(n,function(a,o,s){return i=!!r(a,o,s),i}),i}return Pp=t,Pp}var Ip,wA;function G8(){if(wA)return Ip;wA=1;var e=U8(),t=z8(),n=wr(),r=Nt(),i=Oc();function a(o,s,l){var c=r(o)?e:t;return l&&i(o,s,l)&&(s=void 0),c(o,n(s,3))}return Ip=a,Ip}var Y8=G8();const _C=Ce(Y8);var K8=["x","y"];function Io(e){"@babel/helpers - typeof";return Io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Io(e)}function ug(){return ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ug.apply(this,arguments)}function xA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(n),!0).forEach(function(r){X8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X8(e,t,n){return t=Q8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q8(e){var t=J8(e,"string");return Io(t)=="symbol"?t:t+""}function J8(e,t){if(Io(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Io(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z8(e,t){if(e==null)return{};var n=eG(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function eG(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function tG(e,t){var n=e.x,r=e.y,i=Z8(e,K8),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),f=parseInt(d,10);return Sa(Sa(Sa(Sa(Sa({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function SA(e){return R.createElement(f8,ug({shapeType:"rectangle",propTransformer:tG,activeClassName:"recharts-active-bar"},e))}var nG=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof t=="number")return t;var a=typeof r=="number";return a?t(r,i):(a||Gr(),n)}},rG=["value","background"],AC;function qi(e){"@babel/helpers - typeof";return qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qi(e)}function iG(e,t){if(e==null)return{};var n=aG(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function aG(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Rl(){return Rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rl.apply(this,arguments)}function _A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_A(Object(n),!0).forEach(function(r){rr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_A(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jC(r.key),r)}}function sG(e,t,n){return t&&AA(e.prototype,t),n&&AA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lG(e,t,n){return t=Dl(t),cG(e,TC()?Reflect.construct(t,n||[],Dl(e).constructor):t.apply(e,n))}function cG(e,t){if(t&&(qi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uG(e)}function uG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TC=function(){return!!e})()}function Dl(e){return Dl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dl(e)}function dG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dg(e,t)}function dg(e,t){return dg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dg(e,t)}function rr(e,t,n){return t=jC(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jC(e){var t=hG(e,"string");return qi(t)=="symbol"?t:t+""}function hG(e,t){if(qi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(qi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ei=(function(e){function t(){var n;oG(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=lG(this,t,[].concat(i)),rr(n,"state",{isAnimationFinished:!1}),rr(n,"id",_c("recharts-bar-")),rr(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),rr(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return dG(t,e),sG(t,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,c=a.activeBar,u=_e(this.props,!1);return r&&r.map(function(d,f){var p=f===l,y=p?c:o,m=Je(Je(Je({},u),d),{},{isActive:p,option:y,index:f,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return R.createElement(ct,Rl({className:"recharts-bar-rectangle"},Js(i.props,d,f),{key:"rectangle-".concat(d?.x,"-").concat(d?.y,"-").concat(d?.value)}),R.createElement(SA,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state.prevData;return R.createElement(ur,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,m=a.map(function(g,w){var b=f&&f[w];if(b){var S=ni(b.x,g.x),A=ni(b.y,g.y),v=ni(b.width,g.width),_=ni(b.height,g.height);return Je(Je({},g),{},{x:S(y),y:A(y),width:v(y),height:_(y)})}if(o==="horizontal"){var T=ni(0,g.height),j=T(y);return Je(Je({},g),{},{y:g.y+g.height-j,height:j})}var P=ni(0,g.width),O=P(y);return Je(Je({},g),{},{width:O})});return R.createElement(ct,null,r.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!kv(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=_e(this.props.background,!1);return a.map(function(c,u){c.value;var d=c.background,f=iG(c,rG);if(!d)return null;var p=Je(Je(Je(Je(Je({},f),{},{fill:"#eee"},d),l),Js(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return R.createElement(SA,Rl({key:"background-bar-".concat(u),option:r.props.background,isActive:u===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,d=un(u,Bc);if(!d)return null;var f=c==="vertical"?o[0].height/2:o[0].width/2,p=function(g,w){var b=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:b,errorVal:Pn(g,w)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return R.createElement(ct,y,d.map(function(m){return R.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,offset:f,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,c=r.left,u=r.top,d=r.width,f=r.height,p=r.isAnimationActive,y=r.background,m=r.id;if(i||!a||!a.length)return null;var g=this.state.isAnimationFinished,w=Pe("recharts-bar",o),b=s&&s.allowDataOverflow,S=l&&l.allowDataOverflow,A=b||S,v=je(m)?this.id:m;return R.createElement(ct,{className:w},b||S?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(v)},R.createElement("rect",{x:b?c:c-d/2,y:S?u:u-f/2,width:b?d:d*2,height:S?f:f*2}))):null,R.createElement(ct,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(v,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,v),(!p||g)&&Fr.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(x.PureComponent);AC=ei;rr(ei,"displayName","Bar");rr(ei,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ko.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});rr(ei,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,f=e.offset,p=C3(r,n);if(!p)return null;var y=t.layout,m=n.type.defaultProps,g=m!==void 0?Je(Je({},m),n.props):n.props,w=g.dataKey,b=g.children,S=g.minPointSize,A=y==="horizontal"?o:a,v=c?A.scale.domain():null,_=$3({numericAxis:A}),T=un(b,tO),j=d.map(function(P,O){var I,k,E,C,M,D;c?I=E3(c[u+O],v):(I=Pn(P,w),Array.isArray(I)||(I=[_,I]));var q=nG(S,AC.defaultProps.minPointSize)(I[1],O);if(y==="horizontal"){var $,W=[o.scale(I[0]),o.scale(I[1])],V=W[0],z=W[1];k=o_({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:P,index:O}),E=($=z??V)!==null&&$!==void 0?$:void 0,C=p.size;var U=V-z;if(M=Number.isNaN(U)?0:U,D={x:k,y:o.y,width:C,height:o.height},Math.abs(q)>0&&Math.abs(M)<Math.abs(q)){var ae=cn(M||q)*(Math.abs(q)-Math.abs(M));E-=ae,M+=ae}}else{var he=[a.scale(I[0]),a.scale(I[1])],ye=he[0],fe=he[1];if(k=ye,E=o_({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:P,index:O}),C=fe-ye,M=p.size,D={x:a.x,y:E,width:a.width,height:M},Math.abs(q)>0&&Math.abs(C)<Math.abs(q)){var ne=cn(C||q)*(Math.abs(q)-Math.abs(C));C+=ne}}return Je(Je(Je({},P),{},{x:k,y:E,width:C,height:M,value:c?I:I[1],payload:P,background:D},T&&T[O]&&T[O].props),{},{tooltipPayload:[sC(n,P)],tooltipPosition:{x:k+C/2,y:E+M/2}})});return Je({data:j,layout:y},f)});function ko(e){"@babel/helpers - typeof";return ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ko(e)}function fG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,PC(r.key),r)}}function pG(e,t,n){return t&&TA(e.prototype,t),n&&TA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function on(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jA(Object(n),!0).forEach(function(r){Hc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hc(e,t,n){return t=PC(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PC(e){var t=mG(e,"string");return ko(t)=="symbol"?t:t+""}function mG(e,t){if(ko(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ko(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gG=function(t,n,r,i,a){var o=t.width,s=t.height,l=t.layout,c=t.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},f=!!Rt(c,ei);return u.reduce(function(p,y){var m=n[y],g=m.orientation,w=m.domain,b=m.padding,S=b===void 0?{}:b,A=m.mirror,v=m.reversed,_="".concat(g).concat(A?"Mirror":""),T,j,P,O,I;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var k=w[1]-w[0],E=1/0,C=m.categoricalDomain.sort();if(C.forEach(function(he,ye){ye>0&&(E=Math.min((he||0)-(C[ye-1]||0),E))}),Number.isFinite(E)){var M=E/k,D=m.layout==="vertical"?r.height:r.width;if(m.padding==="gap"&&(T=M*D/2),m.padding==="no-gap"){var q=Ur(t.barCategoryGap,M*D),$=M*D/2;T=$-q-($-q)/D*q}}}i==="xAxis"?j=[r.left+(S.left||0)+(T||0),r.left+r.width-(S.right||0)-(T||0)]:i==="yAxis"?j=l==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(T||0),r.top+r.height-(S.bottom||0)-(T||0)]:j=m.range,v&&(j=[j[1],j[0]]);var W=k3(m,a,f),V=W.scale,z=W.realScaleType;V.domain(w).range(j),O3(V);var U=L3(V,on(on({},m),{},{realScaleType:z}));i==="xAxis"?(I=g==="top"&&!A||g==="bottom"&&A,P=r.left,O=d[_]-I*m.height):i==="yAxis"&&(I=g==="left"&&!A||g==="right"&&A,P=d[_]-I*m.width,O=r.top);var ae=on(on(on({},m),U),{},{realScaleType:z,x:P,y:O,scale:V,width:i==="xAxis"?r.width:m.width,height:i==="yAxis"?r.height:m.height});return ae.bandSize=_l(ae,U),!m.hide&&i==="xAxis"?d[_]+=(I?-1:1)*ae.height:m.hide||(d[_]+=(I?-1:1)*ae.width),on(on({},p),{},Hc({},y,ae))},{})},IC=function(t,n){var r=t.x,i=t.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},yG=function(t){var n=t.x1,r=t.y1,i=t.x2,a=t.y2;return IC({x:n,y:r},{x:i,y:a})},kC=(function(){function e(t){fG(this,e),this.scale=t}return pG(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])})();Hc(kC,"EPS",1e-4);var Mv=function(t){var n=Object.keys(t).reduce(function(r,i){return on(on({},r),{},Hc({},i,kC.create(t[i])))},{});return on(on({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return H8(i,function(l,c){return n[c].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return _C(i,function(a,o){return n[o].isInRange(a)})}})};function vG(e){return(e%180+180)%180}var bG=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=vG(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},kp,PA;function wG(){if(PA)return kp;PA=1;var e=wr(),t=Yo(),n=Ic();function r(i){return function(a,o,s){var l=Object(a);if(!t(a)){var c=e(o,3);a=n(a),o=function(d){return c(l[d],d,l)}}var u=i(a,o,s);return u>-1?l[c?a[u]:u]:void 0}}return kp=r,kp}var Op,IA;function xG(){if(IA)return Op;IA=1;var e=bC();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return Op=t,Op}var Cp,kA;function SG(){if(kA)return Cp;kA=1;var e=Bk(),t=wr(),n=xG(),r=Math.max;function i(a,o,s){var l=a==null?0:a.length;if(!l)return-1;var c=s==null?0:n(s);return c<0&&(c=r(l+c,0)),e(a,t(o,3),c)}return Cp=i,Cp}var Ep,OA;function _G(){if(OA)return Ep;OA=1;var e=wG(),t=SG(),n=e(t);return Ep=n,Ep}var AG=_G();const TG=Ce(AG);var jG=rk();const PG=Ce(jG);var IG=PG(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Rv=x.createContext(void 0),Dv=x.createContext(void 0),OC=x.createContext(void 0),CC=x.createContext({}),EC=x.createContext(void 0),NC=x.createContext(0),MC=x.createContext(0),CA=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=t.clipPathId,s=t.children,l=t.width,c=t.height,u=IG(a);return R.createElement(Rv.Provider,{value:r},R.createElement(Dv.Provider,{value:i},R.createElement(CC.Provider,{value:a},R.createElement(OC.Provider,{value:u},R.createElement(EC.Provider,{value:o},R.createElement(NC.Provider,{value:c},R.createElement(MC.Provider,{value:l},s)))))))},kG=function(){return x.useContext(EC)},RC=function(t){var n=x.useContext(Rv);n==null&&Gr();var r=n[t];return r==null&&Gr(),r},OG=function(){var t=x.useContext(Rv);return tr(t)},CG=function(){var t=x.useContext(Dv),n=TG(t,function(r){return _C(r.domain,Number.isFinite)});return n||tr(t)},DC=function(t){var n=x.useContext(Dv);n==null&&Gr();var r=n[t];return r==null&&Gr(),r},EG=function(){var t=x.useContext(OC);return t},NG=function(){return x.useContext(CC)},qv=function(){return x.useContext(MC)},Lv=function(){return x.useContext(NC)};function Li(e){"@babel/helpers - typeof";return Li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Li(e)}function MG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,LC(r.key),r)}}function DG(e,t,n){return t&&RG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qG(e,t,n){return t=ql(t),LG(e,qC()?Reflect.construct(t,n||[],ql(e).constructor):t.apply(e,n))}function LG(e,t){if(t&&(Li(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $G(e)}function $G(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qC=function(){return!!e})()}function ql(e){return ql=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ql(e)}function FG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hg(e,t)}function hg(e,t){return hg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hg(e,t)}function EA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EA(Object(n),!0).forEach(function(r){$v(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $v(e,t,n){return t=LC(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LC(e){var t=BG(e,"string");return Li(t)=="symbol"?t:t+""}function BG(e,t){if(Li(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Li(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function WG(e,t){return zG(e)||UG(e,t)||HG(e,t)||VG()}function VG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HG(e,t){if(e){if(typeof e=="string")return MA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MA(e,t)}}function MA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UG(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function zG(e){if(Array.isArray(e))return e}function fg(){return fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fg.apply(this,arguments)}var GG=function(t,n){var r;return R.isValidElement(t)?r=R.cloneElement(t,n):ve(t)?r=t(n):r=R.createElement("line",fg({},n,{className:"recharts-reference-line-line"})),r},YG=function(t,n,r,i,a,o,s,l,c){var u=a.x,d=a.y,f=a.width,p=a.height;if(r){var y=c.y,m=t.y.apply(y,{position:o});if(Sn(c,"discard")&&!t.y.isInRange(m))return null;var g=[{x:u+f,y:m},{x:u,y:m}];return l==="left"?g.reverse():g}if(n){var w=c.x,b=t.x.apply(w,{position:o});if(Sn(c,"discard")&&!t.x.isInRange(b))return null;var S=[{x:b,y:d+p},{x:b,y:d}];return s==="top"?S.reverse():S}if(i){var A=c.segment,v=A.map(function(_){return t.apply(_,{position:o})});return Sn(c,"discard")&&F8(v,function(_){return!t.isInRange(_)})?null:v}return null};function KG(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,s=e.className,l=e.alwaysShow,c=kG(),u=RC(i),d=DC(a),f=EG();if(!c||!f)return null;qn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Mv({x:u.scale,y:d.scale}),y=ot(t),m=ot(n),g=r&&r.length===2,w=YG(p,y,m,g,f,e.position,u.orientation,d.orientation,e);if(!w)return null;var b=WG(w,2),S=b[0],A=S.x,v=S.y,_=b[1],T=_.x,j=_.y,P=Sn(e,"hidden")?"url(#".concat(c,")"):void 0,O=NA(NA({clipPath:P},_e(e,!0)),{},{x1:A,y1:v,x2:T,y2:j});return R.createElement(ct,{className:Pe("recharts-reference-line",s)},GG(o,O),vt.renderCallByParent(e,yG({x1:A,y1:v,x2:T,y2:j})))}var Fv=(function(e){function t(){return MG(this,t),qG(this,t,arguments)}return FG(t,e),DG(t,[{key:"render",value:function(){return R.createElement(KG,this.props)}}])})(R.Component);$v(Fv,"displayName","ReferenceLine");$v(Fv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function pg(){return pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pg.apply(this,arguments)}function $i(e){"@babel/helpers - typeof";return $i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$i(e)}function RA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RA(Object(n),!0).forEach(function(r){Uc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,FC(r.key),r)}}function JG(e,t,n){return t&&QG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZG(e,t,n){return t=Ll(t),e9(e,$C()?Reflect.construct(t,n||[],Ll(e).constructor):t.apply(e,n))}function e9(e,t){if(t&&($i(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t9(e)}function t9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($C=function(){return!!e})()}function Ll(e){return Ll=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ll(e)}function n9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mg(e,t)}function mg(e,t){return mg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mg(e,t)}function Uc(e,t,n){return t=FC(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FC(e){var t=r9(e,"string");return $i(t)=="symbol"?t:t+""}function r9(e,t){if($i(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($i(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var i9=function(t){var n=t.x,r=t.y,i=t.xAxis,a=t.yAxis,o=Mv({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return Sn(t,"discard")&&!o.isInRange(s)?null:s},zc=(function(e){function t(){return XG(this,t),ZG(this,t,arguments)}return n9(t,e),JG(t,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,c=ot(i),u=ot(a);if(qn(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=i9(this.props);if(!d)return null;var f=d.x,p=d.y,y=this.props,m=y.shape,g=y.className,w=Sn(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=DA(DA({clipPath:w},_e(this.props,!0)),{},{cx:f,cy:p});return R.createElement(ct,{className:Pe("recharts-reference-dot",g)},t.renderDot(m,b),vt.renderCallByParent(this.props,{x:f-o,y:p-o,width:2*o,height:2*o}))}}])})(R.Component);Uc(zc,"displayName","ReferenceDot");Uc(zc,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Uc(zc,"renderDot",function(e,t){var n;return R.isValidElement(e)?n=R.cloneElement(e,t):ve(e)?n=e(t):n=R.createElement(vC,pg({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function gg(){return gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gg.apply(this,arguments)}function Fi(e){"@babel/helpers - typeof";return Fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fi(e)}function qA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function LA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qA(Object(n),!0).forEach(function(r){Gc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,WC(r.key),r)}}function s9(e,t,n){return t&&o9(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function l9(e,t,n){return t=$l(t),c9(e,BC()?Reflect.construct(t,n||[],$l(e).constructor):t.apply(e,n))}function c9(e,t){if(t&&(Fi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u9(e)}function u9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BC=function(){return!!e})()}function $l(e){return $l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$l(e)}function d9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yg(e,t)}function yg(e,t){return yg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yg(e,t)}function Gc(e,t,n){return t=WC(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WC(e){var t=h9(e,"string");return Fi(t)=="symbol"?t:t+""}function h9(e,t){if(Fi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Fi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var f9=function(t,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,c=a.y2,u=a.xAxis,d=a.yAxis;if(!u||!d)return null;var f=Mv({x:u.scale,y:d.scale}),p={x:t?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(l,{position:"start"}):f.y.rangeMin},y={x:n?f.x.apply(s,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(c,{position:"end"}):f.y.rangeMax};return Sn(a,"discard")&&(!f.isInRange(p)||!f.isInRange(y))?null:IC(p,y)},Yc=(function(e){function t(){return a9(this,t),l9(this,t,arguments)}return d9(t,e),s9(t,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;qn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=ot(i),f=ot(a),p=ot(o),y=ot(s),m=this.props.shape;if(!d&&!f&&!p&&!y&&!m)return null;var g=f9(d,f,p,y,this.props);if(!g&&!m)return null;var w=Sn(this.props,"hidden")?"url(#".concat(u,")"):void 0;return R.createElement(ct,{className:Pe("recharts-reference-area",l)},t.renderRect(m,LA(LA({clipPath:w},_e(this.props,!0)),g)),vt.renderCallByParent(this.props,g))}}])})(R.Component);Gc(Yc,"displayName","ReferenceArea");Gc(Yc,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Gc(Yc,"renderRect",function(e,t){var n;return R.isValidElement(e)?n=R.cloneElement(e,t):ve(e)?n=e(t):n=R.createElement(Nv,gg({},t,{className:"recharts-reference-area-rect"})),n});function VC(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function p9(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return bG(r,n)}function m9(e,t,n){var r=n==="width",i=e.x,a=e.y,o=e.width,s=e.height;return t===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function Fl(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function g9(e,t){return VC(e,t+1)}function y9(e,t,n,r,i){for(var a=(r||[]).slice(),o=t.start,s=t.end,l=0,c=1,u=o,d=function(){var y=r?.[l];if(y===void 0)return{v:VC(r,c)};var m=l,g,w=function(){return g===void 0&&(g=n(y,m)),g},b=y.coordinate,S=l===0||Fl(e,b,w,u,s);S||(l=0,u=o,c+=1),S&&(u=b+e*(w()/2+i),l+=c)},f;c<=a.length;)if(f=d(),f)return f.v;return[]}function Oo(e){"@babel/helpers - typeof";return Oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oo(e)}function $A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$A(Object(n),!0).forEach(function(r){v9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function v9(e,t,n){return t=b9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b9(e){var t=w9(e,"string");return Oo(t)=="symbol"?t:t+""}function w9(e,t){if(Oo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Oo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x9(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=t.start,l=t.end,c=function(f){var p=a[f],y,m=function(){return y===void 0&&(y=n(p,f)),y};if(f===o-1){var g=e*(p.coordinate+e*m()/2-l);a[f]=p=gt(gt({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate})}else a[f]=p=gt(gt({},p),{},{tickCoord:p.coordinate});var w=Fl(e,p.tickCoord,m,s,l);w&&(l=p.tickCoord-e*(m()/2+i),a[f]=gt(gt({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}function S9(e,t,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=t.start,c=t.end;if(a){var u=r[s-1],d=n(u,s-1),f=e*(u.coordinate+e*d/2-c);o[s-1]=u=gt(gt({},u),{},{tickCoord:f>0?u.coordinate-f*e:u.coordinate});var p=Fl(e,u.tickCoord,function(){return d},l,c);p&&(c=u.tickCoord-e*(d/2+i),o[s-1]=gt(gt({},u),{},{isShow:!0}))}for(var y=a?s-1:s,m=function(b){var S=o[b],A,v=function(){return A===void 0&&(A=n(S,b)),A};if(b===0){var _=e*(S.coordinate-e*v()/2-l);o[b]=S=gt(gt({},S),{},{tickCoord:_<0?S.coordinate-_*e:S.coordinate})}else o[b]=S=gt(gt({},S),{},{tickCoord:S.coordinate});var T=Fl(e,S.tickCoord,v,l,c);T&&(l=S.tickCoord+e*(v()/2+i),o[b]=gt(gt({},S),{},{isShow:!0}))},g=0;g<y;g++)m(g);return o}function Bv(e,t,n){var r=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!i||!i.length||!r)return[];if(Z(l)||Ko.isSsr)return g9(i,typeof l=="number"&&Z(l)?l:0);var f=[],p=s==="top"||s==="bottom"?"width":"height",y=u&&p==="width"?qa(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(S,A){var v=ve(c)?c(S.value,A):S.value;return p==="width"?p9(qa(v,{fontSize:t,letterSpacing:n}),y,d):qa(v,{fontSize:t,letterSpacing:n})[p]},g=i.length>=2?cn(i[1].coordinate-i[0].coordinate):1,w=m9(a,g,p);return l==="equidistantPreserveStart"?y9(g,w,m,i,o):(l==="preserveStart"||l==="preserveStartEnd"?f=S9(g,w,m,i,o,l==="preserveStartEnd"):f=x9(g,w,m,i,o),f.filter(function(b){return b.isShow}))}var _9=["viewBox"],A9=["viewBox"],T9=["ticks"];function Bi(e){"@babel/helpers - typeof";return Bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bi(e)}function li(){return li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},li.apply(this,arguments)}function FA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(n),!0).forEach(function(r){Wv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Np(e,t){if(e==null)return{};var n=j9(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function j9(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function P9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,UC(r.key),r)}}function I9(e,t,n){return t&&BA(e.prototype,t),n&&BA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function k9(e,t,n){return t=Bl(t),O9(e,HC()?Reflect.construct(t,n||[],Bl(e).constructor):t.apply(e,n))}function O9(e,t){if(t&&(Bi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C9(e)}function C9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HC=function(){return!!e})()}function Bl(e){return Bl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bl(e)}function E9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vg(e,t)}function vg(e,t){return vg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vg(e,t)}function Wv(e,t,n){return t=UC(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UC(e){var t=N9(e,"string");return Bi(t)=="symbol"?t:t+""}function N9(e,t){if(Bi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ua=(function(e){function t(n){var r;return P9(this,t),r=k9(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return E9(t,e),I9(t,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=Np(r,_9),s=this.props,l=s.viewBox,c=Np(s,A9);return!yi(a,l)||!yi(o,c)||!yi(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,c=i.orientation,u=i.tickSize,d=i.mirror,f=i.tickMargin,p,y,m,g,w,b,S=d?-1:1,A=r.tickSize||u,v=Z(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=y=r.coordinate,g=o+ +!d*l,m=g-S*A,b=m-S*f,w=v;break;case"left":m=g=r.coordinate,y=a+ +!d*s,p=y-S*A,w=p-S*f,b=v;break;case"right":m=g=r.coordinate,y=a+ +d*s,p=y+S*A,w=p+S*f,b=v;break;default:p=y=r.coordinate,g=o+ +d*l,m=g+S*A,b=m+S*f,w=v;break}return{line:{x1:p,y1:m,x2:y,y2:g},tick:{x:w,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,d=St(St(St({},_e(this.props,!1)),_e(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!c||l==="bottom"&&c);d=St(St({},d),{},{x1:i,y1:a+f*s,x2:i+o,y2:a+f*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=St(St({},d),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return R.createElement("line",li({},d,{className:Pe("recharts-cartesian-axis-line",Qt(u,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,d=s.tickFormatter,f=s.unit,p=Bv(St(St({},this.props),{},{ticks:r}),i,a),y=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),g=_e(this.props,!1),w=_e(u,!1),b=St(St({},g),{},{fill:"none"},_e(l,!1)),S=p.map(function(A,v){var _=o.getTickLineCoord(A),T=_.line,j=_.tick,P=St(St(St(St({textAnchor:y,verticalAnchor:m},g),{},{stroke:"none",fill:c},w),j),{},{index:v,payload:A,visibleTicksCount:p.length,tickFormatter:d});return R.createElement(ct,li({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},Js(o.props,A,v)),l&&R.createElement("line",li({},b,T,{className:Pe("recharts-cartesian-axis-tick-line",Qt(l,"className"))})),u&&t.renderTickItem(u,P,"".concat(ve(d)?d(A.value,v):A.value).concat(f||"")))});return R.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var d=this.props,f=d.ticks,p=Np(d,T9),y=f;return ve(l)&&(y=f&&f.length>0?l(this.props):l(p)),o<=0||s<=0||!y||!y.length?null:R.createElement(ct,{className:Pe("recharts-cartesian-axis",c),ref:function(g){r.layerReference=g}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),vt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return R.isValidElement(r)?o=R.cloneElement(r,i):ve(r)?o=r(i):o=R.createElement(cl,li({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])})(x.Component);Wv(ua,"displayName","CartesianAxis");Wv(ua,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var M9=["x1","y1","x2","y2","key"],R9=["offset"];function Yr(e){"@babel/helpers - typeof";return Yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yr(e)}function WA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(n),!0).forEach(function(r){D9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D9(e,t,n){return t=q9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q9(e){var t=L9(e,"string");return Yr(t)=="symbol"?t:t+""}function L9(e,t){if(Yr(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Yr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mr(){return Mr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mr.apply(this,arguments)}function VA(e,t){if(e==null)return{};var n=$9(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $9(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var F9=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,i=t.x,a=t.y,o=t.width,s=t.height,l=t.ry;return R.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function zC(e,t){var n;if(R.isValidElement(e))n=R.cloneElement(e,t);else if(ve(e))n=e(t);else{var r=t.x1,i=t.y1,a=t.x2,o=t.y2,s=t.key,l=VA(t,M9),c=_e(l,!1);c.offset;var u=VA(c,R9);n=R.createElement("line",Mr({},u,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function B9(e){var t=e.x,n=e.width,r=e.horizontal,i=r===void 0?!0:r,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=bt(bt({},e),{},{x1:t,y1:s,x2:t+n,y2:s,key:"line-".concat(l),index:l});return zC(i,c)});return R.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function W9(e){var t=e.y,n=e.height,r=e.vertical,i=r===void 0?!0:r,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=bt(bt({},e),{},{x1:s,y1:t,x2:s,y2:t+n,key:"line-".concat(l),index:l});return zC(i,c)});return R.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function V9(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,a=e.width,o=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=s.map(function(f){return Math.round(f+i-i)}).sort(function(f,p){return f-p});i!==u[0]&&u.unshift(0);var d=u.map(function(f,p){var y=!u[p+1],m=y?i+o-f:u[p+1]-f;if(m<=0)return null;var g=p%t.length;return R.createElement("rect",{key:"react-".concat(p),y:f,x:r,height:m,width:a,stroke:"none",fill:t[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function H9(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(f){return Math.round(f+a-a)}).sort(function(f,p){return f-p});a!==u[0]&&u.unshift(0);var d=u.map(function(f,p){var y=!u[p+1],m=y?a+s-f:u[p+1]-f;if(m<=0)return null;var g=p%r.length;return R.createElement("rect",{key:"react-".concat(p),x:f,y:o,width:m,height:l,stroke:"none",fill:r[g],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var U9=function(t,n){var r=t.xAxis,i=t.width,a=t.height,o=t.offset;return aC(Bv(bt(bt(bt({},ua.defaultProps),r),{},{ticks:Rn(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},z9=function(t,n){var r=t.yAxis,i=t.width,a=t.height,o=t.offset;return aC(Bv(bt(bt(bt({},ua.defaultProps),r),{},{ticks:Rn(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},ai={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function GC(e){var t,n,r,i,a,o,s=qv(),l=Lv(),c=NG(),u=bt(bt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ai.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:ai.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:ai.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:ai.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:ai.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:ai.verticalFill,x:Z(e.x)?e.x:c.left,y:Z(e.y)?e.y:c.top,width:Z(e.width)?e.width:c.width,height:Z(e.height)?e.height:c.height}),d=u.x,f=u.y,p=u.width,y=u.height,m=u.syncWithTicks,g=u.horizontalValues,w=u.verticalValues,b=OG(),S=CG();if(!Z(p)||p<=0||!Z(y)||y<=0||!Z(d)||d!==+d||!Z(f)||f!==+f)return null;var A=u.verticalCoordinatesGenerator||U9,v=u.horizontalCoordinatesGenerator||z9,_=u.horizontalPoints,T=u.verticalPoints;if((!_||!_.length)&&ve(v)){var j=g&&g.length,P=v({yAxis:S?bt(bt({},S),{},{ticks:j?g:S.ticks}):void 0,width:s,height:l,offset:c},j?!0:m);qn(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Yr(P),"]")),Array.isArray(P)&&(_=P)}if((!T||!T.length)&&ve(A)){var O=w&&w.length,I=A({xAxis:b?bt(bt({},b),{},{ticks:O?w:b.ticks}):void 0,width:s,height:l,offset:c},O?!0:m);qn(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Yr(I),"]")),Array.isArray(I)&&(T=I)}return R.createElement("g",{className:"recharts-cartesian-grid"},R.createElement(F9,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),R.createElement(B9,Mr({},u,{offset:c,horizontalPoints:_,xAxis:b,yAxis:S})),R.createElement(W9,Mr({},u,{offset:c,verticalPoints:T,xAxis:b,yAxis:S})),R.createElement(V9,Mr({},u,{horizontalPoints:_})),R.createElement(H9,Mr({},u,{verticalPoints:T})))}GC.displayName="CartesianGrid";function Wi(e){"@babel/helpers - typeof";return Wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wi(e)}function G9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XC(r.key),r)}}function K9(e,t,n){return t&&Y9(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function X9(e,t,n){return t=Wl(t),Q9(e,YC()?Reflect.construct(t,n||[],Wl(e).constructor):t.apply(e,n))}function Q9(e,t){if(t&&(Wi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J9(e)}function J9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YC=function(){return!!e})()}function Wl(e){return Wl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wl(e)}function Z9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bg(e,t)}function bg(e,t){return bg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bg(e,t)}function KC(e,t,n){return t=XC(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XC(e){var t=eY(e,"string");return Wi(t)=="symbol"?t:t+""}function eY(e,t){if(Wi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Wi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wg.apply(this,arguments)}function tY(e){var t=e.xAxisId,n=qv(),r=Lv(),i=RC(t);return i==null?null:R.createElement(ua,wg({},i,{className:Pe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Rn(o,!0)}}))}var Kc=(function(e){function t(){return G9(this,t),X9(this,t,arguments)}return Z9(t,e),K9(t,[{key:"render",value:function(){return R.createElement(tY,this.props)}}])})(R.Component);KC(Kc,"displayName","XAxis");KC(Kc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Vi(e){"@babel/helpers - typeof";return Vi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vi(e)}function nY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZC(r.key),r)}}function iY(e,t,n){return t&&rY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aY(e,t,n){return t=Vl(t),oY(e,QC()?Reflect.construct(t,n||[],Vl(e).constructor):t.apply(e,n))}function oY(e,t){if(t&&(Vi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sY(e)}function sY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QC=function(){return!!e})()}function Vl(e){return Vl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vl(e)}function lY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xg(e,t)}function xg(e,t){return xg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xg(e,t)}function JC(e,t,n){return t=ZC(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZC(e){var t=cY(e,"string");return Vi(t)=="symbol"?t:t+""}function cY(e,t){if(Vi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sg.apply(this,arguments)}var uY=function(t){var n=t.yAxisId,r=qv(),i=Lv(),a=DC(n);return a==null?null:R.createElement(ua,Sg({},a,{className:Pe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Rn(s,!0)}}))},Xc=(function(e){function t(){return nY(this,t),aY(this,t,arguments)}return lY(t,e),iY(t,[{key:"render",value:function(){return R.createElement(uY,this.props)}}])})(R.Component);JC(Xc,"displayName","YAxis");JC(Xc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function HA(e){return pY(e)||fY(e)||hY(e)||dY()}function dY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hY(e,t){if(e){if(typeof e=="string")return _g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _g(e,t)}}function fY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pY(e){if(Array.isArray(e))return _g(e)}function _g(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ag=function(t,n,r,i,a){var o=un(t,Fv),s=un(t,zc),l=[].concat(HA(o),HA(s)),c=un(t,Yc),u="".concat(i,"Id"),d=i[0],f=n;if(l.length&&(f=l.reduce(function(m,g){if(g.props[u]===r&&Sn(g.props,"extendDomain")&&Z(g.props[d])){var w=g.props[d];return[Math.min(m[0],w),Math.max(m[1],w)]}return m},f)),c.length){var p="".concat(d,"1"),y="".concat(d,"2");f=c.reduce(function(m,g){if(g.props[u]===r&&Sn(g.props,"extendDomain")&&Z(g.props[p])&&Z(g.props[y])){var w=g.props[p],b=g.props[y];return[Math.min(m[0],w,b),Math.max(m[1],w,b)]}return m},f)}return a&&a.length&&(f=a.reduce(function(m,g){return Z(g)?[Math.min(m[0],g),Math.max(m[1],g)]:m},f)),f},Mp={exports:{}},UA;function mY(){return UA||(UA=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,d||l,f),y=n?n+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],p]:l._events[y].push(p):(l._events[y]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)t.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,y=new Array(p);f<p;f++)y[f]=d[f].fn;return y},s.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,u,d,f,p,y){var m=n?n+c:c;if(!this._events[m])return!1;var g=this._events[m],w=arguments.length,b,S;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),w){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,d),!0;case 4:return g.fn.call(g.context,u,d,f),!0;case 5:return g.fn.call(g.context,u,d,f,p),!0;case 6:return g.fn.call(g.context,u,d,f,p,y),!0}for(S=1,b=new Array(w-1);S<w;S++)b[S-1]=arguments[S];g.fn.apply(g.context,b)}else{var A=g.length,v;for(S=0;S<A;S++)switch(g[S].once&&this.removeListener(c,g[S].fn,void 0,!0),w){case 1:g[S].fn.call(g[S].context);break;case 2:g[S].fn.call(g[S].context,u);break;case 3:g[S].fn.call(g[S].context,u,d);break;case 4:g[S].fn.call(g[S].context,u,d,f);break;default:if(!b)for(v=1,b=new Array(w-1);v<w;v++)b[v-1]=arguments[v];g[S].fn.apply(g[S].context,b)}}return!0},s.prototype.on=function(c,u,d){return a(this,c,u,d,!1)},s.prototype.once=function(c,u,d){return a(this,c,u,d,!0)},s.prototype.removeListener=function(c,u,d,f){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===u&&(!f||y.once)&&(!d||y.context===d)&&o(this,p);else{for(var m=0,g=[],w=y.length;m<w;m++)(y[m].fn!==u||f&&!y[m].once||d&&y[m].context!==d)&&g.push(y[m]);g.length?this._events[p]=g.length===1?g[0]:g:o(this,p)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(Mp)),Mp.exports}var gY=mY();const yY=Ce(gY);var Rp=new yY,Dp="recharts.syncMouseEvents";function Co(e){"@babel/helpers - typeof";return Co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Co(e)}function vY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eE(r.key),r)}}function wY(e,t,n){return t&&bY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qp(e,t,n){return t=eE(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eE(e){var t=xY(e,"string");return Co(t)=="symbol"?t:t+""}function xY(e,t){if(Co(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Co(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var SY=(function(){function e(){vY(this,e),qp(this,"activeIndex",0),qp(this,"coordinateList",[]),qp(this,"layout","horizontal")}return wY(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,c=l===void 0?null:l,u=n.offset,d=u===void 0?null:u,f=n.mouseHandlerCallback,p=f===void 0?null:f;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=a+l+c,f=o+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:d,pageY:f})}}}])})();function _Y(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e?.[0],i=e?.[1];if(r&&i&&Z(r)&&Z(i))return!0}return!1}function AY(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function tE(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,a=e.endAngle,o=ft(t,n,r,i),s=ft(t,n,r,a);return{points:[o,s],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function TY(e,t,n){var r,i,a,o;if(e==="horizontal")r=t.x,a=r,i=n.top,o=n.top+n.height;else if(e==="vertical")i=t.y,o=i,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,f=ft(s,l,c,d),p=ft(s,l,u,d);r=f.x,i=f.y,a=p.x,o=p.y}else return tE(t);return[{x:r,y:i},{x:a,y:o}]}function Eo(e){"@babel/helpers - typeof";return Eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eo(e)}function zA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _s(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(n),!0).forEach(function(r){jY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jY(e,t,n){return t=PY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PY(e){var t=IY(e,"string");return Eo(t)=="symbol"?t:t+""}function IY(e,t){if(Eo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Eo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kY(e){var t,n,r=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,d=e.layout,f=e.chartName,p=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!o||f!=="ScatterChart"&&i!=="axis")return null;var y,m=__;if(f==="ScatterChart")y=o,m=F6;else if(f==="BarChart")y=AY(d,o,l,u),m=Nv;else if(d==="radial"){var g=tE(o),w=g.cx,b=g.cy,S=g.radius,A=g.startAngle,v=g.endAngle;y={cx:w,cy:b,startAngle:A,endAngle:v,innerRadius:S,outerRadius:S},m=uC}else y={points:TY(d,o,l)},m=__;var _=_s(_s(_s(_s({stroke:"#ccc",pointerEvents:"none"},l),y),_e(p,!1)),{},{payload:s,payloadIndex:c,className:Pe("recharts-tooltip-cursor",p.className)});return x.isValidElement(p)?x.cloneElement(p,_):x.createElement(m,_)}var OY=["item"],CY=["children","className","width","height","style","compact","title","desc"];function Hi(e){"@babel/helpers - typeof";return Hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hi(e)}function ci(){return ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ci.apply(this,arguments)}function GA(e,t){return MY(e)||NY(e,t)||rE(e,t)||EY()}function EY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NY(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function MY(e){if(Array.isArray(e))return e}function YA(e,t){if(e==null)return{};var n=RY(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function RY(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function DY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iE(r.key),r)}}function LY(e,t,n){return t&&qY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Y(e,t,n){return t=Hl(t),FY(e,nE()?Reflect.construct(t,n||[],Hl(e).constructor):t.apply(e,n))}function FY(e,t){if(t&&(Hi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BY(e)}function BY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nE=function(){return!!e})()}function Hl(e){return Hl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hl(e)}function WY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tg(e,t)}function Tg(e,t){return Tg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tg(e,t)}function Ui(e){return UY(e)||HY(e)||rE(e)||VY()}function VY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rE(e,t){if(e){if(typeof e=="string")return jg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jg(e,t)}}function HY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UY(e){if(Array.isArray(e))return jg(e)}function jg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(n),!0).forEach(function(r){le(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function le(e,t,n){return t=iE(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iE(e){var t=zY(e,"string");return Hi(t)=="symbol"?t:t+""}function zY(e,t){if(Hi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GY={xAxis:["bottom","top"],yAxis:["left","right"]},YY={width:"100%",height:"100%"},aE={x:0,y:0};function As(e){return e}var KY=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},XY=function(t,n,r,i){var a=n.find(function(u){return u&&u.index===r});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,s=i.radius;return H(H(H({},i),ft(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,c=i.angle;return H(H(H({},i),ft(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return aE},Qc=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Ui(s),Ui(c)):s},[]);return o.length>0?o:t&&t.length&&Z(i)&&Z(a)?t.slice(i,a+1):[]};function oE(e){return e==="number"?[0,"auto"]:void 0}var Pg=function(t,n,r,i){var a=t.graphicalItems,o=t.tooltipAxis,s=Qc(n,t);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:n;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var p=d===void 0?s:d;f=fm(p,o.dataKey,i)}else f=d&&d[r]||s[r];return f?[].concat(Ui(l),[sC(c,f)]):l},[])},XA=function(t,n,r,i){var a=i||{x:t.chartX,y:t.chartY},o=KY(a,r),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=_3(o,s,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,f=Pg(t,n,u,d),p=XY(r,s,u,a);return{activeTooltipIndex:u,activeLabel:d,activePayload:f,activeCoordinate:p}}return null},QY=function(t,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=t.layout,d=t.children,f=t.stackOffset,p=iC(u,a);return r.reduce(function(y,m){var g,w=m.type.defaultProps!==void 0?H(H({},m.type.defaultProps),m.props):m.props,b=w.type,S=w.dataKey,A=w.allowDataOverflow,v=w.allowDuplicatedCategory,_=w.scale,T=w.ticks,j=w.includeHidden,P=w[o];if(y[P])return y;var O=Qc(t.data,{graphicalItems:i.filter(function(U){var ae,he=o in U.props?U.props[o]:(ae=U.type.defaultProps)===null||ae===void 0?void 0:ae[o];return he===P}),dataStartIndex:l,dataEndIndex:c}),I=O.length,k,E,C;_Y(w.domain,A,b)&&(k=Gm(w.domain,null,A),p&&(b==="number"||_!=="auto")&&(C=$a(O,S,"category")));var M=oE(b);if(!k||k.length===0){var D,q=(D=w.domain)!==null&&D!==void 0?D:M;if(S){if(k=$a(O,S,b),b==="category"&&p){var $=m$(k);v&&$?(E=k,k=El(0,I)):v||(k=c_(q,k,m).reduce(function(U,ae){return U.indexOf(ae)>=0?U:[].concat(Ui(U),[ae])},[]))}else if(b==="category")v?k=k.filter(function(U){return U!==""&&!je(U)}):k=c_(q,k,m).reduce(function(U,ae){return U.indexOf(ae)>=0||ae===""||je(ae)?U:[].concat(Ui(U),[ae])},[]);else if(b==="number"){var W=I3(O,i.filter(function(U){var ae,he,ye=o in U.props?U.props[o]:(ae=U.type.defaultProps)===null||ae===void 0?void 0:ae[o],fe="hide"in U.props?U.props.hide:(he=U.type.defaultProps)===null||he===void 0?void 0:he.hide;return ye===P&&(j||!fe)}),S,a,u);W&&(k=W)}p&&(b==="number"||_!=="auto")&&(C=$a(O,S,"category"))}else p?k=El(0,I):s&&s[P]&&s[P].hasStack&&b==="number"?k=f==="expand"?[0,1]:oC(s[P].stackGroups,l,c):k=rC(O,i.filter(function(U){var ae=o in U.props?U.props[o]:U.type.defaultProps[o],he="hide"in U.props?U.props.hide:U.type.defaultProps.hide;return ae===P&&(j||!he)}),b,u,!0);if(b==="number")k=Ag(d,k,P,a,T),q&&(k=Gm(q,k,A));else if(b==="category"&&q){var V=q,z=k.every(function(U){return V.indexOf(U)>=0});z&&(k=V)}}return H(H({},y),{},le({},P,H(H({},w),{},{axisType:a,domain:k,categoricalDomain:C,duplicateDomain:E,originalDomain:(g=w.domain)!==null&&g!==void 0?g:M,isCategorical:p,layout:u})))},{})},JY=function(t,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=t.layout,d=t.children,f=Qc(t.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),p=f.length,y=iC(u,a),m=-1;return r.reduce(function(g,w){var b=w.type.defaultProps!==void 0?H(H({},w.type.defaultProps),w.props):w.props,S=b[o],A=oE("number");if(!g[S]){m++;var v;return y?v=El(0,p):s&&s[S]&&s[S].hasStack?(v=oC(s[S].stackGroups,l,c),v=Ag(d,v,S,a)):(v=Gm(A,rC(f,r.filter(function(_){var T,j,P=o in _.props?_.props[o]:(T=_.type.defaultProps)===null||T===void 0?void 0:T[o],O="hide"in _.props?_.props.hide:(j=_.type.defaultProps)===null||j===void 0?void 0:j.hide;return P===S&&!O}),"number",u),i.defaultProps.allowDataOverflow),v=Ag(d,v,S,a)),H(H({},g),{},le({},S,H(H({axisType:a},i.defaultProps),{},{hide:!0,orientation:Qt(GY,"".concat(a,".").concat(m%2),null),domain:v,originalDomain:A,isCategorical:y,layout:u})))}return g},{})},ZY=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=t.children,d="".concat(i,"Id"),f=un(u,a),p={};return f&&f.length?p=QY(t,{axes:f,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(p=JY(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},e7=function(t){var n=tr(t),r=Rn(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:av(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:_l(n,r)}},QA=function(t){var n=t.children,r=t.defaultShowTooltip,i=Rt(n,Di),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},t7=function(t){return!t||!t.length?!1:t.some(function(n){var r=Dn(n&&n.type);return r&&r.indexOf("Bar")>=0})},JA=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},n7=function(t,n){var r=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,s=t.yAxisMap,l=s===void 0?{}:s,c=r.width,u=r.height,d=r.children,f=r.margin||{},p=Rt(d,Di),y=Rt(d,vi),m=Object.keys(l).reduce(function(v,_){var T=l[_],j=T.orientation;return!T.mirror&&!T.hide?H(H({},v),{},le({},j,v[j]+T.width)):v},{left:f.left||0,right:f.right||0}),g=Object.keys(o).reduce(function(v,_){var T=o[_],j=T.orientation;return!T.mirror&&!T.hide?H(H({},v),{},le({},j,Qt(v,"".concat(j))+T.height)):v},{top:f.top||0,bottom:f.bottom||0}),w=H(H({},g),m),b=w.bottom;p&&(w.bottom+=p.props.height||Di.defaultProps.height),y&&n&&(w=j3(w,i,r,n));var S=c-w.left-w.right,A=u-w.top-w.bottom;return H(H({brushBottom:b},w),{},{width:Math.max(S,0),height:Math.max(A,0)})},r7=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},i7=function(t){var n=t.chartName,r=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,d=t.defaultProps,f=function(w,b){var S=b.graphicalItems,A=b.stackGroups,v=b.offset,_=b.updateId,T=b.dataStartIndex,j=b.dataEndIndex,P=w.barSize,O=w.layout,I=w.barGap,k=w.barCategoryGap,E=w.maxBarSize,C=JA(O),M=C.numericAxisName,D=C.cateAxisName,q=t7(S),$=[];return S.forEach(function(W,V){var z=Qc(w.data,{graphicalItems:[W],dataStartIndex:T,dataEndIndex:j}),U=W.type.defaultProps!==void 0?H(H({},W.type.defaultProps),W.props):W.props,ae=U.dataKey,he=U.maxBarSize,ye=U["".concat(M,"Id")],fe=U["".concat(D,"Id")],ne={},ue=l.reduce(function(Q,K){var Y=b["".concat(K.axisType,"Map")],ee=U["".concat(K.axisType,"Id")];Y&&Y[ee]||K.axisType==="zAxis"||Gr();var se=Y[ee];return H(H({},Q),{},le(le({},K.axisType,se),"".concat(K.axisType,"Ticks"),Rn(se)))},ne),G=ue[D],X=ue["".concat(D,"Ticks")],J=A&&A[ye]&&A[ye].hasStack&&F3(W,A[ye].stackGroups),B=Dn(W.type).indexOf("Bar")>=0,me=_l(G,X),de=[],Ee=q&&A3({barSize:P,stackGroups:A,totalSize:r7(ue,D)});if(B){var Me,Re,N=je(he)?E:he,L=(Me=(Re=_l(G,X,!0))!==null&&Re!==void 0?Re:N)!==null&&Me!==void 0?Me:0;de=T3({barGap:I,barCategoryGap:k,bandSize:L!==me?L:me,sizeList:Ee[fe],maxBarSize:N}),L!==me&&(de=de.map(function(Q){return H(H({},Q),{},{position:H(H({},Q.position),{},{offset:Q.position.offset-L/2})})}))}var F=W&&W.type&&W.type.getComposedData;F&&$.push({props:H(H({},F(H(H({},ue),{},{displayedData:z,props:w,dataKey:ae,item:W,bandSize:me,barPosition:de,offset:v,stackedData:J,layout:O,dataStartIndex:T,dataEndIndex:j}))),{},le(le(le({key:W.key||"item-".concat(V)},M,ue[M]),D,ue[D]),"animationId",_)),childIndex:j$(W,w.children),item:W})}),$},p=function(w,b){var S=w.props,A=w.dataStartIndex,v=w.dataEndIndex,_=w.updateId;if(!Ax({props:S}))return null;var T=S.children,j=S.layout,P=S.stackOffset,O=S.data,I=S.reverseStackOrder,k=JA(j),E=k.numericAxisName,C=k.cateAxisName,M=un(T,r),D=q3(O,M,"".concat(E,"Id"),"".concat(C,"Id"),P,I),q=l.reduce(function(U,ae){var he="".concat(ae.axisType,"Map");return H(H({},U),{},le({},he,ZY(S,H(H({},ae),{},{graphicalItems:M,stackGroups:ae.axisType===E&&D,dataStartIndex:A,dataEndIndex:v}))))},{}),$=n7(H(H({},q),{},{props:S,graphicalItems:M}),b?.legendBBox);Object.keys(q).forEach(function(U){q[U]=u(S,q[U],$,U.replace("Map",""),n)});var W=q["".concat(C,"Map")],V=e7(W),z=f(S,H(H({},q),{},{dataStartIndex:A,dataEndIndex:v,updateId:_,graphicalItems:M,stackGroups:D,offset:$}));return H(H({formattedGraphicalItems:z,graphicalItems:M,offset:$,stackGroups:D},V),q)},y=(function(g){function w(b){var S,A,v;return DY(this,w),v=$Y(this,w,[b]),le(v,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),le(v,"accessibilityManager",new SY),le(v,"handleLegendBBoxUpdate",function(_){if(_){var T=v.state,j=T.dataStartIndex,P=T.dataEndIndex,O=T.updateId;v.setState(H({legendBBox:_},p({props:v.props,dataStartIndex:j,dataEndIndex:P,updateId:O},H(H({},v.state),{},{legendBBox:_}))))}}),le(v,"handleReceiveSyncEvent",function(_,T,j){if(v.props.syncId===_){if(j===v.eventEmitterSymbol&&typeof v.props.syncMethod!="function")return;v.applySyncEvent(T)}}),le(v,"handleBrushChange",function(_){var T=_.startIndex,j=_.endIndex;if(T!==v.state.dataStartIndex||j!==v.state.dataEndIndex){var P=v.state.updateId;v.setState(function(){return H({dataStartIndex:T,dataEndIndex:j},p({props:v.props,dataStartIndex:T,dataEndIndex:j,updateId:P},v.state))}),v.triggerSyncEvent({dataStartIndex:T,dataEndIndex:j})}}),le(v,"handleMouseEnter",function(_){var T=v.getMouseInfo(_);if(T){var j=H(H({},T),{},{isTooltipActive:!0});v.setState(j),v.triggerSyncEvent(j);var P=v.props.onMouseEnter;ve(P)&&P(j,_)}}),le(v,"triggeredAfterMouseMove",function(_){var T=v.getMouseInfo(_),j=T?H(H({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};v.setState(j),v.triggerSyncEvent(j);var P=v.props.onMouseMove;ve(P)&&P(j,_)}),le(v,"handleItemMouseEnter",function(_){v.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),le(v,"handleItemMouseLeave",function(){v.setState(function(){return{isTooltipActive:!1}})}),le(v,"handleMouseMove",function(_){_.persist(),v.throttleTriggeredAfterMouseMove(_)}),le(v,"handleMouseLeave",function(_){v.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};v.setState(T),v.triggerSyncEvent(T);var j=v.props.onMouseLeave;ve(j)&&j(T,_)}),le(v,"handleOuterEvent",function(_){var T=T$(_),j=Qt(v.props,"".concat(T));if(T&&ve(j)){var P,O;/.*touch.*/i.test(T)?O=v.getMouseInfo(_.changedTouches[0]):O=v.getMouseInfo(_),j((P=O)!==null&&P!==void 0?P:{},_)}}),le(v,"handleClick",function(_){var T=v.getMouseInfo(_);if(T){var j=H(H({},T),{},{isTooltipActive:!0});v.setState(j),v.triggerSyncEvent(j);var P=v.props.onClick;ve(P)&&P(j,_)}}),le(v,"handleMouseDown",function(_){var T=v.props.onMouseDown;if(ve(T)){var j=v.getMouseInfo(_);T(j,_)}}),le(v,"handleMouseUp",function(_){var T=v.props.onMouseUp;if(ve(T)){var j=v.getMouseInfo(_);T(j,_)}}),le(v,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&v.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),le(v,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&v.handleMouseDown(_.changedTouches[0])}),le(v,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&v.handleMouseUp(_.changedTouches[0])}),le(v,"handleDoubleClick",function(_){var T=v.props.onDoubleClick;if(ve(T)){var j=v.getMouseInfo(_);T(j,_)}}),le(v,"handleContextMenu",function(_){var T=v.props.onContextMenu;if(ve(T)){var j=v.getMouseInfo(_);T(j,_)}}),le(v,"triggerSyncEvent",function(_){v.props.syncId!==void 0&&Rp.emit(Dp,v.props.syncId,_,v.eventEmitterSymbol)}),le(v,"applySyncEvent",function(_){var T=v.props,j=T.layout,P=T.syncMethod,O=v.state.updateId,I=_.dataStartIndex,k=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)v.setState(H({dataStartIndex:I,dataEndIndex:k},p({props:v.props,dataStartIndex:I,dataEndIndex:k,updateId:O},v.state)));else if(_.activeTooltipIndex!==void 0){var E=_.chartX,C=_.chartY,M=_.activeTooltipIndex,D=v.state,q=D.offset,$=D.tooltipTicks;if(!q)return;if(typeof P=="function")M=P($,_);else if(P==="value"){M=-1;for(var W=0;W<$.length;W++)if($[W].value===_.activeLabel){M=W;break}}var V=H(H({},q),{},{x:q.left,y:q.top}),z=Math.min(E,V.x+V.width),U=Math.min(C,V.y+V.height),ae=$[M]&&$[M].value,he=Pg(v.state,v.props.data,M),ye=$[M]?{x:j==="horizontal"?$[M].coordinate:z,y:j==="horizontal"?U:$[M].coordinate}:aE;v.setState(H(H({},_),{},{activeLabel:ae,activeCoordinate:ye,activePayload:he,activeTooltipIndex:M}))}else v.setState(_)}),le(v,"renderCursor",function(_){var T,j=v.state,P=j.isTooltipActive,O=j.activeCoordinate,I=j.activePayload,k=j.offset,E=j.activeTooltipIndex,C=j.tooltipAxisBandSize,M=v.getTooltipEventType(),D=(T=_.props.active)!==null&&T!==void 0?T:P,q=v.props.layout,$=_.key||"_recharts-cursor";return R.createElement(kY,{key:$,activeCoordinate:O,activePayload:I,activeTooltipIndex:E,chartName:n,element:_,isActive:D,layout:q,offset:k,tooltipAxisBandSize:C,tooltipEventType:M})}),le(v,"renderPolarAxis",function(_,T,j){var P=Qt(_,"type.axisType"),O=Qt(v.state,"".concat(P,"Map")),I=_.type.defaultProps,k=I!==void 0?H(H({},I),_.props):_.props,E=O&&O[k["".concat(P,"Id")]];return x.cloneElement(_,H(H({},E),{},{className:Pe(P,E.className),key:_.key||"".concat(T,"-").concat(j),ticks:Rn(E,!0)}))}),le(v,"renderPolarGrid",function(_){var T=_.props,j=T.radialLines,P=T.polarAngles,O=T.polarRadius,I=v.state,k=I.radiusAxisMap,E=I.angleAxisMap,C=tr(k),M=tr(E),D=M.cx,q=M.cy,$=M.innerRadius,W=M.outerRadius;return x.cloneElement(_,{polarAngles:Array.isArray(P)?P:Rn(M,!0).map(function(V){return V.coordinate}),polarRadius:Array.isArray(O)?O:Rn(C,!0).map(function(V){return V.coordinate}),cx:D,cy:q,innerRadius:$,outerRadius:W,key:_.key||"polar-grid",radialLines:j})}),le(v,"renderLegend",function(){var _=v.state.formattedGraphicalItems,T=v.props,j=T.children,P=T.width,O=T.height,I=v.props.margin||{},k=P-(I.left||0)-(I.right||0),E=tC({children:j,formattedGraphicalItems:_,legendWidth:k,legendContent:c});if(!E)return null;var C=E.item,M=YA(E,OY);return x.cloneElement(C,H(H({},M),{},{chartWidth:P,chartHeight:O,margin:I,onBBoxUpdate:v.handleLegendBBoxUpdate}))}),le(v,"renderTooltip",function(){var _,T=v.props,j=T.children,P=T.accessibilityLayer,O=Rt(j,pn);if(!O)return null;var I=v.state,k=I.isTooltipActive,E=I.activeCoordinate,C=I.activePayload,M=I.activeLabel,D=I.offset,q=(_=O.props.active)!==null&&_!==void 0?_:k;return x.cloneElement(O,{viewBox:H(H({},D),{},{x:D.left,y:D.top}),active:q,label:M,payload:q?C:[],coordinate:E,accessibilityLayer:P})}),le(v,"renderBrush",function(_){var T=v.props,j=T.margin,P=T.data,O=v.state,I=O.offset,k=O.dataStartIndex,E=O.dataEndIndex,C=O.updateId;return x.cloneElement(_,{key:_.key||"_recharts-brush",onChange:bs(v.handleBrushChange,_.props.onChange),data:P,x:Z(_.props.x)?_.props.x:I.left,y:Z(_.props.y)?_.props.y:I.top+I.height+I.brushBottom-(j.bottom||0),width:Z(_.props.width)?_.props.width:I.width,startIndex:k,endIndex:E,updateId:"brush-".concat(C)})}),le(v,"renderReferenceElement",function(_,T,j){if(!_)return null;var P=v,O=P.clipPathId,I=v.state,k=I.xAxisMap,E=I.yAxisMap,C=I.offset,M=_.type.defaultProps||{},D=_.props,q=D.xAxisId,$=q===void 0?M.xAxisId:q,W=D.yAxisId,V=W===void 0?M.yAxisId:W;return x.cloneElement(_,{key:_.key||"".concat(T,"-").concat(j),xAxis:k[$],yAxis:E[V],viewBox:{x:C.left,y:C.top,width:C.width,height:C.height},clipPathId:O})}),le(v,"renderActivePoints",function(_){var T=_.item,j=_.activePoint,P=_.basePoint,O=_.childIndex,I=_.isRange,k=[],E=T.props.key,C=T.item.type.defaultProps!==void 0?H(H({},T.item.type.defaultProps),T.item.props):T.item.props,M=C.activeDot,D=C.dataKey,q=H(H({index:O,dataKey:D,cx:j.x,cy:j.y,r:4,fill:Ev(T.item),strokeWidth:2,stroke:"#fff",payload:j.payload,value:j.value},_e(M,!1)),Qs(M));return k.push(w.renderActiveDot(M,q,"".concat(E,"-activePoint-").concat(O))),P?k.push(w.renderActiveDot(M,H(H({},q),{},{cx:P.x,cy:P.y}),"".concat(E,"-basePoint-").concat(O))):I&&k.push(null),k}),le(v,"renderGraphicChild",function(_,T,j){var P=v.filterFormatItem(_,T,j);if(!P)return null;var O=v.getTooltipEventType(),I=v.state,k=I.isTooltipActive,E=I.tooltipAxis,C=I.activeTooltipIndex,M=I.activeLabel,D=v.props.children,q=Rt(D,pn),$=P.props,W=$.points,V=$.isRange,z=$.baseLine,U=P.item.type.defaultProps!==void 0?H(H({},P.item.type.defaultProps),P.item.props):P.item.props,ae=U.activeDot,he=U.hide,ye=U.activeBar,fe=U.activeShape,ne=!!(!he&&k&&q&&(ae||ye||fe)),ue={};O!=="axis"&&q&&q.props.trigger==="click"?ue={onClick:bs(v.handleItemMouseEnter,_.props.onClick)}:O!=="axis"&&(ue={onMouseLeave:bs(v.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:bs(v.handleItemMouseEnter,_.props.onMouseEnter)});var G=x.cloneElement(_,H(H({},P.props),ue));function X(K){return typeof E.dataKey=="function"?E.dataKey(K.payload):null}if(ne)if(C>=0){var J,B;if(E.dataKey&&!E.allowDuplicatedCategory){var me=typeof E.dataKey=="function"?X:"payload.".concat(E.dataKey.toString());J=fm(W,me,M),B=V&&z&&fm(z,me,M)}else J=W?.[C],B=V&&z&&z[C];if(fe||ye){var de=_.props.activeIndex!==void 0?_.props.activeIndex:C;return[x.cloneElement(_,H(H(H({},P.props),ue),{},{activeIndex:de})),null,null]}if(!je(J))return[G].concat(Ui(v.renderActivePoints({item:P,activePoint:J,basePoint:B,childIndex:C,isRange:V})))}else{var Ee,Me=(Ee=v.getItemByXY(v.state.activeCoordinate))!==null&&Ee!==void 0?Ee:{graphicalItem:G},Re=Me.graphicalItem,N=Re.item,L=N===void 0?_:N,F=Re.childIndex,Q=H(H(H({},P.props),ue),{},{activeIndex:F});return[x.cloneElement(L,Q),null,null]}return V?[G,null,null]:[G,null]}),le(v,"renderCustomized",function(_,T,j){return x.cloneElement(_,H(H({key:"recharts-customized-".concat(j)},v.props),v.state))}),le(v,"renderMap",{CartesianGrid:{handler:As,once:!0},ReferenceArea:{handler:v.renderReferenceElement},ReferenceLine:{handler:As},ReferenceDot:{handler:v.renderReferenceElement},XAxis:{handler:As},YAxis:{handler:As},Brush:{handler:v.renderBrush,once:!0},Bar:{handler:v.renderGraphicChild},Line:{handler:v.renderGraphicChild},Area:{handler:v.renderGraphicChild},Radar:{handler:v.renderGraphicChild},RadialBar:{handler:v.renderGraphicChild},Scatter:{handler:v.renderGraphicChild},Pie:{handler:v.renderGraphicChild},Funnel:{handler:v.renderGraphicChild},Tooltip:{handler:v.renderCursor,once:!0},PolarGrid:{handler:v.renderPolarGrid,once:!0},PolarAngleAxis:{handler:v.renderPolarAxis},PolarRadiusAxis:{handler:v.renderPolarAxis},Customized:{handler:v.renderCustomized}}),v.clipPathId="".concat((S=b.id)!==null&&S!==void 0?S:_c("recharts"),"-clip"),v.throttleTriggeredAfterMouseMove=eO(v.triggeredAfterMouseMove,(A=b.throttleDelay)!==null&&A!==void 0?A:1e3/60),v.state={},v}return WY(w,g),LY(w,[{key:"componentDidMount",value:function(){var S,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,A=S.children,v=S.data,_=S.height,T=S.layout,j=Rt(A,pn);if(j){var P=j.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,I=Pg(this.state,v,P,O),k=this.state.tooltipTicks[P].coordinate,E=(this.state.offset.top+_)/2,C=T==="horizontal",M=C?{x:k,y:E}:{y:k,x:E},D=this.state.formattedGraphicalItems.find(function($){var W=$.item;return W.type.name==="Scatter"});D&&(M=H(H({},M),D.props.points[P].tooltipPosition),I=D.props.points[P].tooltipPayload);var q={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:O,activePayload:I,activeCoordinate:M};this.setState(q),this.renderCursor(j),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var v,_;this.accessibilityManager.setDetails({offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(S){mm([Rt(S.children,pn)],[Rt(this.props.children,pn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Rt(this.props.children,pn);if(S&&typeof S.props.shared=="boolean"){var A=S.props.shared?"axis":"item";return s.indexOf(A)>=0?A:a}return a}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var A=this.container,v=A.getBoundingClientRect(),_=f5(v),T={chartX:Math.round(S.pageX-_.left),chartY:Math.round(S.pageY-_.top)},j=v.width/A.offsetWidth||1,P=this.inRange(T.chartX,T.chartY,j);if(!P)return null;var O=this.state,I=O.xAxisMap,k=O.yAxisMap,E=this.getTooltipEventType();if(E!=="axis"&&I&&k){var C=tr(I).scale,M=tr(k).scale,D=C&&C.invert?C.invert(T.chartX):null,q=M&&M.invert?M.invert(T.chartY):null;return H(H({},T),{},{xValue:D,yValue:q})}var $=XA(this.state,this.props.data,this.props.layout,P);return $?H(H({},T),$):null}},{key:"inRange",value:function(S,A){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,T=S/v,j=A/v;if(_==="horizontal"||_==="vertical"){var P=this.state.offset,O=T>=P.left&&T<=P.left+P.width&&j>=P.top&&j<=P.top+P.height;return O?{x:T,y:j}:null}var I=this.state,k=I.angleAxisMap,E=I.radiusAxisMap;if(k&&E){var C=tr(k);return h_({x:T,y:j},C)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,A=this.getTooltipEventType(),v=Rt(S,pn),_={};v&&A==="axis"&&(v.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Qs(this.props,this.handleOuterEvent);return H(H({},T),_)}},{key:"addListener",value:function(){Rp.on(Dp,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Rp.removeListener(Dp,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,A,v){for(var _=this.state.formattedGraphicalItems,T=0,j=_.length;T<j;T++){var P=_[T];if(P.item===S||P.props.key===S.key||A===Dn(P.item.type)&&v===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,A=this.state.offset,v=A.left,_=A.top,T=A.height,j=A.width;return R.createElement("defs",null,R.createElement("clipPath",{id:S},R.createElement("rect",{x:v,y:_,height:T,width:j})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(A,v){var _=GA(v,2),T=_[0],j=_[1];return H(H({},A),{},le({},T,j.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(A,v){var _=GA(v,2),T=_[0],j=_[1];return H(H({},A),{},le({},T,j.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[S])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(S){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[S])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(S){var A=this.state,v=A.formattedGraphicalItems,_=A.activeItem;if(v&&v.length)for(var T=0,j=v.length;T<j;T++){var P=v[T],O=P.props,I=P.item,k=I.type.defaultProps!==void 0?H(H({},I.type.defaultProps),I.props):I.props,E=Dn(I.type);if(E==="Bar"){var C=(O.data||[]).find(function($){return O6(S,$)});if(C)return{graphicalItem:P,payload:C}}else if(E==="RadialBar"){var M=(O.data||[]).find(function($){return h_(S,$)});if(M)return{graphicalItem:P,payload:M}}else if(Wc(P,_)||Vc(P,_)||jo(P,_)){var D=w8({graphicalItem:P,activeTooltipItem:_,itemData:k.data}),q=k.activeIndex===void 0?D:k.activeIndex;return{graphicalItem:H(H({},P),{},{childIndex:q}),payload:jo(P,_)?k.data[D]:P.props.data[D]}}}return null}},{key:"render",value:function(){var S=this;if(!Ax(this))return null;var A=this.props,v=A.children,_=A.className,T=A.width,j=A.height,P=A.style,O=A.compact,I=A.title,k=A.desc,E=YA(A,CY),C=_e(E,!1);if(O)return R.createElement(CA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement(ym,ci({},C,{width:T,height:j,title:I,desc:k}),this.renderClipPath(),jx(v,this.renderMap)));if(this.props.accessibilityLayer){var M,D;C.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,C.role=(D=this.props.role)!==null&&D!==void 0?D:"application",C.onKeyDown=function($){S.accessibilityManager.keyboardEvent($)},C.onFocus=function(){S.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return R.createElement(CA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement("div",ci({className:Pe("recharts-wrapper",_),style:H({position:"relative",cursor:"default",width:T,height:j},P)},q,{ref:function(W){S.container=W}}),R.createElement(ym,ci({},C,{width:T,height:j,title:I,desc:k,style:YY}),this.renderClipPath(),jx(v,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(x.Component);le(y,"displayName",n),le(y,"defaultProps",H({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),le(y,"getDerivedStateFromProps",function(g,w){var b=g.dataKey,S=g.data,A=g.children,v=g.width,_=g.height,T=g.layout,j=g.stackOffset,P=g.margin,O=w.dataStartIndex,I=w.dataEndIndex;if(w.updateId===void 0){var k=QA(g);return H(H(H({},k),{},{updateId:0},p(H(H({props:g},k),{},{updateId:0}),w)),{},{prevDataKey:b,prevData:S,prevWidth:v,prevHeight:_,prevLayout:T,prevStackOffset:j,prevMargin:P,prevChildren:A})}if(b!==w.prevDataKey||S!==w.prevData||v!==w.prevWidth||_!==w.prevHeight||T!==w.prevLayout||j!==w.prevStackOffset||!yi(P,w.prevMargin)){var E=QA(g),C={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},M=H(H({},XA(w,S,T)),{},{updateId:w.updateId+1}),D=H(H(H({},E),C),M);return H(H(H({},D),p(H({props:g},D),w)),{},{prevDataKey:b,prevData:S,prevWidth:v,prevHeight:_,prevLayout:T,prevStackOffset:j,prevMargin:P,prevChildren:A})}if(!mm(A,w.prevChildren)){var q,$,W,V,z=Rt(A,Di),U=z&&(q=($=z.props)===null||$===void 0?void 0:$.startIndex)!==null&&q!==void 0?q:O,ae=z&&(W=(V=z.props)===null||V===void 0?void 0:V.endIndex)!==null&&W!==void 0?W:I,he=U!==O||ae!==I,ye=!je(S),fe=ye&&!he?w.updateId:w.updateId+1;return H(H({updateId:fe},p(H(H({props:g},w),{},{updateId:fe,dataStartIndex:U,dataEndIndex:ae}),w)),{},{prevChildren:A,dataStartIndex:U,dataEndIndex:ae})}return null}),le(y,"renderActiveDot",function(g,w,b){var S;return x.isValidElement(g)?S=x.cloneElement(g,w):ve(g)?S=g(w):S=R.createElement(vC,w),R.createElement(ct,{className:"recharts-active-dot",key:b},S)});var m=x.forwardRef(function(w,b){return R.createElement(y,ci({},w,{ref:b}))});return m.displayName=y.displayName,m},a7=i7({chartName:"BarChart",GraphicalChild:ei,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Kc},{axisType:"yAxis",AxisComp:Xc}],formatAxisMap:gG});const o7={light:"",dark:".dark"},sE=x.createContext(null);function lE(){const e=x.useContext(sE);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const cE=x.forwardRef(({id:e,className:t,children:n,config:r,...i},a)=>{const o=x.useId(),s=`chart-${e||o.replace(/:/g,"")}`;return h.jsx(sE.Provider,{value:{config:r},children:h.jsxs("div",{"data-chart":s,ref:a,className:pe("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...i,children:[h.jsx(s7,{id:s,config:r}),h.jsx(o5,{children:n})]})})});cE.displayName="Chart";const s7=({id:e,config:t})=>{const n=Object.entries(t).filter(([,r])=>r.theme||r.color);return n.length?h.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(o7).map(([r,i])=>`
${i} [data-chart=${e}] {
${n.map(([a,o])=>{const s=o.theme?.[r]||o.color;return s?`  --color-${a}: ${s};`:null}).join(`
`)}
}
`).join(`
`)}}):null},l7=pn,uE=x.forwardRef(({active:e,payload:t,className:n,indicator:r="dot",hideLabel:i=!1,hideIndicator:a=!1,label:o,labelFormatter:s,labelClassName:l,formatter:c,color:u,nameKey:d,labelKey:f},p)=>{const{config:y}=lE(),m=x.useMemo(()=>{if(i||!t?.length)return null;const[w]=t,b=`${f||w.dataKey||w.name||"value"}`,S=Ig(y,w,b),A=!f&&typeof o=="string"?y[o]?.label||o:S?.label;return s?h.jsx("div",{className:pe("font-medium",l),children:s(A,t)}):A?h.jsx("div",{className:pe("font-medium",l),children:A}):null},[o,s,t,i,l,y,f]);if(!e||!t?.length)return null;const g=t.length===1&&r!=="dot";return h.jsxs("div",{ref:p,className:pe("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[g?null:m,h.jsx("div",{className:"grid gap-1.5",children:t.map((w,b)=>{const S=`${d||w.name||w.dataKey||"value"}`,A=Ig(y,w,S),v=u||w.payload.fill||w.color;return h.jsx("div",{className:pe("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",r==="dot"&&"items-center"),children:c&&w?.value!==void 0&&w.name?c(w.value,w.name,w,b,w.payload):h.jsxs(h.Fragment,{children:[A?.icon?h.jsx(A.icon,{}):!a&&h.jsx("div",{className:pe("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":r==="dot","w-1":r==="line","w-0 border-[1.5px] border-dashed bg-transparent":r==="dashed","my-0.5":g&&r==="dashed"}),style:{"--color-bg":v,"--color-border":v}}),h.jsxs("div",{className:pe("flex flex-1 justify-between leading-none",g?"items-end":"items-center"),children:[h.jsxs("div",{className:"grid gap-1.5",children:[g?m:null,h.jsx("span",{className:"text-muted-foreground",children:A?.label||w.name})]}),w.value&&h.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:w.value.toLocaleString()})]})]})},w.dataKey)})})]})});uE.displayName="ChartTooltip";const c7=x.forwardRef(({className:e,hideIcon:t=!1,payload:n,verticalAlign:r="bottom",nameKey:i},a)=>{const{config:o}=lE();return n?.length?h.jsx("div",{ref:a,className:pe("flex items-center justify-center gap-4",r==="top"?"pb-3":"pt-3",e),children:n.map(s=>{const l=`${i||s.dataKey||"value"}`,c=Ig(o,s,l);return h.jsxs("div",{className:pe("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[c?.icon&&!t?h.jsx(c.icon,{}):h.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:s.color}}),c?.label]},s.value)})}):null});c7.displayName="ChartLegend";function Ig(e,t,n){if(typeof t!="object"||t===null)return;const r="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let i=n;return n in t&&typeof t[n]=="string"?i=t[n]:r&&n in r&&typeof r[n]=="string"&&(i=r[n]),i in e?e[i]:e[n]}const u7=e=>h.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),h.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),d7=e=>h.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"m5 3-3 3 3 3"}),h.jsx("path",{d:"m19 17-3 3 3 3"}),h.jsx("path",{d:"M2 6h20"}),h.jsx("path",{d:"M22 18H2"}),h.jsx("path",{d:"m15 3-3 3 3 3"}),h.jsx("path",{d:"m9 17-3 3 3 3"})]}),h7=e=>h.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"m22 2-7 20-4-9-9-4Z"}),h.jsx("path",{d:"M22 2 11 13"})]}),f7=({text:e,specialWord:t,onSpecialWordClick:n,onRegularWordClick:r,translation:i})=>h.jsx(h.Fragment,{children:e.split(/(\s+)/).map((a,o)=>{const s=a.trim(),l=s.replace(/[^a-zA-Z]/g,"");if(!l)return h.jsx("span",{children:a},o);const c=t&&l.toLowerCase()===t.toLowerCase();return h.jsxs(ZP,{children:[h.jsx(eI,{asChild:!0,children:h.jsx("span",{onClick:()=>c?n(l):r(s),className:c?"font-bold text-purple-400 hover:text-purple-300 underline decoration-dotted underline-offset-4 cursor-pointer transition-colors":"cursor-pointer hover:bg-primary/20 rounded-sm transition-colors",children:a})}),!c&&i?.word===s&&h.jsx(Cy,{className:"w-auto p-2",side:"top",children:i.isLoading?h.jsx("div",{className:"text-sm",children:"..."}):h.jsx("div",{className:"text-sm font-semibold",children:i.text})})]},o)})}),p7=({storyHistory:e,onSendAction:t,onWordClick:n,onNarrativeWordClick:r,loading:i,error:a,translation:o,sceneImageUrl:s,loadingSceneImage:l})=>{const[c,u]=x.useState(""),d=x.useRef(null);x.useEffect(()=>{d.current&&(d.current.scrollTop=d.current.scrollHeight)},[e]);const f=m=>{m.preventDefault(),c.trim()&&(t(c),u(""))},p=m=>{t(m),u("")},y=e.slice().reverse().find(m=>m.sender==="ai");return h.jsxs("div",{className:"flex flex-col w-full h-full max-h-full",children:[(s||l)&&h.jsxs("div",{className:"relative w-full h-48 bg-gray-800 rounded-lg overflow-hidden mb-4 shrink-0",children:[l&&h.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-400"})}),s&&h.jsx(Yn,{src:s,alt:"Scene illustration",layout:"fill",objectFit:"cover",className:"transition-opacity duration-500 opacity-100"})]}),h.jsxs("div",{ref:d,className:"flex-grow overflow-y-auto pr-4 space-y-6",children:[e.map(m=>h.jsxs("div",{className:`flex items-start gap-4 ${m.sender==="user"?"justify-end":""}`,children:[m.sender==="ai"&&h.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-500/20 flex-shrink-0 flex items-center justify-center",children:h.jsx(d7,{className:"w-5 h-5 text-purple-400"})}),h.jsx("div",{className:`p-4 rounded-xl max-w-xl ${m.sender==="ai"?"bg-gray-800":"bg-blue-600/80"}`,children:h.jsx("p",{className:"text-white whitespace-pre-wrap",children:m.sender==="ai"?h.jsx(f7,{text:m.text,specialWord:m.vocabularyWord,onSpecialWordClick:n,onRegularWordClick:r,translation:o}):m.text})}),m.sender==="user"&&h.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500/20 flex-shrink-0 flex items-center justify-center",children:h.jsx(u7,{className:"w-5 h-5 text-blue-400"})})]},m.id)),i&&h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-500/20 flex-shrink-0 flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-purple-400"})}),h.jsx("div",{className:"p-4 rounded-xl bg-gray-800 max-w-xl",children:h.jsx("p",{className:"text-gray-400 italic",children:"The world pauses, awaiting your fate..."})})]}),a&&h.jsxs("div",{className:"p-4 rounded-lg bg-red-900/50 border border-red-700 text-red-300",children:[h.jsx("strong",{children:"Error:"})," ",a]})]}),h.jsxs("div",{className:"flex-shrink-0 pt-4 mt-auto",children:[y&&y.suggestions&&!i&&!y.gameOver&&h.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:y.suggestions.map((m,g)=>h.jsx("button",{onClick:()=>p(m),className:"px-3 py-1.5 bg-gray-700 hover:bg-gray-600 text-gray-300 rounded-full text-sm transition-colors",children:m},g))}),h.jsxs("form",{onSubmit:f,className:"flex items-center gap-2 bg-gray-800 rounded-lg p-2 border border-gray-700 focus-within:border-purple-500",children:[h.jsx("input",{type:"text",value:c,onChange:m=>u(m.target.value),placeholder:"What do you do next?",className:"flex-grow bg-transparent text-white placeholder-gray-500 focus:outline-none px-2",disabled:i||y?.gameOver}),h.jsx("button",{type:"submit",disabled:i||!c.trim()||y?.gameOver,className:"p-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:bg-gray-600 disabled:cursor-not-allowed transition-colors flex-shrink-0",children:h.jsx(h7,{className:"w-5 h-5"})})]})]})]})};function m7(e){const t=[],n={"(":")","[":"]","{":"}"};for(let r=0;r<e.length;r++){const i=e[r];if(n[i])t.push(i);else if(Object.values(n).includes(i)&&n[t.pop()]!==i)return!1}return t.length===0}async function dE(e){const n=await(await Ct({model:"@cf/meta/llama-3-8b-instruct",inputs:{messages:e}})).json();try{const r=n.result.response,i=r.indexOf("{"),a=r.lastIndexOf("}");if(i!==-1&&a!==-1){const o=r.substring(i,a+1);if(m7(o))return JSON.parse(o)}throw new Error("Incomplete or invalid JSON object found in response")}catch(r){throw console.error("Failed to parse JSON from Cloudflare AI:",n.result.response,r),new Error("Failed to parse JSON from AI response.")}}const g7=(e,t)=>`You are a world-class interactive fiction author and game master.
You will create a dynamic, branching text adventure IN ENGLISH for a language learner.
The story genre is ${e}.
Your response MUST be a single, valid, and complete JSON object with no other text before or after it.
The JSON object must adhere to the following schema:
- "narrative": A string of 1-2 paragraphs IN ENGLISH describing the current scene, events, and outcomes. It should be engaging, descriptive, and well-written.
- "imagePrompt": An optional, concise (5-10 words) and evocative text prompt IN ENGLISH for an image generation model, describing the key visual elements of the initial scene. THIS SHOULD ONLY BE INCLUDED FOR THE VERY FIRST NARRATIVE of the story (when history is empty).
- "newWord": An optional unique, plausible-sounding ENGLISH word relevant to the genre. Only invent a new word if the story history has more than ${t>0?t+2:2} entries.
- "promptSuggestions": An array of exactly 3 diverse and interesting strings IN ENGLISH for player actions.
- "gameOver": A boolean value, set to true only if the story has reached a definitive narrative conclusion.`,y7=we({narrative:te().describe("The main story text describing the current scene, events, and outcomes. Should be engaging and descriptive."),imagePrompt:te().optional().describe("A concise (5-10 words) prompt for an image generation model, describing the initial scene. Only included on the first turn."),newWord:te().optional().nullable().describe("A single, unique, and plausible-sounding new word relevant to the story's genre. Should be naturally integrated into the narrative."),promptSuggestions:Jt(te()).describe("An array of 3 diverse and interesting actions the player could take next."),gameOver:ty().describe("Set to true only if the story has reached a definitive end.")});we({action:ar(["start","continue"]),genre:te(),playerInput:te().optional(),history:Jt(we({id:oy(),sender:ar(["user","ai"]),text:te(),vocabularyWord:te().optional(),suggestions:Jt(te()).optional(),gameOver:ty().optional()})).optional()});const v7=async({action:e,genre:t,playerInput:n,history:r})=>{const i=g7(t,r?.length||0),a=(r||[]).map(l=>{if(l.sender==="ai"){const c={narrative:l.text,newWord:l.vocabularyWord,promptSuggestions:l.suggestions,gameOver:l.gameOver};return{role:"assistant",content:JSON.stringify(c)}}return{role:"user",content:l.text}}),o=e==="start"?"Start the adventure in English.":n||"Continue the story in English.",s=[{role:"system",content:i},...a,{role:"user",content:o}];try{const l=await dE(s);return y7.parse(l)}catch(l){const c=l instanceof Error?l.message:"An unknown error occurred.";throw console.error("Error in textAdventureFlow:",l),new Error(`The story could not be continued. AI failed with: ${c}`)}};we({word:te(),genre:te()});const b7=we({definition:te().describe("The English definition."),arabicWord:te().describe("The Arabic translation of the word."),arabicDefinition:te().describe("The Arabic translation of the English definition.")}),w7=async({word:e,genre:t})=>{const r=[{role:"user",content:`You are a creative linguist and an expert in both English and Arabic. For the fictional ${t} word "${e}", provide a JSON object with:
1.  "definition": A concise, dictionary-style definition in English.
2.  "arabicWord": A plausible, natural-sounding Arabic translation for the word itself.
3.  "arabicDefinition": A direct and accurate Arabic translation of the English definition.
Your output must be ONLY the valid and complete JSON object.`}];try{const i=await dE(r);return b7.parse(i)}catch(i){return console.error("Error in defineWordFlow:",i),{definition:"Could not retrieve definition.",arabicWord:"فشل",arabicDefinition:"تعذر استرداد التعريف."}}};we({word:te(),definition:te(),genre:te()});const x7=async({word:e,definition:t,genre:n})=>{const r=`A vivid, atmospheric, digital painting of "${e}", a concept from a ${n} world which means: "${t}". Focus on creating an iconic, visually striking image. Avoid text and borders.`;return{imageUrl:(await cc({prompt:r})).imageUrl}},S7=["fantasy","sci-fi","mystery","cyberpunk","steampunk","saudi-folklore"],_7=e=>{switch(e){case"fantasy":return"خيال";case"sci-fi":return"خيال علمي";case"mystery":return"غموض";case"cyberpunk":return"سايبربانك";case"steampunk":return"ستيمبنك";case"saudi-folklore":return"فولكلور سعودي";default:return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}};function A7(){const[e,t]=x.useState("setup"),[n,r]=x.useState([]),[i,a]=x.useState(null),[o,s]=x.useState({story:!1,vocab:!1,scene:!1}),[l,c]=x.useState(null),[u,d]=x.useState("fantasy"),[f,p]=x.useState(null),[y,m]=x.useState(null),{toast:g}=Et(),w=x.useCallback(async(_,T)=>{s(O=>({...O,story:!0})),c(null),a(null);let j=n;if(_==="start"&&(r([]),j=[],m(null),t("playing")),_==="continue"&&T){const O={id:Date.now(),sender:"user",text:T};j=[...n,O],r(j)}try{const O=await v7({action:_,genre:u,playerInput:T,history:j}),I={id:Date.now()+1,sender:"ai",text:O.narrative,vocabularyWord:O.newWord,suggestions:O.promptSuggestions,gameOver:O.gameOver};_==="start"&&O.imagePrompt&&(s(k=>({...k,scene:!0})),cc({prompt:O.imagePrompt}).then(k=>m(k.imageUrl)).catch(k=>{console.error("Scene image generation failed:",k),g({variant:"destructive",title:"Scene Image Failed",description:"Could not generate the opening scene image."})}).finally(()=>s(k=>({...k,scene:!1})))),r(k=>[...k,I]),O.gameOver&&t("gameOver")}catch(O){const I=O instanceof Error?O.message:"An unknown error occurred.";c(I),g({variant:"destructive",title:"Story Generation Error",description:I}),t("error")}finally{s(O=>({...O,story:!1}))}},[u,n,g]),b=x.useCallback(async _=>{if(_){s(T=>({...T,vocab:!0})),a({word:_,definition:"Generating definition...",imageUrl:"",arabicWord:"جاري الترجمة...",arabicDefinition:"جاري الترجمة..."}),c(null);try{const T=await w7({word:_,genre:u});a(P=>P?{...P,definition:T.definition,arabicWord:T.arabicWord,arabicDefinition:T.arabicDefinition}:null);const j=await x7({word:_,definition:T.definition,genre:u});a(P=>P?{...P,imageUrl:j.imageUrl}:null)}catch(T){const j=T instanceof Error?T.message:"Failed to get vocabulary details.";c(j),a(P=>P?{...P,definition:"Could not load details.",imageUrl:""}:null)}finally{s(T=>({...T,vocab:!1}))}}},[u]),S=x.useCallback(async _=>{const T=_.replace(/[^a-zA-Z]/g,"").trim();if(T){Gn({prompt:T,lang:"en"}).catch(j=>console.error("TTS error:",j)),p({word:_,text:"جاري الترجمة...",isLoading:!0});try{const j=await qr({text:T,targetLanguage:"ar"});p({word:_,text:j.translation,isLoading:!1})}catch(j){console.error("Translation error:",j),p({word:_,text:"فشل الترجمة",isLoading:!1}),g({variant:"destructive",title:"خطأ في الترجمة"})}}},[g]),A=()=>{t("setup"),c(null),r([])},v=()=>h.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center text-center p-4 bg-gray-900 text-white",children:[(e==="gameOver"||e==="error")&&h.jsx("h2",{className:"text-4xl font-bold text-red-500 mb-4",children:e==="gameOver"?"انتهت اللعبة":"حدث خطأ"}),h.jsx("p",{className:"text-lg text-gray-300 mb-6",children:e==="setup"?"اختر نوعًا وابدأ مهمتك.":e==="gameOver"?"شكرا للعب!":l||"حدث خطأ ما. الرجاء المحاولة مرة أخرى."}),e!=="error"&&h.jsxs("div",{className:"mb-6 w-full max-w-xs",children:[h.jsx("label",{htmlFor:"genre-select",className:"block text-sm font-medium text-gray-400 mb-2",children:"اختر النوع"}),h.jsx("select",{id:"genre-select",value:u,onChange:_=>d(_.target.value),className:"bg-gray-800 border border-gray-600 text-white text-sm rounded-lg focus:ring-purple-500 focus:border-purple-500 block w-full p-2.5",disabled:o.story,children:S7.map(_=>h.jsx("option",{value:_,children:_7(_)},_))})]}),h.jsx("button",{onClick:()=>e==="error"?A():w("start"),disabled:o.story,className:"px-8 py-3 bg-purple-600 text-white font-bold rounded-lg hover:bg-purple-700 transition-colors disabled:bg-gray-500 disabled:cursor-not-allowed flex items-center justify-center",children:o.story?h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):e==="setup"?"ابدأ المغامرة":"العب مرة أخرى"})]});return h.jsx("div",{className:"flex h-full w-full bg-gray-900 font-sans",children:h.jsx("main",{className:"flex-1 flex flex-col p-4 md:p-6 h-full relative",children:e==="setup"||e==="gameOver"||e==="error"?h.jsx(v,{}):h.jsx("div",{className:"flex-grow flex flex-col overflow-hidden h-full",children:h.jsx(p7,{storyHistory:n,onSendAction:_=>w("continue",_),onWordClick:b,onNarrativeWordClick:S,loading:o.story,error:l,translation:f,sceneImageUrl:y,loadingSceneImage:o.scene})})})})}function T7(){return h.jsx("iframe",{src:"https://mumble-jumble-108473853069.us-west1.run.app/",className:"w-full h-full border-0",title:"Mumble Jumble App"})}var es=e=>e.type==="checkbox",Rr=e=>e instanceof Date,_t=e=>e==null;const hE=e=>typeof e=="object";var Qe=e=>!_t(e)&&!Array.isArray(e)&&hE(e)&&!Rr(e),j7=e=>Qe(e)&&e.target?es(e.target)?e.target.checked:e.target.value:e,P7=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,I7=(e,t)=>e.has(P7(t)),k7=e=>{const t=e.constructor&&e.constructor.prototype;return Qe(t)&&t.hasOwnProperty("isPrototypeOf")},Vv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Gt(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Vv&&(e instanceof Blob||r))&&(n||Qe(e)))if(t=n?[]:{},!n&&!k7(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Gt(e[i]));else return e;return t}var Jc=e=>Array.isArray(e)?e.filter(Boolean):[],Ze=e=>e===void 0,re=(e,t,n)=>{if(!t||!Qe(e))return n;const r=Jc(t.split(/[,[\].]+?/)).reduce((i,a)=>_t(i)?i:i[a],e);return Ze(r)||r===e?Ze(e[t])?n:e[t]:r},mn=e=>typeof e=="boolean",Hv=e=>/^\w*$/.test(e),fE=e=>Jc(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ke=(e,t,n)=>{let r=-1;const i=Hv(t)?[t]:fE(t),a=i.length,o=a-1;for(;++r<a;){const s=i[r];let l=n;if(r!==o){const c=e[s];l=Qe(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(s==="__proto__"||s==="constructor"||s==="prototype")return;e[s]=l,e=e[s]}return e};const ZA={BLUR:"blur",FOCUS_OUT:"focusout"},ln={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},En={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};R.createContext(null);var O7=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const o=a;return t._proxyFormState[o]!==ln.all&&(t._proxyFormState[o]=!r||ln.all),e[o]}});return i},kt=e=>Qe(e)&&!Object.keys(e).length,C7=(e,t,n,r)=>{n(e);const{name:i,...a}=e;return kt(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===ln.all)},Ms=e=>Array.isArray(e)?e:[e];function E7(e){const t=R.useRef(e);t.current=e,R.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}var bn=e=>typeof e=="string",N7=(e,t,n,r,i)=>bn(e)?(r&&t.watch.add(e),re(n,e,i)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),re(n,a))):(r&&(t.watchAll=!0),n),pE=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},eT=e=>({isOnSubmit:!e||e===ln.onSubmit,isOnBlur:e===ln.onBlur,isOnChange:e===ln.onChange,isOnAll:e===ln.all,isOnTouch:e===ln.onTouched}),tT=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Ba=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const a=re(e,i);if(a){const{_f:o,...s}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(Ba(s,t))break}else if(Qe(s)&&Ba(s,t))break}}};var M7=(e,t,n)=>{const r=Ms(re(e,n));return ke(r,"root",t[n]),ke(e,n,r),e},Uv=e=>e.type==="file",yn=e=>typeof e=="function",Ul=e=>{if(!Vv)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Rs=e=>bn(e),zv=e=>e.type==="radio",zl=e=>e instanceof RegExp;const nT={value:!1,isValid:!1},rT={value:!0,isValid:!0};var mE=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ze(e[0].attributes.value)?Ze(e[0].value)||e[0].value===""?rT:{value:e[0].value,isValid:!0}:rT:nT}return nT};const iT={isValid:!1,value:null};var gE=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,iT):iT;function aT(e,t,n="validate"){if(Rs(e)||Array.isArray(e)&&e.every(Rs)||mn(e)&&!e)return{type:n,message:Rs(e)?e:"",ref:t}}var oi=e=>Qe(e)&&!zl(e)?e:{value:e,message:""},oT=async(e,t,n,r,i,a)=>{const{ref:o,refs:s,required:l,maxLength:c,minLength:u,min:d,max:f,pattern:p,validate:y,name:m,valueAsNumber:g,mount:w}=e._f,b=re(n,m);if(!w||t.has(m))return{};const S=s?s[0]:o,A=k=>{i&&S.reportValidity&&(S.setCustomValidity(mn(k)?"":k||""),S.reportValidity())},v={},_=zv(o),T=es(o),j=_||T,P=(g||Uv(o))&&Ze(o.value)&&Ze(b)||Ul(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,O=pE.bind(null,m,r,v),I=(k,E,C,M=En.maxLength,D=En.minLength)=>{const q=k?E:C;v[m]={type:k?M:D,message:q,ref:o,...O(k?M:D,q)}};if(a?!Array.isArray(b)||!b.length:l&&(!j&&(P||_t(b))||mn(b)&&!b||T&&!mE(s).isValid||_&&!gE(s).isValid)){const{value:k,message:E}=Rs(l)?{value:!!l,message:l}:oi(l);if(k&&(v[m]={type:En.required,message:E,ref:S,...O(En.required,E)},!r))return A(E),v}if(!P&&(!_t(d)||!_t(f))){let k,E;const C=oi(f),M=oi(d);if(!_t(b)&&!isNaN(b)){const D=o.valueAsNumber||b&&+b;_t(C.value)||(k=D>C.value),_t(M.value)||(E=D<M.value)}else{const D=o.valueAsDate||new Date(b),q=V=>new Date(new Date().toDateString()+" "+V),$=o.type=="time",W=o.type=="week";bn(C.value)&&b&&(k=$?q(b)>q(C.value):W?b>C.value:D>new Date(C.value)),bn(M.value)&&b&&(E=$?q(b)<q(M.value):W?b<M.value:D<new Date(M.value))}if((k||E)&&(I(!!k,C.message,M.message,En.max,En.min),!r))return A(v[m].message),v}if((c||u)&&!P&&(bn(b)||a&&Array.isArray(b))){const k=oi(c),E=oi(u),C=!_t(k.value)&&b.length>+k.value,M=!_t(E.value)&&b.length<+E.value;if((C||M)&&(I(C,k.message,E.message),!r))return A(v[m].message),v}if(p&&!P&&bn(b)){const{value:k,message:E}=oi(p);if(zl(k)&&!b.match(k)&&(v[m]={type:En.pattern,message:E,ref:o,...O(En.pattern,E)},!r))return A(E),v}if(y){if(yn(y)){const k=await y(b,n),E=aT(k,S);if(E&&(v[m]={...E,...O(En.validate,E.message)},!r))return A(E.message),v}else if(Qe(y)){let k={};for(const E in y){if(!kt(k)&&!r)break;const C=aT(await y[E](b,n),S,E);C&&(k={...C,...O(E,C.message)},A(C.message),r&&(v[m]=k))}if(!kt(k)&&(v[m]={ref:S,...k},!r))return v}}return A(!0),v};function R7(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Ze(e)?r++:e[t[r++]];return e}function D7(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ze(e[t]))return!1;return!0}function at(e,t){const n=Array.isArray(t)?t:Hv(t)?[t]:fE(t),r=n.length===1?e:R7(e,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(Qe(r)&&kt(r)||Array.isArray(r)&&D7(r))&&at(e,n.slice(0,-1)),e}var Lp=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}},kg=e=>_t(e)||!hE(e);function nr(e,t){if(kg(e)||kg(t))return e===t;if(Rr(e)&&Rr(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const a=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=t[i];if(Rr(a)&&Rr(o)||Qe(a)&&Qe(o)||Array.isArray(a)&&Array.isArray(o)?!nr(a,o):a!==o)return!1}}return!0}var yE=e=>e.type==="select-multiple",q7=e=>zv(e)||es(e),$p=e=>Ul(e)&&e.isConnected,vE=e=>{for(const t in e)if(yn(e[t]))return!0;return!1};function Gl(e,t={}){const n=Array.isArray(e);if(Qe(e)||n)for(const r in e)Array.isArray(e[r])||Qe(e[r])&&!vE(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Gl(e[r],t[r])):_t(e[r])||(t[r]=!0);return t}function bE(e,t,n){const r=Array.isArray(e);if(Qe(e)||r)for(const i in e)Array.isArray(e[i])||Qe(e[i])&&!vE(e[i])?Ze(t)||kg(n[i])?n[i]=Array.isArray(e[i])?Gl(e[i],[]):{...Gl(e[i])}:bE(e[i],_t(t)?{}:t[i],n[i]):n[i]=!nr(e[i],t[i]);return n}var _a=(e,t)=>bE(e,t,Gl(t)),wE=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Ze(e)?e:t?e===""?NaN:e&&+e:n&&bn(e)?new Date(e):r?r(e):e;function Fp(e){const t=e.ref;return Uv(t)?t.files:zv(t)?gE(e.refs).value:yE(t)?[...t.selectedOptions].map(({value:n})=>n):es(t)?mE(e.refs).value:wE(Ze(t.value)?e.ref.value:t.value,e)}var L7=(e,t,n,r)=>{const i={};for(const a of e){const o=re(t,a);o&&ke(i,a,o._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},Aa=e=>Ze(e)?e:zl(e)?e.source:Qe(e)?zl(e.value)?e.value.source:e.value:e;const sT="AsyncFunction";var $7=e=>!!e&&!!e.validate&&!!(yn(e.validate)&&e.validate.constructor.name===sT||Qe(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===sT)),F7=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function lT(e,t,n){const r=re(e,n);if(r||Hv(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),o=re(t,a),s=re(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(s&&s.type)return{name:a,error:s};i.pop()}return{name:n}}var B7=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,W7=(e,t)=>!Jc(re(e,t)).length&&at(e,t);const V7={mode:ln.onSubmit,reValidateMode:ln.onChange,shouldFocusError:!0};function H7(e={}){let t={...V7,...e},n={submitCount:0,isDirty:!1,isLoading:yn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=Qe(t.defaultValues)||Qe(t.values)?Gt(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Gt(i),o={action:!1,mount:!1,watch:!1},s={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:Lp(),array:Lp(),state:Lp()},f=eT(t.mode),p=eT(t.reValidateMode),y=t.criteriaMode===ln.all,m=N=>L=>{clearTimeout(c),c=setTimeout(N,L)},g=async N=>{if(!t.disabled&&(u.isValid||N)){const L=t.resolver?kt((await j()).errors):await O(r,!0);L!==n.isValid&&d.state.next({isValid:L})}},w=(N,L)=>{!t.disabled&&(u.isValidating||u.validatingFields)&&((N||Array.from(s.mount)).forEach(F=>{F&&(L?ke(n.validatingFields,F,L):at(n.validatingFields,F))}),d.state.next({validatingFields:n.validatingFields,isValidating:!kt(n.validatingFields)}))},b=(N,L=[],F,Q,K=!0,Y=!0)=>{if(Q&&F&&!t.disabled){if(o.action=!0,Y&&Array.isArray(re(r,N))){const ee=F(re(r,N),Q.argA,Q.argB);K&&ke(r,N,ee)}if(Y&&Array.isArray(re(n.errors,N))){const ee=F(re(n.errors,N),Q.argA,Q.argB);K&&ke(n.errors,N,ee),W7(n.errors,N)}if(u.touchedFields&&Y&&Array.isArray(re(n.touchedFields,N))){const ee=F(re(n.touchedFields,N),Q.argA,Q.argB);K&&ke(n.touchedFields,N,ee)}u.dirtyFields&&(n.dirtyFields=_a(i,a)),d.state.next({name:N,isDirty:k(N,L),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ke(a,N,L)},S=(N,L)=>{ke(n.errors,N,L),d.state.next({errors:n.errors})},A=N=>{n.errors=N,d.state.next({errors:n.errors,isValid:!1})},v=(N,L,F,Q)=>{const K=re(r,N);if(K){const Y=re(a,N,Ze(F)?re(i,N):F);Ze(Y)||Q&&Q.defaultChecked||L?ke(a,N,L?Y:Fp(K._f)):M(N,Y),o.mount&&g()}},_=(N,L,F,Q,K)=>{let Y=!1,ee=!1;const se={name:N};if(!t.disabled){const Be=!!(re(r,N)&&re(r,N)._f&&re(r,N)._f.disabled);if(!F||Q){u.isDirty&&(ee=n.isDirty,n.isDirty=se.isDirty=k(),Y=ee!==se.isDirty);const Ie=Be||nr(re(i,N),L);ee=!!(!Be&&re(n.dirtyFields,N)),Ie||Be?at(n.dirtyFields,N):ke(n.dirtyFields,N,!0),se.dirtyFields=n.dirtyFields,Y=Y||u.dirtyFields&&ee!==!Ie}if(F){const Ie=re(n.touchedFields,N);Ie||(ke(n.touchedFields,N,F),se.touchedFields=n.touchedFields,Y=Y||u.touchedFields&&Ie!==F)}Y&&K&&d.state.next(se)}return Y?se:{}},T=(N,L,F,Q)=>{const K=re(n.errors,N),Y=u.isValid&&mn(L)&&n.isValid!==L;if(t.delayError&&F?(l=m(()=>S(N,F)),l(t.delayError)):(clearTimeout(c),l=null,F?ke(n.errors,N,F):at(n.errors,N)),(F?!nr(K,F):K)||!kt(Q)||Y){const ee={...Q,...Y&&mn(L)?{isValid:L}:{},errors:n.errors,name:N};n={...n,...ee},d.state.next(ee)}},j=async N=>{w(N,!0);const L=await t.resolver(a,t.context,L7(N||s.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return w(N),L},P=async N=>{const{errors:L}=await j(N);if(N)for(const F of N){const Q=re(L,F);Q?ke(n.errors,F,Q):at(n.errors,F)}else n.errors=L;return L},O=async(N,L,F={valid:!0})=>{for(const Q in N){const K=N[Q];if(K){const{_f:Y,...ee}=K;if(Y){const se=s.array.has(Y.name),Be=K._f&&$7(K._f);Be&&u.validatingFields&&w([Q],!0);const Ie=await oT(K,s.disabled,a,y,t.shouldUseNativeValidation&&!L,se);if(Be&&u.validatingFields&&w([Q]),Ie[Y.name]&&(F.valid=!1,L))break;!L&&(re(Ie,Y.name)?se?M7(n.errors,Ie,Y.name):ke(n.errors,Y.name,Ie[Y.name]):at(n.errors,Y.name))}!kt(ee)&&await O(ee,L,F)}}return F.valid},I=()=>{for(const N of s.unMount){const L=re(r,N);L&&(L._f.refs?L._f.refs.every(F=>!$p(F)):!$p(L._f.ref))&&fe(N)}s.unMount=new Set},k=(N,L)=>!t.disabled&&(N&&L&&ke(a,N,L),!nr(z(),i)),E=(N,L,F)=>N7(N,s,{...o.mount?a:Ze(L)?i:bn(N)?{[N]:L}:L},F,L),C=N=>Jc(re(o.mount?a:i,N,t.shouldUnregister?re(i,N,[]):[])),M=(N,L,F={})=>{const Q=re(r,N);let K=L;if(Q){const Y=Q._f;Y&&(!Y.disabled&&ke(a,N,wE(L,Y)),K=Ul(Y.ref)&&_t(L)?"":L,yE(Y.ref)?[...Y.ref.options].forEach(ee=>ee.selected=K.includes(ee.value)):Y.refs?es(Y.ref)?Y.refs.length>1?Y.refs.forEach(ee=>(!ee.defaultChecked||!ee.disabled)&&(ee.checked=Array.isArray(K)?!!K.find(se=>se===ee.value):K===ee.value)):Y.refs[0]&&(Y.refs[0].checked=!!K):Y.refs.forEach(ee=>ee.checked=ee.value===K):Uv(Y.ref)?Y.ref.value="":(Y.ref.value=K,Y.ref.type||d.values.next({name:N,values:{...a}})))}(F.shouldDirty||F.shouldTouch)&&_(N,K,F.shouldTouch,F.shouldDirty,!0),F.shouldValidate&&V(N)},D=(N,L,F)=>{for(const Q in L){const K=L[Q],Y=`${N}.${Q}`,ee=re(r,Y);(s.array.has(N)||Qe(K)||ee&&!ee._f)&&!Rr(K)?D(Y,K,F):M(Y,K,F)}},q=(N,L,F={})=>{const Q=re(r,N),K=s.array.has(N),Y=Gt(L);ke(a,N,Y),K?(d.array.next({name:N,values:{...a}}),(u.isDirty||u.dirtyFields)&&F.shouldDirty&&d.state.next({name:N,dirtyFields:_a(i,a),isDirty:k(N,Y)})):Q&&!Q._f&&!_t(Y)?D(N,Y,F):M(N,Y,F),tT(N,s)&&d.state.next({...n}),d.values.next({name:o.mount?N:void 0,values:{...a}})},$=async N=>{o.mount=!0;const L=N.target;let F=L.name,Q=!0;const K=re(r,F),Y=()=>L.type?Fp(K._f):j7(N),ee=se=>{Q=Number.isNaN(se)||Rr(se)&&isNaN(se.getTime())||nr(se,re(a,F,se))};if(K){let se,Be;const Ie=Y(),It=N.type===ZA.BLUR||N.type===ZA.FOCUS_OUT,jM=!F7(K._f)&&!t.resolver&&!re(n.errors,F)&&!K._f.deps||B7(It,re(n.touchedFields,F),n.isSubmitted,p,f),du=tT(F,s,It);ke(a,F,Ie),It?(K._f.onBlur&&K._f.onBlur(N),l&&l(0)):K._f.onChange&&K._f.onChange(N);const hu=_(F,Ie,It,!1),PM=!kt(hu)||du;if(!It&&d.values.next({name:F,type:N.type,values:{...a}}),jM)return u.isValid&&(t.mode==="onBlur"&&It?g():It||g()),PM&&d.state.next({name:F,...du?{}:hu});if(!It&&du&&d.state.next({...n}),t.resolver){const{errors:Cb}=await j([F]);if(ee(Ie),Q){const IM=lT(n.errors,r,F),Eb=lT(Cb,r,IM.name||F);se=Eb.error,F=Eb.name,Be=kt(Cb)}}else w([F],!0),se=(await oT(K,s.disabled,a,y,t.shouldUseNativeValidation))[F],w([F]),ee(Ie),Q&&(se?Be=!1:u.isValid&&(Be=await O(r,!0)));Q&&(K._f.deps&&V(K._f.deps),T(F,Be,se,hu))}},W=(N,L)=>{if(re(n.errors,L)&&N.focus)return N.focus(),1},V=async(N,L={})=>{let F,Q;const K=Ms(N);if(t.resolver){const Y=await P(Ze(N)?N:K);F=kt(Y),Q=N?!K.some(ee=>re(Y,ee)):F}else N?(Q=(await Promise.all(K.map(async Y=>{const ee=re(r,Y);return await O(ee&&ee._f?{[Y]:ee}:ee)}))).every(Boolean),!(!Q&&!n.isValid)&&g()):Q=F=await O(r);return d.state.next({...!bn(N)||u.isValid&&F!==n.isValid?{}:{name:N},...t.resolver||!N?{isValid:F}:{},errors:n.errors}),L.shouldFocus&&!Q&&Ba(r,W,N?K:s.mount),Q},z=N=>{const L={...o.mount?a:i};return Ze(N)?L:bn(N)?re(L,N):N.map(F=>re(L,F))},U=(N,L)=>({invalid:!!re((L||n).errors,N),isDirty:!!re((L||n).dirtyFields,N),error:re((L||n).errors,N),isValidating:!!re(n.validatingFields,N),isTouched:!!re((L||n).touchedFields,N)}),ae=N=>{N&&Ms(N).forEach(L=>at(n.errors,L)),d.state.next({errors:N?n.errors:{}})},he=(N,L,F)=>{const Q=(re(r,N,{_f:{}})._f||{}).ref,K=re(n.errors,N)||{},{ref:Y,message:ee,type:se,...Be}=K;ke(n.errors,N,{...Be,...L,ref:Q}),d.state.next({name:N,errors:n.errors,isValid:!1}),F&&F.shouldFocus&&Q&&Q.focus&&Q.focus()},ye=(N,L)=>yn(N)?d.values.subscribe({next:F=>N(E(void 0,L),F)}):E(N,L,!0),fe=(N,L={})=>{for(const F of N?Ms(N):s.mount)s.mount.delete(F),s.array.delete(F),L.keepValue||(at(r,F),at(a,F)),!L.keepError&&at(n.errors,F),!L.keepDirty&&at(n.dirtyFields,F),!L.keepTouched&&at(n.touchedFields,F),!L.keepIsValidating&&at(n.validatingFields,F),!t.shouldUnregister&&!L.keepDefaultValue&&at(i,F);d.values.next({values:{...a}}),d.state.next({...n,...L.keepDirty?{isDirty:k()}:{}}),!L.keepIsValid&&g()},ne=({disabled:N,name:L,field:F,fields:Q})=>{(mn(N)&&o.mount||N||s.disabled.has(L))&&(N?s.disabled.add(L):s.disabled.delete(L),_(L,Fp(F?F._f:re(Q,L)._f),!1,!1,!0))},ue=(N,L={})=>{let F=re(r,N);const Q=mn(L.disabled)||mn(t.disabled);return ke(r,N,{...F||{},_f:{...F&&F._f?F._f:{ref:{name:N}},name:N,mount:!0,...L}}),s.mount.add(N),F?ne({field:F,disabled:mn(L.disabled)?L.disabled:t.disabled,name:N}):v(N,!0,L.value),{...Q?{disabled:L.disabled||t.disabled}:{},...t.progressive?{required:!!L.required,min:Aa(L.min),max:Aa(L.max),minLength:Aa(L.minLength),maxLength:Aa(L.maxLength),pattern:Aa(L.pattern)}:{},name:N,onChange:$,onBlur:$,ref:K=>{if(K){ue(N,L),F=re(r,N);const Y=Ze(K.value)&&K.querySelectorAll&&K.querySelectorAll("input,select,textarea")[0]||K,ee=q7(Y),se=F._f.refs||[];if(ee?se.find(Be=>Be===Y):Y===F._f.ref)return;ke(r,N,{_f:{...F._f,...ee?{refs:[...se.filter($p),Y,...Array.isArray(re(i,N))?[{}]:[]],ref:{type:Y.type,name:N}}:{ref:Y}}}),v(N,!1,void 0,Y)}else F=re(r,N,{}),F._f&&(F._f.mount=!1),(t.shouldUnregister||L.shouldUnregister)&&!(I7(s.array,N)&&o.action)&&s.unMount.add(N)}}},G=()=>t.shouldFocusError&&Ba(r,W,s.mount),X=N=>{mn(N)&&(d.state.next({disabled:N}),Ba(r,(L,F)=>{const Q=re(r,F);Q&&(L.disabled=Q._f.disabled||N,Array.isArray(Q._f.refs)&&Q._f.refs.forEach(K=>{K.disabled=Q._f.disabled||N}))},0,!1))},J=(N,L)=>async F=>{let Q;F&&(F.preventDefault&&F.preventDefault(),F.persist&&F.persist());let K=Gt(a);if(s.disabled.size)for(const Y of s.disabled)ke(K,Y,void 0);if(d.state.next({isSubmitting:!0}),t.resolver){const{errors:Y,values:ee}=await j();n.errors=Y,K=ee}else await O(r);if(at(n.errors,"root"),kt(n.errors)){d.state.next({errors:{}});try{await N(K,F)}catch(Y){Q=Y}}else L&&await L({...n.errors},F),G(),setTimeout(G);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:kt(n.errors)&&!Q,submitCount:n.submitCount+1,errors:n.errors}),Q)throw Q},B=(N,L={})=>{re(r,N)&&(Ze(L.defaultValue)?q(N,Gt(re(i,N))):(q(N,L.defaultValue),ke(i,N,Gt(L.defaultValue))),L.keepTouched||at(n.touchedFields,N),L.keepDirty||(at(n.dirtyFields,N),n.isDirty=L.defaultValue?k(N,Gt(re(i,N))):k()),L.keepError||(at(n.errors,N),u.isValid&&g()),d.state.next({...n}))},me=(N,L={})=>{const F=N?Gt(N):i,Q=Gt(F),K=kt(N),Y=K?i:Q;if(L.keepDefaultValues||(i=F),!L.keepValues){if(L.keepDirtyValues){const ee=new Set([...s.mount,...Object.keys(_a(i,a))]);for(const se of Array.from(ee))re(n.dirtyFields,se)?ke(Y,se,re(a,se)):q(se,re(Y,se))}else{if(Vv&&Ze(N))for(const ee of s.mount){const se=re(r,ee);if(se&&se._f){const Be=Array.isArray(se._f.refs)?se._f.refs[0]:se._f.ref;if(Ul(Be)){const Ie=Be.closest("form");if(Ie){Ie.reset();break}}}}r={}}a=t.shouldUnregister?L.keepDefaultValues?Gt(i):{}:Gt(Y),d.array.next({values:{...Y}}),d.values.next({values:{...Y}})}s={mount:L.keepDirtyValues?s.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!L.keepIsValid||!!L.keepDirtyValues,o.watch=!!t.shouldUnregister,d.state.next({submitCount:L.keepSubmitCount?n.submitCount:0,isDirty:K?!1:L.keepDirty?n.isDirty:!!(L.keepDefaultValues&&!nr(N,i)),isSubmitted:L.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:K?{}:L.keepDirtyValues?L.keepDefaultValues&&a?_a(i,a):n.dirtyFields:L.keepDefaultValues&&N?_a(i,N):L.keepDirty?n.dirtyFields:{},touchedFields:L.keepTouched?n.touchedFields:{},errors:L.keepErrors?n.errors:{},isSubmitSuccessful:L.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},de=(N,L)=>me(yn(N)?N(a):N,L);return{control:{register:ue,unregister:fe,getFieldState:U,handleSubmit:J,setError:he,_executeSchema:j,_getWatch:E,_getDirty:k,_updateValid:g,_removeUnmounted:I,_updateFieldArray:b,_updateDisabledField:ne,_getFieldArray:C,_reset:me,_resetDefaultValues:()=>yn(t.defaultValues)&&t.defaultValues().then(N=>{de(N,t.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:N=>{n={...n,...N}},_disableForm:X,_subjects:d,_proxyFormState:u,_setErrors:A,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(N){o=N},get _defaultValues(){return i},get _names(){return s},set _names(N){s=N},get _formState(){return n},set _formState(N){n=N},get _options(){return t},set _options(N){t={...t,...N}}},trigger:V,register:ue,handleSubmit:J,watch:ye,setValue:q,getValues:z,reset:de,resetField:B,clearErrors:ae,unregister:fe,setError:he,setFocus:(N,L={})=>{const F=re(r,N),Q=F&&F._f;if(Q){const K=Q.refs?Q.refs[0]:Q.ref;K.focus&&(K.focus(),L.shouldSelect&&yn(K.select)&&K.select())}},getFieldState:U}}function cT(e={}){const t=R.useRef(void 0),n=R.useRef(void 0),[r,i]=R.useState({isDirty:!1,isValidating:!1,isLoading:yn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:yn(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...H7(e),formState:r});const a=t.current.control;return a._options=e,E7({subject:a._subjects.state,next:o=>{C7(o,a._proxyFormState,a._updateFormState)&&i({...a._formState})}}),R.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),R.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),R.useEffect(()=>{e.values&&!nr(e.values,n.current)?(a._reset(e.values,a._options.resetOptions),n.current=e.values,i(o=>({...o}))):a._resetDefaultValues()},[e.values,a]),R.useEffect(()=>{e.errors&&a._setErrors(e.errors)},[e.errors,a]),R.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),R.useEffect(()=>{e.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[e.shouldUnregister,a]),t.current.formState=O7(r,a),t.current}const uT=(e,t,n)=>{if(e&&"reportValidity"in e){const r=re(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},xE=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?uT(r.ref,n,e):r&&r.refs&&r.refs.forEach(i=>uT(i,n,e))}},U7=(e,t)=>{t.shouldUseNativeValidation&&xE(e,t);const n={};for(const r in e){const i=re(t.fields,r),a=Object.assign(e[r]||{},{ref:i&&i.ref});if(z7(t.names||Object.keys(e),r)){const o=Object.assign({},re(n,r));ke(o,"root",a),ke(n,r,o)}else ke(n,r,a)}return n},z7=(e,t)=>{const n=dT(t);return e.some(r=>dT(r).match(`^${n}\\.\\d+`))};function dT(e){return e.replace(/\]|\[/g,"")}function G7(e,t){for(var n={};e.length;){var r=e[0],i=r.code,a=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var s=r.unionErrors[0].errors[0];n[o]={message:s.message,type:s.code}}else n[o]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(d){return e.push(d)})}),t){var l=n[o].types,c=l&&l[r.code];n[o]=pE(o,t,n,i,c?[].concat(c,r.message):r.message)}e.shift()}return n}function hT(e,t,n){return n===void 0&&(n={}),function(r,i,a){try{return Promise.resolve((function(o,s){try{var l=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(c){return a.shouldUseNativeValidation&&xE({},a),{errors:{},values:n.raw?Object.assign({},r):c}})}catch(c){return s(c)}return l&&l.then?l.then(void 0,s):l})(0,function(o){if((function(s){return Array.isArray(s?.errors)})(o))return{values:{},errors:U7(G7(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}}const Y7=we({speaker:ar(["User","Ahmed"]),message:te()});we({englishGrammarConcept:te().describe("The English grammar concept or question from the user."),conversationHistory:Jt(Y7).optional().default([]).describe("The history of the conversation so far.")});async function K7(e){const{englishGrammarConcept:t,conversationHistory:n}=e,r=`You are Ahmed, an expert AI teacher from Speed of Mastery. Your personality is friendly, helpful, and patient.
You are a master of both English and Arabic. Your specialty is explaining English grammar concepts using clear, simple, and natural-sounding Arabic.
Your goal is to provide explanations that are easy for an Arabic speaker to understand. Use useful examples to illustrate your points.
Address the user directly and conversationally.
You MUST reply with ONLY the explanation text, without any introductory phrases like "Here is the explanation:".`,i=n.map(c=>({role:c.speaker==="User"?"user":"assistant",content:c.message})),a=[{role:"system",content:r},...i,{role:"user",content:t}];return{explanation:(await(await Ct({model:"@cf/meta/llama-3-8b-instruct",inputs:{messages:a}})).json()).result.response}}const X7=we({speaker:ar(["User","Sara"]),message:te()});we({englishGrammarConcept:te().describe("The English grammar concept or question from the user."),userLanguageProficiency:te().describe("The user's proficiency level in English."),conversationHistory:Jt(X7).optional().default([]).describe("The history of the conversation so far.")});async function Q7(e){const{englishGrammarConcept:t,userLanguageProficiency:n,conversationHistory:r}=e,i=`You are Sara, an expert AI teacher from Speed of Mastery. Your personality is friendly, helpful, and patient.
You are a master of both English and Arabic. Your specialty is explaining English grammar concepts using clear, simple, and natural-sounding Arabic.
You MUST tailor your explanation to the user's stated proficiency level: "${n}".
Your goal is to provide explanations that are easy for an Arabic speaker to understand. Use useful examples to illustrate your points.
Address the user directly and conversationally.
You MUST reply with ONLY the explanation text, without any introductory phrases like "Here is the explanation:".`,a=r.map(u=>({role:u.speaker==="User"?"user":"assistant",content:u.message})),o=[{role:"system",content:i},...a,{role:"user",content:t}];return{explanation:(await(await Ct({model:"@cf/meta/llama-3-8b-instruct",inputs:{messages:o}})).json()).result.response}}const No=x.forwardRef(({className:e,type:t,...n},r)=>h.jsx("input",{type:t,className:pe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));No.displayName="Input";var Gv="Tabs",[J7,ate]=fr(Gv,[zj]),SE=zj(),[Z7,Yv]=J7(Gv),_E=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:s,activationMode:l="automatic",...c}=e,u=Qg(s),[d,f]=za({prop:r,onChange:i,defaultProp:a});return h.jsx(Z7,{scope:n,baseId:Qi(),value:d,onValueChange:f,orientation:o,dir:u,activationMode:l,children:h.jsx(xe.div,{dir:u,"data-orientation":o,...c,ref:t})})});_E.displayName=Gv;var AE="TabsList",TE=x.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,a=Yv(AE,n),o=SE(n);return h.jsx(qM,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:h.jsx(xe.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});TE.displayName=AE;var jE="TabsTrigger",PE=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=e,o=Yv(jE,n),s=SE(n),l=OE(o.baseId,r),c=CE(o.baseId,r),u=r===o.value;return h.jsx(LM,{asChild:!0,...s,focusable:!i,active:u,children:h.jsx(xe.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:t,onMouseDown:be(e.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:be(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:be(e.onFocus,()=>{const d=o.activationMode!=="manual";!u&&!i&&d&&o.onValueChange(r)})})})});PE.displayName=jE;var IE="TabsContent",kE=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=e,s=Yv(IE,n),l=OE(s.baseId,r),c=CE(s.baseId,r),u=r===s.value,d=x.useRef(u);return x.useEffect(()=>{const f=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(f)},[]),h.jsx(pr,{present:i||u,children:({present:f})=>h.jsx(xe.div,{"data-state":u?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:f&&a})})});kE.displayName=IE;function OE(e,t){return`${e}-trigger-${t}`}function CE(e,t){return`${e}-content-${t}`}var eK=_E,EE=TE,NE=PE,ME=kE;const tK=eK,RE=x.forwardRef(({className:e,...t},n)=>h.jsx(EE,{ref:n,className:pe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));RE.displayName=EE.displayName;const Og=x.forwardRef(({className:e,...t},n)=>h.jsx(NE,{ref:n,className:pe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Og.displayName=NE.displayName;const nK=x.forwardRef(({className:e,...t},n)=>h.jsx(ME,{ref:n,className:pe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));nK.displayName=ME.displayName;const rK=we({englishGrammarConcept:te().min(3,{message:"يرجى إدخال مفهوم قواعدي (3 أحرف على الأقل)."})}),iK=we({englishGrammarConcept:te().min(3,{message:"يرجى إدخال مفهوم قواعدي (3 أحرف على الأقل)."}),userLanguageProficiency:te().min(2,{message:"يرجى وصف مستوى إتقانك (حرفان على الأقل)."})}),aK=15,oK=["Present Simple","Present Continuous","Present Perfect","Present Perfect Continuous","Past Simple","Past Continuous","Past Perfect","Past Perfect Continuous","Future Simple","Future Continuous","Future Perfect","Future Perfect Continuous","Zero Conditional","First Conditional","Second Conditional","Third Conditional","Mixed Conditionals","Passive Voice (Present)","Passive Voice (Past)","Passive Voice (Future)"];function sK(){const[e,t]=x.useState("Ahmed"),{toast:n}=Et(),[r,i]=x.useState([]),[a,o]=x.useState(!1),[s,l]=x.useState(!1),c=x.useRef(null),u=x.useRef(null),[d,f]=x.useState(null),p=x.useRef(null),y=cT({resolver:hT(rK),defaultValues:{englishGrammarConcept:""}}),m=cT({resolver:hT(iK),defaultValues:{englishGrammarConcept:"",userLanguageProficiency:""}}),g=e==="Ahmed"?y:m,{register:w,handleSubmit:b,formState:{errors:S,isSubmitting:A},setValue:v,reset:_,getValues:T}=g;x.useEffect(()=>{c.current&&a&&c.current.abort(),i([]),y.reset({englishGrammarConcept:""}),m.reset({englishGrammarConcept:"",userLanguageProficiency:""})},[e]),x.useEffect(()=>{p.current?.scrollIntoView({behavior:"smooth"})},[r]);const j=async(C,M)=>{if(!(!C||s||d===M)){u.current&&u.current.pause(),f(M);try{const D=await Gn({prompt:C,lang:"ar"});if(D&&D.media){const q=new Audio(D.media);u.current=q,q.play().catch($=>{console.error("Audio playback error:",$),n({title:"Audio Playback Error",variant:"destructive"}),f(null)}),q.onended=()=>f(null),q.onerror=()=>{n({variant:"destructive",title:"Error playing audio."}),f(null)}}else n({variant:"destructive",title:"Failed to generate audio."}),f(null)}catch(D){console.error("TTS Error:",D),n({variant:"destructive",title:"Error generating audio."}),f(null)}}};x.useEffect(()=>{const C=window.SpeechRecognition||window.webkitSpeechRecognition;if(!C){console.warn("Speech Recognition API not supported.");return}const M=new C;M.continuous=!1,M.interimResults=!1,M.lang="ar-SA",M.onstart=()=>o(!0),M.onend=()=>o(!1),M.onerror=D=>{console.error("Speech recognition error:",D.error),n({variant:"destructive",title:"خطأ في الإدخال الصوتي",description:"تعذر بدء التعرف."}),o(!1)},M.onresult=D=>{const q=D.results[0][0].transcript;v("englishGrammarConcept",q,{shouldValidate:!0})},c.current=M},[v,n]),x.useEffect(()=>()=>{u.current&&u.current.pause()},[]);const P=()=>{c.current&&(a?c.current.stop():c.current.start())},O=async C=>{const M=C.englishGrammarConcept;if(!M)return;const D={id:Date.now(),speaker:"User",message:M},q=[...r,D];i(q),_({...T(),englishGrammarConcept:""});try{let $;const W=q.map(({speaker:z,message:U})=>({speaker:z,message:U}));if(e==="Ahmed"){const z={englishGrammarConcept:M,conversationHistory:W.length>1?W.slice(0,-1):[]};$=await K7(z)}else{const U={englishGrammarConcept:M,userLanguageProficiency:C.userLanguageProficiency||"Intermediate",conversationHistory:W.length>1?W.slice(0,-1):[]};$=await Q7(U)}const V={id:Date.now()+1,speaker:e,message:$.explanation};i(z=>[...z,V].slice(-(aK*2))),s||j($.explanation,V.id)}catch($){console.error(`Error calling ${e}:`,$),n({variant:"destructive",title:"فشل الاتصال",description:`تعذر الاتصال بـ ${e}. يرجى المحاولة مرة أخرى.`}),i(W=>W.slice(0,-1))}},I=C=>{if(C){const M=`اشرح لي زمن ${C}`;v("englishGrammarConcept",M)}},E={Ahmed:{name:"أحمد",avatarSrc:"https://placehold.co/128x128/3498db/ffffff.png",avatarHint:"male teacher"},Sara:{name:"سارة",avatarSrc:"https://placehold.co/128x128/e91e63/ffffff.png",avatarHint:"female teacher"}}[e];return h.jsx("div",{className:"flex flex-col h-full bg-background text-foreground",children:h.jsxs(Ue,{className:"w-full h-full max-w-3xl mx-auto my-4 shadow-xl bg-card rounded-lg flex flex-col min-h-0",children:[h.jsxs(tt,{className:"p-4 border-b shrink-0",children:[h.jsx(tK,{value:e,onValueChange:C=>t(C),className:"w-full",children:h.jsxs(RE,{className:"grid w-full grid-cols-2 h-auto",children:[h.jsxs(Og,{value:"Ahmed",className:"py-2 sm:py-3 text-sm sm:text-base data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-md rounded-md",children:[h.jsx(Bs,{className:"ms-2 h-4 w-4 sm:h-5 sm:w-5"})," أحمد"]}),h.jsxs(Og,{value:"Sara",className:"py-2 sm:py-3 text-sm sm:text-base data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-md rounded-md",children:[h.jsx(Bs,{className:"ms-2 h-4 w-4 sm:h-5 sm:w-5"})," سارة"]})]})}),h.jsxs("div",{className:"flex justify-between items-center mt-4",children:[h.jsxs(nt,{className:"text-xl",children:["محادثة مع ",E.name]}),h.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>l(!s),"aria-label":s?"إلغاء كتم الصوت":"كتم الصوت",children:s?h.jsx(XR,{className:"h-5 w-5"}):h.jsx(At,{className:"h-5 w-5"})})]})]}),h.jsx("div",{className:"flex-grow min-h-0",children:h.jsx(pt,{className:"h-full",children:h.jsxs("div",{className:"p-4 space-y-4",children:[r.length>0?r.map((C,M)=>h.jsxs("div",{className:`flex items-end gap-2 ${C.speaker==="User"?"justify-end":"justify-start"}`,ref:M===r.length-1?p:null,children:[C.speaker!=="User"&&h.jsxs(Ra,{className:"h-6 w-6",children:[h.jsx(Xs,{src:E.avatarSrc}),h.jsx(Da,{children:C.speaker.charAt(0)})]}),h.jsxs("div",{className:`rounded-lg px-3 py-2 max-w-[85%] flex items-center gap-2 ${C.speaker==="User"?"bg-primary text-primary-foreground":"bg-muted"}`,children:[h.jsx("p",{className:"text-sm whitespace-pre-wrap",children:C.message}),C.speaker!=="User"&&h.jsx(oe,{variant:"ghost",size:"icon",className:"shrink-0 h-6 w-6 p-1 text-muted-foreground",onClick:()=>j(C.message,C.id),disabled:d===C.id,children:d===C.id?h.jsx(xt,{className:"h-4 w-4 animate-spin"}):h.jsx(At,{className:"h-4 w-4"})})]}),C.speaker==="User"&&h.jsx(Ra,{className:"h-6 w-6",children:h.jsx(Da,{children:"U"})})]},C.id)):h.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-muted-foreground text-center p-8",children:[h.jsx(cy,{className:"h-10 w-10 mb-2"}),h.jsx("p",{children:"ابدأ المحادثة باختيار موضوع أو طرح سؤال أدناه."})]}),A&&h.jsxs("div",{className:"flex items-start gap-2 justify-start",children:[h.jsxs(Ra,{className:"h-6 w-6",children:[h.jsx(Xs,{src:E.avatarSrc}),h.jsx(Da,{children:e.charAt(0)})]}),h.jsx("div",{className:"rounded-lg px-3 py-2 bg-muted flex items-center",children:h.jsx(xt,{className:"h-4 w-4 animate-spin"})})]})]})})}),h.jsx("div",{className:"p-4 border-t shrink-0 bg-background/50",children:h.jsxs("form",{onSubmit:b(O),className:"space-y-3",children:[e==="Sara"&&r.length===0&&h.jsxs("div",{children:[h.jsx(jt,{htmlFor:"userLanguageProficiency",className:"text-sm sm:text-md font-medium",children:"مستوى إتقانك للغة الإنجليزية"}),h.jsx(No,{id:"userLanguageProficiency",placeholder:"مثال: مبتدئ، متوسط، متقدم",...w("userLanguageProficiency"),className:`mt-1 text-base bg-background focus:ring-2 focus:ring-primary ${S.userLanguageProficiency?"border-destructive focus:ring-destructive":"border-border"}`,disabled:A}),S.userLanguageProficiency&&h.jsx("p",{className:"text-xs sm:text-sm text-destructive mt-1",children:S.userLanguageProficiency.message})]}),h.jsxs("div",{children:[h.jsx(jt,{htmlFor:"tense-select",className:"text-sm sm:text-md font-medium",children:"اختر زمناً ليبدأ الشرح"}),h.jsxs(Dy,{onValueChange:I,disabled:A,children:[h.jsx(mc,{id:"tense-select",className:"mt-1 text-base",children:h.jsx(qy,{placeholder:"اختر زمناً من القائمة..."})}),h.jsx(gc,{children:oK.map(C=>h.jsx(yc,{value:C,children:C},C))})]})]}),h.jsxs("div",{children:[h.jsx(jt,{htmlFor:"englishGrammarConcept",className:"text-sm sm:text-md font-medium",children:"أو اطرح سؤالاً للمتابعة"}),h.jsxs("div",{className:"flex gap-2 mt-1",children:[h.jsx(oe,{type:"button",size:"icon",variant:a?"destructive":"outline",onClick:P,className:"h-auto px-3 shrink-0",disabled:A,children:a?h.jsx(uy,{className:"h-5 w-5"}):h.jsx(Fs,{className:"h-5 w-5"})}),h.jsx(Zi,{id:"englishGrammarConcept",placeholder:"اكتب سؤال متابعة هنا أو استخدم الميكروفون...",...w("englishGrammarConcept"),className:`text-base bg-background focus:ring-2 focus:ring-primary ${S.englishGrammarConcept?"border-destructive focus:ring-destructive":"border-border"}`,rows:1,disabled:A}),h.jsx(oe,{type:"submit",size:"icon",className:"h-auto px-3 shrink-0",disabled:A||!T("englishGrammarConcept"),children:A?h.jsx(xt,{className:"h-5 w-5 animate-spin"}):h.jsx(Vj,{className:"h-5 w-5"})})]}),S.englishGrammarConcept&&h.jsx("p",{className:"text-xs sm:text-sm text-destructive mt-1",children:S.englishGrammarConcept.message})]})]})})]})})}const Kv=x.createContext({});function Zc(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const eu=x.createContext(null),tu=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class lK extends x.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function cK({children:e,isPresent:t}){const n=x.useId(),r=x.useRef(null),i=x.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=x.useContext(tu);return x.useInsertionEffect(()=>{const{width:o,height:s,top:l,left:c}=i.current;if(t||!r.current||!o||!s)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return a&&(u.nonce=a),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${s}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),h.jsx(lK,{isPresent:t,childRef:r,sizeRef:i,children:x.cloneElement(e,{ref:r})})}const uK=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o})=>{const s=Zc(dK),l=x.useId(),c=x.useCallback(d=>{s.set(d,!0);for(const f of s.values())if(!f)return;r&&r()},[s,r]),u=x.useMemo(()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:c,register:d=>(s.set(d,!1),()=>s.delete(d))}),a?[Math.random(),c]:[n,c]);return x.useMemo(()=>{s.forEach((d,f)=>s.set(f,!1))},[n]),x.useEffect(()=>{!n&&!s.size&&r&&r()},[n]),o==="popLayout"&&(e=h.jsx(cK,{isPresent:n,children:e})),h.jsx(eu.Provider,{value:u,children:e})};function dK(){return new Map}function DE(e=!0){const t=x.useContext(eu);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,a=x.useId();x.useEffect(()=>{e&&i(a)},[e]);const o=x.useCallback(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,o]:[!0]}const Ts=e=>e.key||"";function fT(e){const t=[];return x.Children.forEach(e,n=>{x.isValidElement(n)&&t.push(n)}),t}const Xv=typeof window<"u",qE=Xv?x.useLayoutEffect:x.useEffect,LE=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1})=>{const[s,l]=DE(o),c=x.useMemo(()=>fT(e),[e]),u=o&&!s?[]:c.map(Ts),d=x.useRef(!0),f=x.useRef(c),p=Zc(()=>new Map),[y,m]=x.useState(c),[g,w]=x.useState(c);qE(()=>{d.current=!1,f.current=c;for(let A=0;A<g.length;A++){const v=Ts(g[A]);u.includes(v)?p.delete(v):p.get(v)!==!0&&p.set(v,!1)}},[g,u.length,u.join("-")]);const b=[];if(c!==y){let A=[...c];for(let v=0;v<g.length;v++){const _=g[v],T=Ts(_);u.includes(T)||(A.splice(v,0,_),b.push(_))}a==="wait"&&b.length&&(A=b),w(fT(A)),m(c);return}const{forceRender:S}=x.useContext(Kv);return h.jsx(h.Fragment,{children:g.map(A=>{const v=Ts(A),_=o&&!s?!1:c===g||u.includes(v),T=()=>{if(p.has(v))p.set(v,!0);else return;let j=!0;p.forEach(P=>{P||(j=!1)}),j&&(S?.(),w(f.current),o&&l?.(),r&&r())};return h.jsx(uK,{isPresent:_,initial:!d.current||n?void 0:!1,custom:_?void 0:t,presenceAffectsLayout:i,mode:a,onExitComplete:_?void 0:T,children:A},v)})})},$t=e=>e;let $E=$t;function Qv(e){let t;return()=>(t===void 0&&(t=e()),t)}const zi=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},$n=e=>e*1e3,Fn=e=>e/1e3,hK={useManualTiming:!1};function fK(e){let t=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function s(c){a.has(c)&&(l.schedule(c),e()),c(o)}const l={schedule:(c,u=!1,d=!1)=>{const p=d&&r?t:n;return u&&a.add(c),p.has(c)||p.add(c),c},cancel:c=>{n.delete(c),a.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(s),t.clear(),r=!1,i&&(i=!1,l.process(c))}};return l}const js=["read","resolveKeyframes","update","preRender","render","postRender"],pK=40;function FE(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=js.reduce((w,b)=>(w[b]=fK(a),w),{}),{read:s,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:f}=o,p=()=>{const w=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,pK),1),i.timestamp=w,i.isProcessing=!0,s.process(i),l.process(i),c.process(i),u.process(i),d.process(i),f.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(p))},y=()=>{n=!0,r=!0,i.isProcessing||e(p)};return{schedule:js.reduce((w,b)=>{const S=o[b];return w[b]=(A,v=!1,_=!1)=>(n||y(),S.schedule(A,v,_)),w},{}),cancel:w=>{for(let b=0;b<js.length;b++)o[js[b]].cancel(w)},state:i,steps:o}}const{schedule:Fe,cancel:dr,state:ht,steps:Bp}=FE(typeof requestAnimationFrame<"u"?requestAnimationFrame:$t,!0),BE=x.createContext({strict:!1}),pT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gi={};for(const e in pT)Gi[e]={isEnabled:t=>pT[e].some(n=>!!t[n])};function mK(e){for(const t in e)Gi[t]={...Gi[t],...e[t]}}const gK=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||gK.has(e)}let WE=e=>!Yl(e);function yK(e){e&&(WE=t=>t.startsWith("on")?!Yl(t):e(t))}try{yK(require("@emotion/is-prop-valid").default)}catch{}function vK(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(WE(i)||n===!0&&Yl(i)||!t&&!Yl(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function bK(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const nu=x.createContext({});function Mo(e){return typeof e=="string"||Array.isArray(e)}function ru(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Jv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zv=["initial",...Jv];function iu(e){return ru(e.animate)||Zv.some(t=>Mo(e[t]))}function VE(e){return!!(iu(e)||e.variants)}function wK(e,t){if(iu(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Mo(n)?n:void 0,animate:Mo(r)?r:void 0}}return e.inherit!==!1?t:{}}function xK(e){const{initial:t,animate:n}=wK(e,x.useContext(nu));return x.useMemo(()=>({initial:t,animate:n}),[mT(t),mT(n)])}function mT(e){return Array.isArray(e)?e.join(" "):e}const SK=Symbol.for("motionComponentSymbol");function ui(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function _K(e,t,n){return x.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):ui(n)&&(n.current=r))},[t])}const eb=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),AK="framerAppearId",HE="data-"+eb(AK),{schedule:tb}=FE(queueMicrotask,!1),UE=x.createContext({});function TK(e,t,n,r,i){var a,o;const{visualElement:s}=x.useContext(nu),l=x.useContext(BE),c=x.useContext(eu),u=x.useContext(tu).reducedMotion,d=x.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:s,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const f=d.current,p=x.useContext(UE);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&jK(d.current,n,i,p);const y=x.useRef(!1);x.useInsertionEffect(()=>{f&&y.current&&f.update(n,c)});const m=n[HE],g=x.useRef(!!m&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,m))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,m)));return qE(()=>{f&&(y.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),tb.render(f.render),g.current&&f.animationState&&f.animationState.animateChanges())}),x.useEffect(()=>{f&&(!g.current&&f.animationState&&f.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,m)}),g.current=!1))}),f}function jK(e,t,n,r){const{layoutId:i,layout:a,drag:o,dragConstraints:s,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:zE(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||s&&ui(s),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function zE(e){if(e)return e.options.allowProjection!==!1?e.projection:zE(e.parent)}function PK({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){var a,o;e&&mK(e);function s(c,u){let d;const f={...x.useContext(tu),...c,layoutId:IK(c)},{isStatic:p}=f,y=xK(c),m=r(c,p);if(!p&&Xv){kK();const g=OK(f);d=g.MeasureLayout,y.visualElement=TK(i,m,f,t,g.ProjectionNode)}return h.jsxs(nu.Provider,{value:y,children:[d&&y.visualElement?h.jsx(d,{visualElement:y.visualElement,...f}):null,n(i,c,_K(m,y.visualElement,u),m,p,y.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${(o=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&o!==void 0?o:""})`}`;const l=x.forwardRef(s);return l[SK]=i,l}function IK({layoutId:e}){const t=x.useContext(Kv).id;return t&&e!==void 0?t+"-"+e:e}function kK(e,t){x.useContext(BE).strict}function OK(e){const{drag:t,layout:n}=Gi;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const CK=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function nb(e){return typeof e!="string"||e.includes("-")?!1:!!(CK.indexOf(e)>-1||/[A-Z]/u.test(e))}function gT(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function rb(e,t,n,r){if(typeof t=="function"){const[i,a]=gT(r);t=t(n!==void 0?n:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=gT(r);t=t(n!==void 0?n:e.custom,i,a)}return t}const Cg=e=>Array.isArray(e),EK=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),NK=e=>Cg(e)?e[e.length-1]||0:e,wt=e=>!!(e&&e.getVelocity);function Ds(e){const t=wt(e)?e.get():e;return EK(t)?t.toValue():t}function MK({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,a){const o={latestValues:RK(r,i,a,e),renderState:t()};return n&&(o.onMount=s=>n({props:r,current:s,...o}),o.onUpdate=s=>n(s)),o}const GE=e=>(t,n)=>{const r=x.useContext(nu),i=x.useContext(eu),a=()=>MK(e,t,r,i);return n?a():Zc(a)};function RK(e,t,n,r){const i={},a=r(e,{});for(const f in a)i[f]=Ds(a[f]);let{initial:o,animate:s}=e;const l=iu(e),c=VE(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),s===void 0&&(s=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?s:o;if(d&&typeof d!="boolean"&&!ru(d)){const f=Array.isArray(d)?d:[d];for(let p=0;p<f.length;p++){const y=rb(e,f[p]);if(y){const{transitionEnd:m,transition:g,...w}=y;for(const b in w){let S=w[b];if(Array.isArray(S)){const A=u?S.length-1:0;S=S[A]}S!==null&&(i[b]=S)}for(const b in m)i[b]=m[b]}}}return i}const da=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ti=new Set(da),YE=e=>t=>typeof t=="string"&&t.startsWith(e),KE=YE("--"),DK=YE("var(--"),ib=e=>DK(e)?qK.test(e.split("/*")[0].trim()):!1,qK=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,XE=(e,t)=>t&&typeof e=="number"?t.transform(e):e,zn=(e,t,n)=>n>t?t:n<e?e:n,ha={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ro={...ha,transform:e=>zn(0,1,e)},Ps={...ha,default:1},ts=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Jn=ts("deg"),_n=ts("%"),ce=ts("px"),LK=ts("vh"),$K=ts("vw"),yT={..._n,parse:e=>_n.parse(e)/100,transform:e=>_n.transform(e*100)},FK={borderWidth:ce,borderTopWidth:ce,borderRightWidth:ce,borderBottomWidth:ce,borderLeftWidth:ce,borderRadius:ce,radius:ce,borderTopLeftRadius:ce,borderTopRightRadius:ce,borderBottomRightRadius:ce,borderBottomLeftRadius:ce,width:ce,maxWidth:ce,height:ce,maxHeight:ce,top:ce,right:ce,bottom:ce,left:ce,padding:ce,paddingTop:ce,paddingRight:ce,paddingBottom:ce,paddingLeft:ce,margin:ce,marginTop:ce,marginRight:ce,marginBottom:ce,marginLeft:ce,backgroundPositionX:ce,backgroundPositionY:ce},BK={rotate:Jn,rotateX:Jn,rotateY:Jn,rotateZ:Jn,scale:Ps,scaleX:Ps,scaleY:Ps,scaleZ:Ps,skew:Jn,skewX:Jn,skewY:Jn,distance:ce,translateX:ce,translateY:ce,translateZ:ce,x:ce,y:ce,z:ce,perspective:ce,transformPerspective:ce,opacity:Ro,originX:yT,originY:yT,originZ:ce},vT={...ha,transform:Math.round},ab={...FK,...BK,zIndex:vT,size:ce,fillOpacity:Ro,strokeOpacity:Ro,numOctaves:vT},WK={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},VK=da.length;function HK(e,t,n){let r="",i=!0;for(let a=0;a<VK;a++){const o=da[a],s=e[o];if(s===void 0)continue;let l=!0;if(typeof s=="number"?l=s===(o.startsWith("scale")?1:0):l=parseFloat(s)===0,!l||n){const c=XE(s,ab[o]);if(!l){i=!1;const u=WK[o]||o;r+=`${u}(${c}) `}n&&(t[o]=c)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function ob(e,t,n){const{style:r,vars:i,transformOrigin:a}=e;let o=!1,s=!1;for(const l in t){const c=t[l];if(ti.has(l)){o=!0;continue}else if(KE(l)){i[l]=c;continue}else{const u=XE(c,ab[l]);l.startsWith("origin")?(s=!0,a[l]=u):r[l]=u}}if(t.transform||(o||n?r.transform=HK(t,e.transform,n):r.transform&&(r.transform="none")),s){const{originX:l="50%",originY:c="50%",originZ:u=0}=a;r.transformOrigin=`${l} ${c} ${u}`}}const UK={offset:"stroke-dashoffset",array:"stroke-dasharray"},zK={offset:"strokeDashoffset",array:"strokeDasharray"};function GK(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?UK:zK;e[a.offset]=ce.transform(-r);const o=ce.transform(t),s=ce.transform(n);e[a.array]=`${o} ${s}`}function bT(e,t,n){return typeof e=="string"?e:ce.transform(t+n*e)}function YK(e,t,n){const r=bT(t,e.x,e.width),i=bT(n,e.y,e.height);return`${r} ${i}`}function sb(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:a,pathLength:o,pathSpacing:s=1,pathOffset:l=0,...c},u,d){if(ob(e,c,d),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:y}=e;f.transform&&(y&&(p.transform=f.transform),delete f.transform),y&&(i!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=YK(y,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&GK(f,o,s,l,!1)}const lb=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),QE=()=>({...lb(),attrs:{}}),cb=e=>typeof e=="string"&&e.toLowerCase()==="svg";function JE(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const ZE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function eN(e,t,n,r){JE(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(ZE.has(i)?i:eb(i),t.attrs[i])}const Kl={};function KK(e){Object.assign(Kl,e)}function tN(e,{layout:t,layoutId:n}){return ti.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Kl[e]||e==="opacity")}function ub(e,t,n){var r;const{style:i}=e,a={};for(const o in i)(wt(i[o])||t.style&&wt(t.style[o])||tN(o,e)||((r=n?.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[o]=i[o]);return a}function nN(e,t,n){const r=ub(e,t,n);for(const i in e)if(wt(e[i])||wt(t[i])){const a=da.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=e[i]}return r}function XK(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const wT=["x","y","width","height","cx","cy","r"],QK={useVisualState:GE({scrapeMotionValuesFromProps:nN,createRenderState:QE,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!e.drag;if(!a){for(const s in i)if(ti.has(s)){a=!0;break}}if(!a)return;let o=!t;if(t)for(let s=0;s<wT.length;s++){const l=wT[s];e[l]!==t[l]&&(o=!0)}o&&Fe.read(()=>{XK(n,r),Fe.render(()=>{sb(r,i,cb(n.tagName),e.transformTemplate),eN(n,r)})})}})},JK={useVisualState:GE({scrapeMotionValuesFromProps:ub,createRenderState:lb})};function rN(e,t,n){for(const r in t)!wt(t[r])&&!tN(r,n)&&(e[r]=t[r])}function ZK({transformTemplate:e},t){return x.useMemo(()=>{const n=lb();return ob(n,t,e),Object.assign({},n.vars,n.style)},[t])}function eX(e,t){const n=e.style||{},r={};return rN(r,n,e),Object.assign(r,ZK(e,t)),r}function tX(e,t){const n={},r=eX(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function nX(e,t,n,r){const i=x.useMemo(()=>{const a=QE();return sb(a,t,cb(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};rN(a,e.style,e),i.style={...a,...i.style}}return i}function rX(e=!1){return(n,r,i,{latestValues:a},o)=>{const l=(nb(n)?nX:tX)(r,a,o,n),c=vK(r,typeof n=="string",e),u=n!==x.Fragment?{...c,...l,ref:i}:{},{children:d}=r,f=x.useMemo(()=>wt(d)?d.get():d,[d]);return x.createElement(n,{...u,children:f})}}function iX(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...nb(r)?QK:JK,preloadedFeatures:e,useRender:rX(i),createVisualElement:t,Component:r};return PK(o)}}function iN(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function au(e,t,n){const r=e.getProps();return rb(r,t,n!==void 0?n:r.custom,e)}const aX=Qv(()=>window.ScrollTimeline!==void 0);class oX{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>{if(aX()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class sX extends oX{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function db(e,t){return e?e[t]||e.default||e:void 0}const Eg=2e4;function aN(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Eg;)t+=n,r=e.next(t);return t>=Eg?1/0:t}function hb(e){return typeof e=="function"}function xT(e,t){e.timeline=t,e.onfinish=null}const fb=e=>Array.isArray(e)&&typeof e[0]=="number",lX={linearEasing:void 0};function cX(e,t){const n=Qv(e);return()=>{var r;return(r=lX[t])!==null&&r!==void 0?r:n()}}const Xl=cX(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),oN=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)r+=e(zi(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function sN(e){return!!(typeof e=="function"&&Xl()||!e||typeof e=="string"&&(e in Ng||Xl())||fb(e)||Array.isArray(e)&&e.every(sN))}const Oa=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Ng={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Oa([0,.65,.55,1]),circOut:Oa([.55,0,1,.45]),backIn:Oa([.31,.01,.66,-.59]),backOut:Oa([.33,1.53,.69,.99])};function lN(e,t){if(e)return typeof e=="function"&&Xl()?oN(e,t):fb(e)?Oa(e):Array.isArray(e)?e.map(n=>lN(n,t)||Ng.easeOut):Ng[e]}const an={x:!1,y:!1};function cN(){return an.x||an.y}function uX(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function uN(e,t){const n=uX(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function ST(e){return t=>{t.pointerType==="touch"||cN()||e(t)}}function dX(e,t,n={}){const[r,i,a]=uN(e,n),o=ST(s=>{const{target:l}=s,c=t(s);if(typeof c!="function"||!l)return;const u=ST(d=>{c(d),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,i)});return r.forEach(s=>{s.addEventListener("pointerenter",o,i)}),a}const dN=(e,t)=>t?e===t?!0:dN(e,t.parentElement):!1,pb=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,hX=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function fX(e){return hX.has(e.tagName)||e.tabIndex!==-1}const Ca=new WeakSet;function _T(e){return t=>{t.key==="Enter"&&e(t)}}function Wp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const pX=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=_T(()=>{if(Ca.has(n))return;Wp(n,"down");const i=_T(()=>{Wp(n,"up")}),a=()=>Wp(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function AT(e){return pb(e)&&!cN()}function mX(e,t,n={}){const[r,i,a]=uN(e,n),o=s=>{const l=s.currentTarget;if(!AT(s)||Ca.has(l))return;Ca.add(l);const c=t(s),u=(p,y)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),!(!AT(p)||!Ca.has(l))&&(Ca.delete(l),typeof c=="function"&&c(p,{success:y}))},d=p=>{u(p,n.useGlobalTarget||dN(l,p.target))},f=p=>{u(p,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return r.forEach(s=>{!fX(s)&&s.getAttribute("tabindex")===null&&(s.tabIndex=0),(n.useGlobalTarget?window:s).addEventListener("pointerdown",o,i),s.addEventListener("focus",c=>pX(c,i),i)}),a}function gX(e){return e==="x"||e==="y"?an[e]?null:(an[e]=!0,()=>{an[e]=!1}):an.x||an.y?null:(an.x=an.y=!0,()=>{an.x=an.y=!1})}const hN=new Set(["width","height","top","left","right","bottom",...da]);let qs;function yX(){qs=void 0}const An={now:()=>(qs===void 0&&An.set(ht.isProcessing||hK.useManualTiming?ht.timestamp:performance.now()),qs),set:e=>{qs=e,queueMicrotask(yX)}};function mb(e,t){e.indexOf(t)===-1&&e.push(t)}function gb(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class yb{constructor(){this.subscriptions=[]}add(t){return mb(this.subscriptions,t),()=>gb(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function fN(e,t){return t?e*(1e3/t):0}const TT=30,vX=e=>!isNaN(parseFloat(e));class bX{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=An.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=An.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=vX(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new yb);const r=this.events[t].add(n);return t==="change"?()=>{r(),Fe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=An.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>TT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,TT);return fN(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yi(e,t){return new bX(e,t)}function wX(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Yi(n))}function xX(e,t){const n=au(e,t);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const o in a){const s=NK(a[o]);wX(e,o,s)}}function SX(e){return!!(wt(e)&&e.add)}function Mg(e,t){const n=e.getValue("willChange");if(SX(n))return n.add(t)}function pN(e){return e.props[HE]}const mN=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,_X=1e-7,AX=12;function TX(e,t,n,r,i){let a,o,s=0;do o=t+(n-t)/2,a=mN(o,r,i)-e,a>0?n=o:t=o;while(Math.abs(a)>_X&&++s<AX);return o}function ns(e,t,n,r){if(e===t&&n===r)return $t;const i=a=>TX(a,0,1,e,n);return a=>a===0||a===1?a:mN(i(a),t,r)}const gN=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,yN=e=>t=>1-e(1-t),vN=ns(.33,1.53,.69,.99),vb=yN(vN),bN=gN(vb),wN=e=>(e*=2)<1?.5*vb(e):.5*(2-Math.pow(2,-10*(e-1))),bb=e=>1-Math.sin(Math.acos(e)),xN=yN(bb),SN=gN(bb),_N=e=>/^0[^.\s]+$/u.test(e);function jX(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||_N(e):!0}const Wa=e=>Math.round(e*1e5)/1e5,wb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function PX(e){return e==null}const IX=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xb=(e,t)=>n=>!!(typeof n=="string"&&IX.test(n)&&n.startsWith(e)||t&&!PX(n)&&Object.prototype.hasOwnProperty.call(n,t)),AN=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,a,o,s]=r.match(wb);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},kX=e=>zn(0,255,e),Vp={...ha,transform:e=>Math.round(kX(e))},Dr={test:xb("rgb","red"),parse:AN("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Vp.transform(e)+", "+Vp.transform(t)+", "+Vp.transform(n)+", "+Wa(Ro.transform(r))+")"};function OX(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Rg={test:xb("#"),parse:OX,transform:Dr.transform},di={test:xb("hsl","hue"),parse:AN("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+_n.transform(Wa(t))+", "+_n.transform(Wa(n))+", "+Wa(Ro.transform(r))+")"},yt={test:e=>Dr.test(e)||Rg.test(e)||di.test(e),parse:e=>Dr.test(e)?Dr.parse(e):di.test(e)?di.parse(e):Rg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Dr.transform(e):di.transform(e)},CX=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function EX(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(wb))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(CX))===null||n===void 0?void 0:n.length)||0)>0}const TN="number",jN="color",NX="var",MX="var(",jT="${}",RX=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Do(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const s=t.replace(RX,l=>(yt.test(l)?(r.color.push(a),i.push(jN),n.push(yt.parse(l))):l.startsWith(MX)?(r.var.push(a),i.push(NX),n.push(l)):(r.number.push(a),i.push(TN),n.push(parseFloat(l))),++a,jT)).split(jT);return{values:n,split:s,indexes:r,types:i}}function PN(e){return Do(e).values}function IN(e){const{split:t,types:n}=Do(e),r=t.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=t[o],i[o]!==void 0){const s=n[o];s===TN?a+=Wa(i[o]):s===jN?a+=yt.transform(i[o]):a+=i[o]}return a}}const DX=e=>typeof e=="number"?0:e;function qX(e){const t=PN(e);return IN(e)(t.map(DX))}const hr={test:EX,parse:PN,createTransformer:IN,getAnimatableNone:qX},LX=new Set(["brightness","contrast","saturate","opacity"]);function $X(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(wb)||[];if(!r)return e;const i=n.replace(r,"");let a=LX.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const FX=/\b([a-z-]*)\(.*?\)/gu,Dg={...hr,getAnimatableNone:e=>{const t=e.match(FX);return t?t.map($X).join(" "):e}},BX={...ab,color:yt,backgroundColor:yt,outlineColor:yt,fill:yt,stroke:yt,borderColor:yt,borderTopColor:yt,borderRightColor:yt,borderBottomColor:yt,borderLeftColor:yt,filter:Dg,WebkitFilter:Dg},Sb=e=>BX[e];function kN(e,t){let n=Sb(e);return n!==Dg&&(n=hr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const WX=new Set(["auto","none","0"]);function VX(e,t,n){let r=0,i;for(;r<e.length&&!i;){const a=e[r];typeof a=="string"&&!WX.has(a)&&Do(a).values.length&&(i=e[r]),r++}if(i&&n)for(const a of t)e[a]=kN(n,i)}const PT=e=>e===ha||e===ce,IT=(e,t)=>parseFloat(e.split(", ")[t]),kT=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return IT(i[1],t);{const a=r.match(/^matrix\((.+)\)$/u);return a?IT(a[1],e):0}},HX=new Set(["x","y","z"]),UX=da.filter(e=>!HX.has(e));function zX(e){const t=[];return UX.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Ki={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:kT(4,13),y:kT(5,14)};Ki.translateX=Ki.x;Ki.translateY=Ki.y;const Br=new Set;let qg=!1,Lg=!1;function ON(){if(Lg){const e=Array.from(Br).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=zX(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,o])=>{var s;(s=r.getValue(a))===null||s===void 0||s.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Lg=!1,qg=!1,Br.forEach(e=>e.complete()),Br.clear()}function CN(){Br.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Lg=!0)})}function GX(){CN(),ON()}class _b{constructor(t,n,r,i,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Br.add(this),qg||(qg=!0,Fe.read(CN),Fe.resolveKeyframes(ON))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const o=i?.get(),s=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const l=r.readValue(n,s);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=s),i&&o===void 0&&i.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Br.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Br.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const EN=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),YX=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function KX(e){const t=YX.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function NN(e,t,n=1){const[r,i]=KX(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const o=a.trim();return EN(o)?parseFloat(o):o}return ib(i)?NN(i,t,n+1):i}const MN=e=>t=>t.test(e),XX={test:e=>e==="auto",parse:e=>e},RN=[ha,ce,_n,Jn,$K,LK,XX],OT=e=>RN.find(MN(e));class DN extends _b{constructor(t,n,r,i,a){super(t,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),ib(c))){const u=NN(c,n.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!hN.has(r)||t.length!==2)return;const[i,a]=t,o=OT(i),s=OT(a);if(o!==s)if(PT(o)&&PT(s))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)jX(t[i])&&r.push(i);r.length&&VX(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ki[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,s=i[o];i[o]=Ki[r](n.measureViewportBox(),window.getComputedStyle(n.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const CT=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(hr.test(e)||e==="0")&&!e.startsWith("url("));function QX(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function JX(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=CT(i,t),s=CT(a,t);return!o||!s?!1:QX(e)||(n==="spring"||hb(n))&&r}const ZX=e=>e!==null;function ou(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(ZX),a=t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const eQ=40;class qN{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",...s}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=An.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:o,...s},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>eQ?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&GX(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=An.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:o,onComplete:s,onUpdate:l,isGenerator:c}=this.options;if(!c&&!JX(t,r,i,a))if(o)this.options.duration=0;else{l&&l(ou(t,this.options,n)),s&&s(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,n);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const ze=(e,t,n)=>e+(t-e)*n;function Hp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function tQ({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,o=0;if(!t)i=a=o=n;else{const s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;i=Hp(l,s,e+1/3),a=Hp(l,s,e),o=Hp(l,s,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function Ql(e,t){return n=>n>0?t:e}const Up=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},nQ=[Rg,Dr,di],rQ=e=>nQ.find(t=>t.test(e));function ET(e){const t=rQ(e);if(!t)return!1;let n=t.parse(e);return t===di&&(n=tQ(n)),n}const NT=(e,t)=>{const n=ET(e),r=ET(t);if(!n||!r)return Ql(e,t);const i={...n};return a=>(i.red=Up(n.red,r.red,a),i.green=Up(n.green,r.green,a),i.blue=Up(n.blue,r.blue,a),i.alpha=ze(n.alpha,r.alpha,a),Dr.transform(i))},iQ=(e,t)=>n=>t(e(n)),rs=(...e)=>e.reduce(iQ),$g=new Set(["none","hidden"]);function aQ(e,t){return $g.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function oQ(e,t){return n=>ze(e,t,n)}function Ab(e){return typeof e=="number"?oQ:typeof e=="string"?ib(e)?Ql:yt.test(e)?NT:cQ:Array.isArray(e)?LN:typeof e=="object"?yt.test(e)?NT:sQ:Ql}function LN(e,t){const n=[...e],r=n.length,i=e.map((a,o)=>Ab(a)(a,t[o]));return a=>{for(let o=0;o<r;o++)n[o]=i[o](a);return n}}function sQ(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Ab(e[i])(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function lQ(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],s=e.indexes[o][i[o]],l=(n=e.values[s])!==null&&n!==void 0?n:0;r[a]=l,i[o]++}return r}const cQ=(e,t)=>{const n=hr.createTransformer(t),r=Do(e),i=Do(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?$g.has(e)&&!i.values.length||$g.has(t)&&!r.values.length?aQ(e,t):rs(LN(lQ(r,i),i.values),n):Ql(e,t)};function $N(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ze(e,t,n):Ab(e)(e,t)}const uQ=5;function FN(e,t,n){const r=Math.max(t-uQ,0);return fN(n-e(r),t-r)}const Ge={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zp=.001;function dQ({duration:e=Ge.duration,bounce:t=Ge.bounce,velocity:n=Ge.velocity,mass:r=Ge.mass}){let i,a,o=1-t;o=zn(Ge.minDamping,Ge.maxDamping,o),e=zn(Ge.minDuration,Ge.maxDuration,Fn(e)),o<1?(i=c=>{const u=c*o,d=u*e,f=u-n,p=Fg(c,o),y=Math.exp(-d);return zp-f/p*y},a=c=>{const d=c*o*e,f=d*n+n,p=Math.pow(o,2)*Math.pow(c,2)*e,y=Math.exp(-d),m=Fg(Math.pow(c,2),o);return(-i(c)+zp>0?-1:1)*((f-p)*y)/m}):(i=c=>{const u=Math.exp(-c*e),d=(c-n)*e+1;return-zp+u*d},a=c=>{const u=Math.exp(-c*e),d=(n-c)*(e*e);return u*d});const s=5/e,l=fQ(i,a,s);if(e=$n(e),isNaN(l))return{stiffness:Ge.stiffness,damping:Ge.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const hQ=12;function fQ(e,t,n){let r=n;for(let i=1;i<hQ;i++)r=r-e(r)/t(r);return r}function Fg(e,t){return e*Math.sqrt(1-t*t)}const pQ=["duration","bounce"],mQ=["stiffness","damping","mass"];function MT(e,t){return t.some(n=>e[n]!==void 0)}function gQ(e){let t={velocity:Ge.velocity,stiffness:Ge.stiffness,damping:Ge.damping,mass:Ge.mass,isResolvedFromDuration:!1,...e};if(!MT(e,mQ)&&MT(e,pQ))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*zn(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Ge.mass,stiffness:i,damping:a}}else{const n=dQ(e);t={...t,...n,mass:Ge.mass},t.isResolvedFromDuration=!0}return t}function BN(e=Ge.visualDuration,t=Ge.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],s={done:!1,value:a},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=gQ({...n,velocity:-Fn(n.velocity||0)}),y=f||0,m=c/(2*Math.sqrt(l*u)),g=o-a,w=Fn(Math.sqrt(l/u)),b=Math.abs(g)<5;r||(r=b?Ge.restSpeed.granular:Ge.restSpeed.default),i||(i=b?Ge.restDelta.granular:Ge.restDelta.default);let S;if(m<1){const v=Fg(w,m);S=_=>{const T=Math.exp(-m*w*_);return o-T*((y+m*w*g)/v*Math.sin(v*_)+g*Math.cos(v*_))}}else if(m===1)S=v=>o-Math.exp(-w*v)*(g+(y+w*g)*v);else{const v=w*Math.sqrt(m*m-1);S=_=>{const T=Math.exp(-m*w*_),j=Math.min(v*_,300);return o-T*((y+m*w*g)*Math.sinh(j)+v*g*Math.cosh(j))/v}}const A={calculatedDuration:p&&d||null,next:v=>{const _=S(v);if(p)s.done=v>=d;else{let T=0;m<1&&(T=v===0?$n(y):FN(S,v,_));const j=Math.abs(T)<=r,P=Math.abs(o-_)<=i;s.done=j&&P}return s.value=s.done?o:_,s},toString:()=>{const v=Math.min(aN(A),Eg),_=oN(T=>A.next(v*T).value,v,30);return v+"ms "+_}};return A}function RT({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:s,max:l,restDelta:c=.5,restSpeed:u}){const d=e[0],f={done:!1,value:d},p=j=>s!==void 0&&j<s||l!==void 0&&j>l,y=j=>s===void 0?l:l===void 0||Math.abs(s-j)<Math.abs(l-j)?s:l;let m=n*t;const g=d+m,w=o===void 0?g:o(g);w!==g&&(m=w-d);const b=j=>-m*Math.exp(-j/r),S=j=>w+b(j),A=j=>{const P=b(j),O=S(j);f.done=Math.abs(P)<=c,f.value=f.done?w:O};let v,_;const T=j=>{p(f.value)&&(v=j,_=BN({keyframes:[f.value,y(f.value)],velocity:FN(S,j,f.value),damping:i,stiffness:a,restDelta:c,restSpeed:u}))};return T(0),{calculatedDuration:null,next:j=>{let P=!1;return!_&&v===void 0&&(P=!0,A(j),T(j)),v!==void 0&&j>=v?_.next(j-v):(!P&&A(j),f)}}}const yQ=ns(.42,0,1,1),vQ=ns(0,0,.58,1),WN=ns(.42,0,.58,1),bQ=e=>Array.isArray(e)&&typeof e[0]!="number",wQ={linear:$t,easeIn:yQ,easeInOut:WN,easeOut:vQ,circIn:bb,circInOut:SN,circOut:xN,backIn:vb,backInOut:bN,backOut:vN,anticipate:wN},DT=e=>{if(fb(e)){$E(e.length===4);const[t,n,r,i]=e;return ns(t,n,r,i)}else if(typeof e=="string")return wQ[e];return e};function xQ(e,t,n){const r=[],i=n||$N,a=e.length-1;for(let o=0;o<a;o++){let s=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||$t:t;s=rs(l,s)}r.push(s)}return r}function SQ(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if($E(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=xQ(t,r,i),l=s.length,c=u=>{if(o&&u<e[0])return t[0];let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=zi(e[d],e[d+1],u);return s[d](f)};return n?u=>c(zn(e[0],e[a-1],u)):c}function _Q(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=zi(0,t,r);e.push(ze(n,1,i))}}function AQ(e){const t=[0];return _Q(t,e.length-1),t}function TQ(e,t){return e.map(n=>n*t)}function jQ(e,t){return e.map(()=>t||WN).splice(0,e.length-1)}function Jl({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=bQ(r)?r.map(DT):DT(r),a={done:!1,value:t[0]},o=TQ(n&&n.length===t.length?n:AQ(t),e),s=SQ(o,t,{ease:Array.isArray(i)?i:jQ(t,i)});return{calculatedDuration:e,next:l=>(a.value=s(l),a.done=l>=e,a)}}const PQ=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Fe.update(t,!0),stop:()=>dr(t),now:()=>ht.isProcessing?ht.timestamp:An.now()}},IQ={decay:RT,inertia:RT,tween:Jl,keyframes:Jl,spring:BN},kQ=e=>e/100;class Tb extends qN{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:a}=this.options,o=i?.KeyframeResolver||_b,s=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(a,s,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=this.options,s=hb(n)?n:IQ[n]||Jl;let l,c;s!==Jl&&typeof t[0]!="number"&&(l=rs(kQ,$N(t[0],t[1])),t=[0,100]);const u=s({...this.options,keyframes:t});a==="mirror"&&(c=s({...this.options,keyframes:[...t].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=aN(u));const{calculatedDuration:d}=u,f=d+i,p=f*(r+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:j}=this.options;return{done:!0,value:j[j.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:o,mapPercentToKeyframes:s,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=r;if(this.startTime===null)return a.next(0);const{delay:f,repeat:p,repeatType:y,repeatDelay:m,onUpdate:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const w=this.currentTime-f*(this.speed>=0?1:-1),b=this.speed>=0?w<0:w>u;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let S=this.currentTime,A=a;if(p){const j=Math.min(this.currentTime,u)/d;let P=Math.floor(j),O=j%1;!O&&j>=1&&(O=1),O===1&&P--,P=Math.min(P,p+1),!!(P%2)&&(y==="reverse"?(O=1-O,m&&(O-=m/d)):y==="mirror"&&(A=o)),S=zn(0,1,O)*d}const v=b?{done:!1,value:l[0]}:A.next(S);s&&(v.value=s(v.value));let{done:_}=v;!b&&c!==null&&(_=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return T&&i!==void 0&&(v.value=ou(l,this.options,i)),g&&g(v.value),T&&this.finish(),v}get duration(){const{resolved:t}=this;return t?Fn(t.calculatedDuration):0}get time(){return Fn(this.currentTime)}set time(t){t=$n(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Fn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=PQ,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const OQ=new Set(["opacity","clipPath","filter","transform"]);function CQ(e,t,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:s="easeInOut",times:l}={}){const c={[t]:n};l&&(c.offset=l);const u=lN(s,i);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const EQ=Qv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Zl=10,NQ=2e4;function MQ(e){return hb(e.type)||e.type==="spring"||!sN(e.ease)}function RQ(e,t){const n=new Tb({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let a=0;for(;!r.done&&a<NQ;)r=n.sample(a),i.push(r.value),a+=Zl;return{times:void 0,keyframes:i,duration:a-Zl,ease:"linear"}}const VN={anticipate:wN,backInOut:bN,circInOut:SN};function DQ(e){return e in VN}class qT extends qN{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new DN(a,(o,s)=>this.onKeyframesResolved(o,s),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:i,ease:a,type:o,motionValue:s,name:l,startTime:c}=this.options;if(!s.owner||!s.owner.current)return!1;if(typeof a=="string"&&Xl()&&DQ(a)&&(a=VN[a]),MQ(this.options)){const{onComplete:d,onUpdate:f,motionValue:p,element:y,...m}=this.options,g=RQ(t,m);t=g.keyframes,t.length===1&&(t[1]=t[0]),r=g.duration,i=g.times,a=g.ease,o="keyframes"}const u=CQ(s.owner.current,l,t,{...this.options,duration:r,times:i,ease:a});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(xT(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:d}=this.options;s.set(ou(t,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:i,type:o,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Fn(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Fn(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=$n(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return $t;const{animation:r}=n;xT(r,t)}return $t}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:a,ease:o,times:s}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:f,...p}=this.options,y=new Tb({...p,keyframes:r,duration:i,type:a,ease:o,times:s,isGenerator:!0}),m=$n(this.time);c.setWithVelocity(y.sample(m-Zl).value,y.sample(m).value,Zl)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:o,type:s}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return EQ()&&r&&OQ.has(r)&&!l&&!c&&!i&&a!=="mirror"&&o!==0&&s!=="inertia"}}const qQ={type:"spring",stiffness:500,damping:25,restSpeed:10},LQ=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),$Q={type:"keyframes",duration:.8},FQ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},BQ=(e,{keyframes:t})=>t.length>2?$Q:ti.has(e)?e.startsWith("scale")?LQ(t[1]):qQ:FQ;function WQ({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:s,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const jb=(e,t,n,r={},i,a)=>o=>{const s=db(r,e)||{},l=s.delay||r.delay||0;let{elapsed:c=0}=r;c=c-$n(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...s,delay:-c,onUpdate:f=>{t.set(f),s.onUpdate&&s.onUpdate(f)},onComplete:()=>{o(),s.onComplete&&s.onComplete()},name:e,motionValue:t,element:a?void 0:i};WQ(s)||(u={...u,...BQ(e,u)}),u.duration&&(u.duration=$n(u.duration)),u.repeatDelay&&(u.repeatDelay=$n(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!a&&t.get()!==void 0){const f=ou(u.keyframes,s);if(f!==void 0)return Fe.update(()=>{u.onUpdate(f),u.onComplete()}),new sX([])}return!a&&qT.supports(u)?new qT(u):new Tb(u)};function VQ({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function HN(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:o=e.getDefaultTransition(),transitionEnd:s,...l}=t;r&&(o=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const f=e.getValue(d,(a=e.latestValues[d])!==null&&a!==void 0?a:null),p=l[d];if(p===void 0||u&&VQ(u,d))continue;const y={delay:n,...db(o||{},d)};let m=!1;if(window.MotionHandoffAnimation){const w=pN(e);if(w){const b=window.MotionHandoffAnimation(w,d,Fe);b!==null&&(y.startTime=b,m=!0)}}Mg(e,d),f.start(jb(d,f,p,e.shouldReduceMotion&&hN.has(d)?{type:!1}:y,e,m));const g=f.animation;g&&c.push(g)}return s&&Promise.all(c).then(()=>{Fe.update(()=>{s&&xX(e,s)})}),c}function Bg(e,t,n={}){var r;const i=au(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const o=i?()=>Promise.all(HN(e,i,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=a;return HQ(e,t,u+c,d,f,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,u]=l==="beforeChildren"?[o,s]:[s,o];return c().then(()=>u())}else return Promise.all([o(),s(n.delay)])}function HQ(e,t,n=0,r=0,i=1,a){const o=[],s=(e.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>s-c*r;return Array.from(e.variantChildren).sort(UQ).forEach((c,u)=>{c.notify("AnimationStart",t),o.push(Bg(c,t,{...a,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function UQ(e,t){return e.sortNodePosition(t)}function zQ(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>Bg(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=Bg(e,t,n);else{const i=typeof t=="function"?au(e,t,n.custom):t;r=Promise.all(HN(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const GQ=Zv.length;function UN(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?UN(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<GQ;n++){const r=Zv[n],i=e.props[r];(Mo(i)||i===!1)&&(t[r]=i)}return t}const YQ=[...Jv].reverse(),KQ=Jv.length;function XQ(e){return t=>Promise.all(t.map(({animation:n,options:r})=>zQ(e,n,r)))}function QQ(e){let t=XQ(e),n=LT(),r=!0;const i=l=>(c,u)=>{var d;const f=au(e,u,l==="exit"?(d=e.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:p,transitionEnd:y,...m}=f;c={...c,...m,...y}}return c};function a(l){t=l(e)}function o(l){const{props:c}=e,u=UN(e.parent)||{},d=[],f=new Set;let p={},y=1/0;for(let g=0;g<KQ;g++){const w=YQ[g],b=n[w],S=c[w]!==void 0?c[w]:u[w],A=Mo(S),v=w===l?b.isActive:null;v===!1&&(y=g);let _=S===u[w]&&S!==c[w]&&A;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),b.protectedKeys={...p},!b.isActive&&v===null||!S&&!b.prevProp||ru(S)||typeof S=="boolean")continue;const T=JQ(b.prevProp,S);let j=T||w===l&&b.isActive&&!_&&A||g>y&&A,P=!1;const O=Array.isArray(S)?S:[S];let I=O.reduce(i(w),{});v===!1&&(I={});const{prevResolvedValues:k={}}=b,E={...k,...I},C=q=>{j=!0,f.has(q)&&(P=!0,f.delete(q)),b.needsAnimating[q]=!0;const $=e.getValue(q);$&&($.liveStyle=!1)};for(const q in E){const $=I[q],W=k[q];if(p.hasOwnProperty(q))continue;let V=!1;Cg($)&&Cg(W)?V=!iN($,W):V=$!==W,V?$!=null?C(q):f.add(q):$!==void 0&&f.has(q)?C(q):b.protectedKeys[q]=!0}b.prevProp=S,b.prevResolvedValues=I,b.isActive&&(p={...p,...I}),r&&e.blockInitialAnimation&&(j=!1),j&&(!(_&&T)||P)&&d.push(...O.map(q=>({animation:q,options:{type:w}})))}if(f.size){const g={};f.forEach(w=>{const b=e.getBaseTarget(w),S=e.getValue(w);S&&(S.liveStyle=!0),g[w]=b??null}),d.push({animation:g})}let m=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(m=!1),r=!1,m?t(d):Promise.resolve()}function s(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:s,setAnimateFunction:a,getState:()=>n,reset:()=>{n=LT(),r=!0}}}function JQ(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!iN(t,e):!1}function jr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function LT(){return{animate:jr(!0),whileInView:jr(),whileHover:jr(),whileTap:jr(),whileDrag:jr(),whileFocus:jr(),exit:jr()}}class Ar{constructor(t){this.isMounted=!1,this.node=t}update(){}}class ZQ extends Ar{constructor(t){super(t),t.animationState||(t.animationState=QQ(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ru(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let eJ=0;class tJ extends Ar{constructor(){super(...arguments),this.id=eJ++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const nJ={animation:{Feature:ZQ},exit:{Feature:tJ}};function qo(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function is(e){return{point:{x:e.pageX,y:e.pageY}}}const rJ=e=>t=>pb(t)&&e(t,is(t));function Va(e,t,n,r){return qo(e,t,rJ(n),r)}const $T=(e,t)=>Math.abs(e-t);function iJ(e,t){const n=$T(e.x,t.x),r=$T(e.y,t.y);return Math.sqrt(n**2+r**2)}class zN{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Yp(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=iJ(d.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:y}=d,{timestamp:m}=ht;this.history.push({...y,timestamp:m});const{onStart:g,onMove:w}=this.handlers;f||(g&&g(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Gp(f,this.transformPagePoint),Fe.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Yp(d.type==="pointercancel"?this.lastMoveEventInfo:Gp(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,g),y&&y(d,g)},!pb(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=is(t),s=Gp(o,this.transformPagePoint),{point:l}=s,{timestamp:c}=ht;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(t,Yp(s,this.history)),this.removeListeners=rs(Va(this.contextWindow,"pointermove",this.handlePointerMove),Va(this.contextWindow,"pointerup",this.handlePointerUp),Va(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),dr(this.updatePoint)}}function Gp(e,t){return t?{point:t(e.point)}:e}function FT(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Yp({point:e},t){return{point:e,delta:FT(e,GN(t)),offset:FT(e,aJ(t)),velocity:oJ(t,.1)}}function aJ(e){return e[0]}function GN(e){return e[e.length-1]}function oJ(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=GN(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>$n(t)));)n--;if(!r)return{x:0,y:0};const a=Fn(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const YN=1e-4,sJ=1-YN,lJ=1+YN,KN=.01,cJ=0-KN,uJ=0+KN;function Bt(e){return e.max-e.min}function dJ(e,t,n){return Math.abs(e-t)<=n}function BT(e,t,n,r=.5){e.origin=r,e.originPoint=ze(t.min,t.max,e.origin),e.scale=Bt(n)/Bt(t),e.translate=ze(n.min,n.max,e.origin)-e.originPoint,(e.scale>=sJ&&e.scale<=lJ||isNaN(e.scale))&&(e.scale=1),(e.translate>=cJ&&e.translate<=uJ||isNaN(e.translate))&&(e.translate=0)}function Ha(e,t,n,r){BT(e.x,t.x,n.x,r?r.originX:void 0),BT(e.y,t.y,n.y,r?r.originY:void 0)}function WT(e,t,n){e.min=n.min+t.min,e.max=e.min+Bt(t)}function hJ(e,t,n){WT(e.x,t.x,n.x),WT(e.y,t.y,n.y)}function VT(e,t,n){e.min=t.min-n.min,e.max=e.min+Bt(t)}function Ua(e,t,n){VT(e.x,t.x,n.x),VT(e.y,t.y,n.y)}function fJ(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ze(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ze(n,e,r.max):Math.min(e,n)),e}function HT(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function pJ(e,{top:t,left:n,bottom:r,right:i}){return{x:HT(e.x,n,i),y:HT(e.y,t,r)}}function UT(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function mJ(e,t){return{x:UT(e.x,t.x),y:UT(e.y,t.y)}}function gJ(e,t){let n=.5;const r=Bt(e),i=Bt(t);return i>r?n=zi(t.min,t.max-r,e.min):r>i&&(n=zi(e.min,e.max-i,t.min)),zn(0,1,n)}function yJ(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Wg=.35;function vJ(e=Wg){return e===!1?e=0:e===!0&&(e=Wg),{x:zT(e,"left","right"),y:zT(e,"top","bottom")}}function zT(e,t,n){return{min:GT(e,t),max:GT(e,n)}}function GT(e,t){return typeof e=="number"?e:e[t]||0}const YT=()=>({translate:0,scale:1,origin:0,originPoint:0}),hi=()=>({x:YT(),y:YT()}),KT=()=>({min:0,max:0}),Xe=()=>({x:KT(),y:KT()});function Yt(e){return[e("x"),e("y")]}function XN({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function bJ({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function wJ(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Kp(e){return e===void 0||e===1}function Vg({scale:e,scaleX:t,scaleY:n}){return!Kp(e)||!Kp(t)||!Kp(n)}function kr(e){return Vg(e)||QN(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function QN(e){return XT(e.x)||XT(e.y)}function XT(e){return e&&e!=="0%"}function ec(e,t,n){const r=e-n,i=t*r;return n+i}function QT(e,t,n,r,i){return i!==void 0&&(e=ec(e,i,r)),ec(e,n,r)+t}function Hg(e,t=0,n=1,r,i){e.min=QT(e.min,t,n,r,i),e.max=QT(e.max,t,n,r,i)}function JN(e,{x:t,y:n}){Hg(e.x,t.translate,t.scale,t.originPoint),Hg(e.y,n.translate,n.scale,n.originPoint)}const JT=.999999999999,ZT=1.0000000000001;function xJ(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,o;for(let s=0;s<i;s++){a=n[s],o=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&pi(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,JN(e,o)),r&&kr(a.latestValues)&&pi(e,a.latestValues))}t.x<ZT&&t.x>JT&&(t.x=1),t.y<ZT&&t.y>JT&&(t.y=1)}function fi(e,t){e.min=e.min+t,e.max=e.max+t}function ej(e,t,n,r,i=.5){const a=ze(e.min,e.max,i);Hg(e,t,n,a,r)}function pi(e,t){ej(e.x,t.x,t.scaleX,t.scale,t.originX),ej(e.y,t.y,t.scaleY,t.scale,t.originY)}function ZN(e,t){return XN(wJ(e.getBoundingClientRect(),t))}function SJ(e,t,n){const r=ZN(e,n),{scroll:i}=t;return i&&(fi(r.x,i.offset.x),fi(r.y,i.offset.y)),r}const eM=({current:e})=>e?e.ownerDocument.defaultView:null,_J=new WeakMap;class AJ{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xe(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(is(u).point)},a=(u,d)=>{const{drag:f,dragPropagation:p,onDragStart:y}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=gX(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yt(g=>{let w=this.getAxisMotionValue(g).get()||0;if(_n.test(w)){const{projection:b}=this.visualElement;if(b&&b.layout){const S=b.layout.layoutBox[g];S&&(w=Bt(S)*(parseFloat(w)/100))}}this.originPoint[g]=w}),y&&Fe.postRender(()=>y(u,d)),Mg(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:y,onDrag:m}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:g}=d;if(p&&this.currentDirection===null){this.currentDirection=TJ(g),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",d.point,g),this.updateAxis("y",d.point,g),this.visualElement.render(),m&&m(u,d)},s=(u,d)=>this.stop(u,d),l=()=>Yt(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new zN(t,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:s,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:eM(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Fe.postRender(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Is(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=fJ(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&ui(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=pJ(i.layoutBox,n):this.constraints=!1,this.elastic=vJ(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Yt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=yJ(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ui(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=SJ(r,i.root,this.visualElement.getTransformPagePoint());let o=mJ(i.layout.layoutBox,a);if(n){const s=n(bJ(o));this.hasMutatedConstraints=!!s,s&&(o=XN(s))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},c=Yt(u=>{if(!Is(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,y={type:"inertia",velocity:r?t[u]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...d};return this.startAxisValueAnimation(u,y)});return Promise.all(c).then(s)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Mg(this.visualElement,t),r.start(jb(t,r,0,n,this.visualElement,!1))}stopAnimation(){Yt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Yt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Yt(n=>{const{drag:r}=this.getProps();if(!Is(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:s}=i.layout.layoutBox[n];a.set(t[n]-ze(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ui(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Yt(o=>{const s=this.getAxisMotionValue(o);if(s&&this.constraints!==!1){const l=s.get();i[o]=gJ({min:l,max:l},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Yt(o=>{if(!Is(o,t,null))return;const s=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];s.set(ze(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;_J.set(this.visualElement,this);const t=this.visualElement.current,n=Va(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ui(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Fe.read(r);const o=qo(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Yt(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())}));return()=>{o(),n(),a(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=Wg,dragMomentum:s=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:s}}}function Is(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function TJ(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class jJ extends Ar{constructor(t){super(t),this.removeGroupControls=$t,this.removeListeners=$t,this.controls=new AJ(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$t}unmount(){this.removeGroupControls(),this.removeListeners()}}const tj=e=>(t,n)=>{e&&Fe.postRender(()=>e(t,n))};class PJ extends Ar{constructor(){super(...arguments),this.removePointerDownListener=$t}onPointerDown(t){this.session=new zN(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:eM(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:tj(t),onStart:tj(n),onMove:r,onEnd:(a,o)=>{delete this.session,i&&Fe.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Va(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ls={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nj(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ta={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ce.test(e))e=parseFloat(e);else return e;const n=nj(e,t.target.x),r=nj(e,t.target.y);return`${n}% ${r}%`}},IJ={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=hr.parse(e);if(i.length>5)return r;const a=hr.createTransformer(e),o=typeof i[0]!="number"?1:0,s=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=s,i[1+o]/=l;const c=ze(s,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),a(i)}};class kJ extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;KK(OJ),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ls.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,o=r.projection;return o&&(o.isPresent=a,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||Fe.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),tb.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function tM(e){const[t,n]=DE(),r=x.useContext(Kv);return h.jsx(kJ,{...e,layoutGroup:r,switchLayoutGroup:x.useContext(UE),isPresent:t,safeToRemove:n})}const OJ={borderRadius:{...Ta,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ta,borderTopRightRadius:Ta,borderBottomLeftRadius:Ta,borderBottomRightRadius:Ta,boxShadow:IJ};function CJ(e,t,n){const r=wt(e)?e:Yi(e);return r.start(jb("",r,t,n)),r.animation}function EJ(e){return e instanceof SVGElement&&e.tagName!=="svg"}const NJ=(e,t)=>e.depth-t.depth;class MJ{constructor(){this.children=[],this.isDirty=!1}add(t){mb(this.children,t),this.isDirty=!0}remove(t){gb(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(NJ),this.isDirty=!1,this.children.forEach(t)}}function RJ(e,t){const n=An.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(dr(r),e(a-t))};return Fe.read(r,!0),()=>dr(r)}const nM=["TopLeft","TopRight","BottomLeft","BottomRight"],DJ=nM.length,rj=e=>typeof e=="string"?parseFloat(e):e,ij=e=>typeof e=="number"||ce.test(e);function qJ(e,t,n,r,i,a){i?(e.opacity=ze(0,n.opacity!==void 0?n.opacity:1,LJ(r)),e.opacityExit=ze(t.opacity!==void 0?t.opacity:1,0,$J(r))):a&&(e.opacity=ze(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<DJ;o++){const s=`border${nM[o]}Radius`;let l=aj(t,s),c=aj(n,s);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||ij(l)===ij(c)?(e[s]=Math.max(ze(rj(l),rj(c),r),0),(_n.test(c)||_n.test(l))&&(e[s]+="%")):e[s]=c}(t.rotate||n.rotate)&&(e.rotate=ze(t.rotate||0,n.rotate||0,r))}function aj(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const LJ=rM(0,.5,xN),$J=rM(.5,.95,$t);function rM(e,t,n){return r=>r<e?0:r>t?1:n(zi(e,t,r))}function oj(e,t){e.min=t.min,e.max=t.max}function Ut(e,t){oj(e.x,t.x),oj(e.y,t.y)}function sj(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function lj(e,t,n,r,i){return e-=t,e=ec(e,1/n,r),i!==void 0&&(e=ec(e,1/i,r)),e}function FJ(e,t=0,n=1,r=.5,i,a=e,o=e){if(_n.test(t)&&(t=parseFloat(t),t=ze(o.min,o.max,t/100)-o.min),typeof t!="number")return;let s=ze(a.min,a.max,r);e===a&&(s-=t),e.min=lj(e.min,t,n,s,i),e.max=lj(e.max,t,n,s,i)}function cj(e,t,[n,r,i],a,o){FJ(e,t[n],t[r],t[i],t.scale,a,o)}const BJ=["x","scaleX","originX"],WJ=["y","scaleY","originY"];function uj(e,t,n,r){cj(e.x,t,BJ,n?n.x:void 0,r?r.x:void 0),cj(e.y,t,WJ,n?n.y:void 0,r?r.y:void 0)}function dj(e){return e.translate===0&&e.scale===1}function iM(e){return dj(e.x)&&dj(e.y)}function hj(e,t){return e.min===t.min&&e.max===t.max}function VJ(e,t){return hj(e.x,t.x)&&hj(e.y,t.y)}function fj(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function aM(e,t){return fj(e.x,t.x)&&fj(e.y,t.y)}function pj(e){return Bt(e.x)/Bt(e.y)}function mj(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class HJ{constructor(){this.members=[]}add(t){mb(this.members,t),t.scheduleRender()}remove(t){if(gb(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function UJ(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=n?.z||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:f,skewX:p,skewY:y}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),y&&(r+=`skewY(${y}deg) `)}const s=e.x.scale*t.x,l=e.y.scale*t.y;return(s!==1||l!==1)&&(r+=`scale(${s}, ${l})`),r||"none"}const Or={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ea=typeof window<"u"&&window.MotionDebug!==void 0,Xp=["","X","Y","Z"],zJ={visibility:"hidden"},gj=1e3;let GJ=0;function Qp(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function oM(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=pN(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Fe,!(i||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&oM(r)}function sM({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},s=t?.()){this.id=GJ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ea&&(Or.totalNodes=Or.resolvedTargetDeltas=Or.recalculatedProjection=0),this.nodes.forEach(XJ),this.nodes.forEach(tZ),this.nodes.forEach(nZ),this.nodes.forEach(QJ),Ea&&window.MotionDebug.record(Or)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new MJ)}addEventListener(o,s){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new yb),this.eventHandlers.get(o).add(s)}notifyListeners(o,...s){const l=this.eventHandlers.get(o);l&&l.notify(...s)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,s=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=EJ(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),s&&(c||l)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=RJ(f,250),Ls.hasAnimatedSinceResize&&(Ls.hasAnimatedSinceResize=!1,this.nodes.forEach(vj))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||u.getDefaultTransition()||sZ,{onLayoutAnimationStart:g,onLayoutAnimationComplete:w}=u.getProps(),b=!this.targetLayout||!aM(this.targetLayout,y)||p,S=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,S);const A={...db(m,"layout"),onPlay:g,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else f||vj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,dr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rZ),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&oM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yj);return}this.isUpdating||this.nodes.forEach(ZJ),this.isUpdating=!1,this.nodes.forEach(eZ),this.nodes.forEach(YJ),this.nodes.forEach(KJ),this.clearAllSnapshots();const s=An.now();ht.delta=zn(0,1e3/60,s-ht.timestamp),ht.timestamp=s,ht.isProcessing=!0,Bp.update.process(ht),Bp.preRender.process(ht),Bp.render.process(ht),ht.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,tb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(JJ),this.sharedNodes.forEach(iZ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Fe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Fe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Xe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let s=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(s=!1),s){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,s=this.projectionDelta&&!iM(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(s||kr(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const s=this.measurePageBox();let l=this.removeElementScroll(s);return o&&(l=this.removeTransform(l)),lZ(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:s}=this.options;if(!s)return Xe();const l=s.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(cZ))){const{scroll:u}=this.root;u&&(fi(l.x,u.offset.x),fi(l.y,u.offset.y))}return l}removeElementScroll(o){var s;const l=Xe();if(Ut(l,o),!((s=this.scroll)===null||s===void 0)&&s.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Ut(l,o),fi(l.x,d.offset.x),fi(l.y,d.offset.y))}return l}applyTransform(o,s=!1){const l=Xe();Ut(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&pi(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),kr(u.latestValues)&&pi(l,u.latestValues)}return kr(this.latestValues)&&pi(l,this.latestValues),l}removeTransform(o){const s=Xe();Ut(s,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!kr(c.latestValues))continue;Vg(c.latestValues)&&c.updateSnapshot();const u=Xe(),d=c.measurePageBox();Ut(u,d),uj(s,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return kr(this.latestValues)&&uj(s,this.latestValues),s}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ht.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var s;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=ht.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xe(),this.relativeTargetOrigin=Xe(),Ua(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Ut(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Xe(),this.targetWithTransforms=Xe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hJ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ut(this.target,this.layout.layoutBox),JN(this.target,this.targetDelta)):Ut(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xe(),this.relativeTargetOrigin=Xe(),Ua(this.relativeTargetOrigin,this.target,p.target),Ut(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ea&&Or.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Vg(this.parent.latestValues)||QN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const s=this.getLead(),l=!!this.resumingFrom||this!==s;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ht.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Ut(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;xJ(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Xe());const{target:y}=s;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(sj(this.prevProjectionDelta.x,this.projectionDelta.x),sj(this.prevProjectionDelta.y,this.projectionDelta.y)),Ha(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!mj(this.projectionDelta.x,this.prevProjectionDelta.x)||!mj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Ea&&Or.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var s;if((s=this.options.visualElement)===null||s===void 0||s.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=hi(),this.projectionDelta=hi(),this.projectionDeltaWithTransform=hi()}setAnimationOrigin(o,s=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=hi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const f=Xe(),p=l?l.source:void 0,y=this.layout?this.layout.source:void 0,m=p!==y,g=this.getStack(),w=!g||g.members.length<=1,b=!!(m&&!w&&this.options.crossfade===!0&&!this.path.some(oZ));this.animationProgress=0;let S;this.mixTargetDelta=A=>{const v=A/1e3;bj(d.x,o.x,v),bj(d.y,o.y,v),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ua(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),aZ(this.relativeTarget,this.relativeTargetOrigin,f,v),S&&VJ(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Xe()),Ut(S,this.relativeTarget)),m&&(this.animationValues=u,qJ(u,c,this.latestValues,v,b,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=v},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(dr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fe.update(()=>{Ls.hasAnimatedSinceResize=!0,this.currentAnimation=CJ(0,gj,{...o,onUpdate:s=>{this.mixTargetDelta(s),o.onUpdate&&o.onUpdate(s)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:s,target:l,layout:c,latestValues:u}=o;if(!(!s||!l||!c)){if(this!==o&&this.layout&&c&&lM(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Xe();const d=Bt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=Bt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Ut(s,l),pi(s,u),Ha(this.projectionDeltaWithTransform,this.layoutCorrected,s,u)}}registerSharedNode(o,s){this.sharedNodes.has(o)||this.sharedNodes.set(o,new HJ),this.sharedNodes.get(o).add(s);const c=s.options.initialPromotionConfig;s.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(s):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:s,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let s=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(s=!0),!s)return;const c={};l.z&&Qp("z",o,c,this.animationValues);for(let u=0;u<Xp.length;u++)Qp(`rotate${Xp[u]}`,o,c,this.animationValues),Qp(`skew${Xp[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var s,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return zJ;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Ds(o?.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Ds(o?.pointerEvents)||""),this.hasProjected&&!kr(this.latestValues)&&(m.transform=u?u({},""):"none",this.hasProjected=!1),m}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=UJ(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:p,y}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(s=f.opacity)!==null&&s!==void 0?s:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const m in Kl){if(f[m]===void 0)continue;const{correct:g,applyTo:w}=Kl[m],b=c.transform==="none"?f[m]:g(f[m],d);if(w){const S=w.length;for(let A=0;A<S;A++)c[w[A]]=b}else c[m]=b}return this.options.layoutId&&(c.pointerEvents=d===this?Ds(o?.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var s;return(s=o.currentAnimation)===null||s===void 0?void 0:s.stop()}),this.root.nodes.forEach(yj),this.root.sharedNodes.clear()}}}function YJ(e){e.updateLayout()}function KJ(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,o=n.source!==e.layout.source;a==="size"?Yt(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],p=Bt(f);f.min=r[d].min,f.max=f.min+p}):lM(a,n.layoutBox,r)&&Yt(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],p=Bt(r[d]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+p)});const s=hi();Ha(s,r,n.layoutBox);const l=hi();o?Ha(l,e.applyTransform(i,!0),n.measuredBox):Ha(l,r,n.layoutBox);const c=!iM(s);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const y=Xe();Ua(y,n.layoutBox,f.layoutBox);const m=Xe();Ua(m,r,p.layoutBox),aM(y,m)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=y,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:s,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function XJ(e){Ea&&Or.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function QJ(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function JJ(e){e.clearSnapshot()}function yj(e){e.clearMeasurements()}function ZJ(e){e.isLayoutDirty=!1}function eZ(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function vj(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function tZ(e){e.resolveTargetDelta()}function nZ(e){e.calcProjection()}function rZ(e){e.resetSkewAndRotation()}function iZ(e){e.removeLeadSnapshot()}function bj(e,t,n){e.translate=ze(t.translate,0,n),e.scale=ze(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function wj(e,t,n,r){e.min=ze(t.min,n.min,r),e.max=ze(t.max,n.max,r)}function aZ(e,t,n,r){wj(e.x,t.x,n.x,r),wj(e.y,t.y,n.y,r)}function oZ(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const sZ={duration:.45,ease:[.4,0,.1,1]},xj=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Sj=xj("applewebkit/")&&!xj("chrome/")?Math.round:$t;function _j(e){e.min=Sj(e.min),e.max=Sj(e.max)}function lZ(e){_j(e.x),_j(e.y)}function lM(e,t,n){return e==="position"||e==="preserve-aspect"&&!dJ(pj(t),pj(n),.2)}function cZ(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const uZ=sM({attachResizeListener:(e,t)=>qo(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Jp={current:void 0},cM=sM({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Jp.current){const e=new uZ({});e.mount(window),e.setOptions({layoutScroll:!0}),Jp.current=e}return Jp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),dZ={pan:{Feature:PJ},drag:{Feature:jJ,ProjectionNode:cM,MeasureLayout:tM}};function Aj(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Fe.postRender(()=>a(t,is(t)))}class hZ extends Ar{mount(){const{current:t}=this.node;t&&(this.unmount=dX(t,n=>(Aj(this.node,n,"Start"),r=>Aj(this.node,r,"End"))))}unmount(){}}class fZ extends Ar{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rs(qo(this.node.current,"focus",()=>this.onFocus()),qo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Tj(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Fe.postRender(()=>a(t,is(t)))}class pZ extends Ar{mount(){const{current:t}=this.node;t&&(this.unmount=mX(t,n=>(Tj(this.node,n,"Start"),(r,{success:i})=>Tj(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ug=new WeakMap,Zp=new WeakMap,mZ=e=>{const t=Ug.get(e.target);t&&t(e)},gZ=e=>{e.forEach(mZ)};function yZ({root:e,...t}){const n=e||document;Zp.has(n)||Zp.set(n,{});const r=Zp.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(gZ,{root:e,...t})),r[i]}function vZ(e,t,n){const r=yZ(t);return Ug.set(e,n),r.observe(e),()=>{Ug.delete(e),r.unobserve(e)}}const bZ={some:0,all:1};class wZ extends Ar{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:bZ[i]},s=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=c?u:d;f&&f(l)};return vZ(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(xZ(t,n))&&this.startObserver()}unmount(){}}function xZ({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const SZ={inView:{Feature:wZ},tap:{Feature:pZ},focus:{Feature:fZ},hover:{Feature:hZ}},_Z={layout:{ProjectionNode:cM,MeasureLayout:tM}},zg={current:null},uM={current:!1};function AZ(){if(uM.current=!0,!!Xv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>zg.current=e.matches;e.addListener(t),t()}else zg.current=!1}const TZ=[...RN,yt,hr],jZ=e=>TZ.find(MN(e)),jj=new WeakMap;function PZ(e,t,n){for(const r in t){const i=t[r],a=n[r];if(wt(i))e.addValue(r,i);else if(wt(a))e.addValue(r,Yi(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,Yi(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Pj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class IZ{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_b,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=An.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Fe.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=o;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.blockInitialAnimation=!!a,this.isControllingVariants=iu(n),this.isVariantNode=VE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const y=f[p];l[p]!==void 0&&wt(y)&&y.set(l[p],!1)}}mount(t){this.current=t,jj.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),uM.current||AZ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){jj.delete(this.current),this.projection&&this.projection.unmount(),dr(this.notifyUpdate),dr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ti.has(t),i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&Fe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Gi){const n=Gi[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Pj.length;r++){const i=Pj[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=t[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=PZ(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Yi(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(EN(i)||_N(i))?i=parseFloat(i):!jZ(i)&&hr.test(n)&&(i=kN(t,n)),this.setBaseTarget(t,wt(i)?i.get():i)),wt(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=rb(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[t])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!wt(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new yb),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class dM extends IZ{constructor(){super(...arguments),this.KeyframeResolver=DN}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;wt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function kZ(e){return window.getComputedStyle(e)}class OZ extends dM{constructor(){super(...arguments),this.type="html",this.renderInstance=JE}readValueFromInstance(t,n){if(ti.has(n)){const r=Sb(n);return r&&r.default||0}else{const r=kZ(t),i=(KE(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return ZN(t,n)}build(t,n,r){ob(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return ub(t,n,r)}}class CZ extends dM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Xe}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ti.has(n)){const r=Sb(n);return r&&r.default||0}return n=ZE.has(n)?n:eb(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return nN(t,n,r)}build(t,n,r){sb(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){eN(t,n,r,i)}mount(t){this.isSVGTag=cb(t.tagName),super.mount(t)}}const EZ=(e,t)=>nb(e)?new CZ(t):new OZ(t,{allowProjection:e!==x.Fragment}),NZ=iX({...nJ,...SZ,...dZ,..._Z},EZ),Wr=bK(NZ);function Ij(e){const t=Zc(()=>Yi(e)),{isStatic:n}=x.useContext(tu);if(n){const[,r]=x.useState(e);x.useEffect(()=>t.on("change",r),[])}return t}const Gg=3,kj=[{name:"Botty",personality:"The best teacher in English who listens to users and corrects them if they make mistakes or struggle to speak. It is very conversational and will bring topics to speak about.",bodyColor:"#9333ea",voice:"Algenib"},{name:"Captain Jack",personality:"A witty and adventurous pirate captain with a love for treasure and a good joke.",bodyColor:"#ca8a04",voice:"Antares"},{name:"Professor Axiom",personality:"A brilliant, slightly eccentric professor of theoretical physics who explains things with elaborate analogies.",bodyColor:"#1d4ed8",voice:"Sirius"}],Oj={version:Gg,agents:kj,currentAgent:kj[0],userSettings:{name:"",info:""},audioLevel:0},as=uc()(dc(e=>({...Oj,setCurrentAgent:t=>e({currentAgent:t}),setUserSettings:t=>e({userSettings:t}),setAudioLevel:t=>e({audioLevel:t})}),{name:"agent-storage",storage:Vo(()=>localStorage),version:Gg,migrate:(e,t)=>t<Gg?Oj:e}));function MZ(e,t="audio/webm"){const[n,r]=x.useState(!1),i=x.useRef(null),a=x.useRef(null),o=x.useRef([]),s=x.useCallback(async()=>{if(n||a.current){console.warn("Recording is already in progress.");return}try{const c=await navigator.mediaDevices.getUserMedia({audio:!0});i.current=c;const u=new MediaRecorder(c,{mimeType:t});a.current=u,u.ondataavailable=d=>{d.data.size>0&&o.current.push(d.data)},u.onstop=()=>{const d=new Blob(o.current,{type:t}),f=new FileReader;f.onloadend=()=>{const p=f.result;e(p)},f.readAsDataURL(d),i.current?.getTracks().forEach(p=>p.stop()),a.current=null,i.current=null,o.current=[]},u.start(),r(!0)}catch(c){console.error("Error starting audio recording:",c),i.current&&i.current.getTracks().forEach(u=>u.stop()),r(!1)}},[n,e,t]),l=x.useCallback(()=>{a.current&&a.current.state==="recording"&&(a.current.stop(),r(!1))},[]);return{isRecording:n,start:s,stop:l}}var Cj={};async function RZ(e){const t=`https://api.cloudflare.com/client/v4/accounts/${Cj.CLOUDFLARE_ACCOUNT_ID}/ai/run/@cf/openai/whisper`,n=await fetch(t,{method:"POST",headers:{Authorization:`Bearer ${Cj.CLOUDFLARE_API_TOKEN}`,"Content-Type":"application/octet-stream"},body:e});if(!n.ok){const i=await n.text();throw console.error("Cloudflare STT API error:",i),new Error(`Cloudflare STT API request failed: ${n.statusText}`)}return(await n.json()).result.text}const DZ=we({role:ar(["user","model"]),content:te()});we({audioDataUri:te().describe("The user's audio speech as a data URI."),personality:te().describe("The agent's base personality."),userName:te().optional(),userInfo:te().optional(),history:Jt(DZ)});we({response:te().describe("The AI agent's final text response."),transcribedText:te().optional().describe("The transcribed text from the user's audio.")});async function qZ(e){const{audioDataUri:t,personality:n,userName:r,userInfo:i,history:a}=e,o=Buffer.from(t.split(",")[1],"base64"),s=await RZ(o);if(!s||!s.trim())return{response:"",transcribedText:""};const l={role:"user",content:s},c=[...a,l];let u=`You are an AI with the following personality: ${n}.`;r&&(u+=` Address the user as ${r}.`),i&&(u+=` Here is some information about the user you are talking to: ${i}.`),u+=" Keep your responses concise and conversational.";const d=[{role:"system",content:u},...c.map(m=>({role:m.role==="model"?"assistant":"user",content:m.content}))],y=(await(await Ct({model:"@cf/meta/llama-3-8b-instruct",inputs:{messages:d}})).json()).result.response;return y?{response:y,transcribedText:s}:{response:"I'm sorry, I don't have a response for that."}}const LZ=30;function hM(){const{currentAgent:e,userSettings:t,setAudioLevel:n}=as(),[r,i]=x.useState(!1),[a,o]=x.useState(!1),[s,l]=x.useState(!1),[c,u]=x.useState(!1),[d,f]=x.useState([]),p=x.useRef(null),y=x.useRef(null),m=x.useRef(null),g=x.useRef(null),w=x.useCallback(async j=>{if(!a){l(!0);try{const P={audioDataUri:j,personality:e.personality,userName:t.name,userInfo:t.info,history:d},O=await qZ(P),{response:I,transcribedText:k}=O;if(k){const E={role:"user",content:k},C={role:"model",content:I};f(M=>[...M,E,C].slice(-LZ))}if(I){const E=await Gn({prompt:I,lang:"en"});p.current&&E?.media?(p.current.src=E.media,p.current.play().catch(C=>{console.error("Audio playback error:",C),l(!1)})):l(!1)}else l(!1)}catch(P){console.error("Voice chat pipeline error:",P),l(!1)}}},[a,e,t,d]),{start:b,stop:S}=MZ(w),A=x.useCallback(()=>{if(!p.current){const j=new Audio;p.current=j}i(!0)},[]),v=x.useCallback(()=>{c&&(S(),u(!1)),p.current&&(p.current.pause(),p.current.src=""),y.current&&(y.current.close(),y.current=null,m.current=null,g.current=null),i(!1),l(!1),f([]),n(0)},[c,S,n]),_=()=>o(j=>!j),T=x.useCallback(()=>{c?S():b(),u(j=>!j)},[c,b,S]);return x.useEffect(()=>{let j;const P=()=>{if(p.current&&!y.current){const O=new(window.AudioContext||window.webkitAudioContext),I=O.createMediaElementSource(p.current),k=O.createAnalyser();I.connect(k),k.connect(O.destination),y.current=O,m.current=k,g.current=I}};if(s){P();const O=m.current;if(O){O.fftSize=32;const I=O.frequencyBinCount,k=new Uint8Array(I),E=()=>{if(!m.current||!s){cancelAnimationFrame(j),n(0);return}m.current.getByteFrequencyData(k);const C=k.reduce((M,D)=>M+D,0)/I;n(C/128),j=requestAnimationFrame(E)};E()}}else n(0);return()=>{j&&cancelAnimationFrame(j)}},[s,n]),x.useEffect(()=>{const j=p.current;if(!j)return;const P=()=>{l(!1)};return j.addEventListener("ended",P),()=>{j.removeEventListener("ended",P)}},[s]),{isConnected:r,isMuted:a,isRecording:c,isTalking:s,connect:A,disconnect:v,toggleMute:_,toggleRecording:T}}function $Z(){const{currentAgent:e,audioLevel:t}=as(),{isTalking:n}=hM(),r=x.useRef(null),i=x.useRef(null),a=Ij(0),o=Ij(0),{name:s,bodyColor:l}=e;x.useEffect(()=>{const d=setInterval(()=>{const f=r.current,p=i.current;f&&p&&(f.style.transform="translateY(12px)",p.style.transform="translateY(-12px)",setTimeout(()=>{f.style.transform="translateY(0)",p.style.transform="translateY(0)"},150))},Math.random()*5e3+2e3);return()=>clearInterval(d)},[]),x.useEffect(()=>{const u=d=>{const{clientX:f,clientY:p,currentTarget:y}=d,{innerWidth:m,innerHeight:g}=y,w=(f-m/2)/(m/2),b=(p-g/2)/(g/2);a.set(w*10),o.set(b*10)};return window.addEventListener("mousemove",u),()=>window.removeEventListener("mousemove",u)},[a,o]);const c=n?1+t*1.5:1;return h.jsxs(Wr.div,{className:"relative",style:{rotateX:o,rotateY:a},transition:{type:"spring",stiffness:300,damping:30},children:[h.jsx(Wr.div,{className:"h-64 w-64 rounded-full shadow-lg",style:{backgroundColor:l},transition:{duration:.5},children:h.jsxs("svg",{viewBox:"0 0 200 200",className:"h-full w-full",children:[h.jsxs("g",{transform:"translate(0, -20)",children:[h.jsx("circle",{cx:"70",cy:"100",r:"15",fill:"white"}),h.jsx("circle",{cx:"70",cy:"100",r:"7",fill:"black"}),h.jsx("path",{ref:r,d:"M 55 92 Q 70 80 85 92",fill:l,className:"transition-transform duration-100"}),h.jsx("path",{ref:i,d:"M 55 108 Q 70 120 85 108",fill:l,className:"transition-transform duration-100"}),h.jsx("circle",{cx:"130",cy:"100",r:"15",fill:"white"}),h.jsx("circle",{cx:"130",cy:"100",r:"7",fill:"black"}),h.jsx("path",{d:"M 115 92 Q 130 80 145 92",fill:l}),h.jsx("path",{d:"M 115 108 Q 130 120 145 108",fill:l})]}),h.jsx(Wr.ellipse,{cx:"100",cy:"150",rx:"20",ry:10*c,fill:"#6B21A8",transition:{type:"spring",stiffness:500,damping:15}})]})}),h.jsx("div",{dir:"ltr",className:"absolute -bottom-8 left-1/2 -translate-x-1/2 rounded-full bg-black/50 px-4 py-1 text-center text-white shadow-md",children:s})]})}function FZ(){const{isConnected:e,isMuted:t,isRecording:n,isTalking:r,connect:i,disconnect:a,toggleMute:o,toggleRecording:s}=hM(),l=()=>e?r?"يفكر...":n?"يسجل...":"متصل":"غير متصل";return h.jsxs("div",{className:"flex flex-col items-center gap-4",children:[h.jsx("div",{className:"relative h-6 w-32 text-center",children:h.jsx(LE,{children:h.jsx(Wr.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},transition:{duration:.2},className:"absolute inset-0 text-white/80",children:l()},l())})}),h.jsxs("div",{className:"flex items-center justify-center gap-4 rounded-full bg-black/30 p-2 backdrop-blur-sm",children:[h.jsx(oe,{variant:"outline",size:"icon",className:"h-14 w-14 rounded-full bg-white/10 text-white hover:bg-white/20",onClick:o,disabled:!e,children:t?h.jsx(PR,{}):h.jsx(Fs,{})}),h.jsx(oe,{size:"icon",className:`h-16 w-16 rounded-full text-white transition-colors ${e?"bg-red-500 hover:bg-red-600":"bg-green-500 hover:bg-green-600"}`,onClick:e?a:i,children:e?h.jsx(DR,{}):h.jsx(LR,{})}),h.jsx(oe,{variant:"outline",size:"icon",className:`h-14 w-14 rounded-full bg-white/10 text-white hover:bg-white/20 transition-all ${n?"scale-110 bg-blue-500":""}`,onClick:s,disabled:!e||r,children:n?h.jsx(uy,{}):h.jsx(Fs,{})})]})]})}const BZ=["Algenib","Antares","Sirius","Alnilam","Gacrux","Achernar","Achird","Algieba","Rasalgethi","Schedar","Vindemiatrix"];function WZ(){const{currentAgent:e,setCurrentAgent:t}=as(),[n,r]=x.useState(!1),[i,a]=x.useState(e);R.useEffect(()=>{a(e)},[e]);const o=()=>{t(i),r(!1)};return h.jsxs(Le,{open:n,onOpenChange:r,children:[h.jsx(Gj,{asChild:!0,children:h.jsxs(oe,{variant:"ghost",className:"flex items-center gap-2",children:[h.jsx(MR,{className:"h-4 w-4"}),h.jsx("span",{children:"تعديل المساعد"})]})}),h.jsxs($e,{className:"sm:max-w-[425px]",children:[h.jsxs(Ve,{children:[h.jsx(He,{children:"تعديل المساعد"}),h.jsx(et,{children:"عدّل تفاصيل مساعدك الذكي. انقر على 'حفظ' عند الانتهاء."})]}),h.jsxs("div",{className:"grid gap-4 py-4",children:[h.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[h.jsx(jt,{htmlFor:"name",className:"text-right",children:"الاسم"}),h.jsx(No,{id:"name",value:i.name,onChange:s=>a({...i,name:s.target.value}),className:"col-span-3"})]}),h.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[h.jsx(jt,{htmlFor:"personality",className:"text-right",children:"الشخصية"}),h.jsx(Zi,{id:"personality",value:i.personality,onChange:s=>a({...i,personality:s.target.value}),className:"col-span-3",rows:3})]}),h.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[h.jsx(jt,{htmlFor:"voice",className:"text-right",children:"الصوت"}),h.jsxs(Dy,{value:i.voice,onValueChange:s=>a({...i,voice:s}),children:[h.jsx(mc,{className:"col-span-3",children:h.jsx(qy,{placeholder:"اختر صوتاً"})}),h.jsx(gc,{children:BZ.map(s=>h.jsx(yc,{value:s,children:s},s))})]})]}),h.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[h.jsx(jt,{htmlFor:"color",className:"text-right",children:"اللون"}),h.jsx(No,{id:"color",type:"color",value:i.bodyColor,onChange:s=>a({...i,bodyColor:s.target.value}),className:"col-span-3 p-1"})]})]}),h.jsx(tc,{children:h.jsx(oe,{type:"button",onClick:o,children:"حفظ التغييرات"})})]})]})}function VZ(){const{userSettings:e,setUserSettings:t}=as(),[n,r]=x.useState(!1),[i,a]=x.useState(e);R.useEffect(()=>{a(e)},[e]);const o=()=>{t(i),r(!1)};return h.jsxs(Le,{open:n,onOpenChange:r,children:[h.jsx(Gj,{asChild:!0,children:h.jsxs(oe,{variant:"ghost",className:"flex items-center gap-2",children:[h.jsx(Bs,{className:"h-4 w-4"}),h.jsx("span",{children:"إعدادات المستخدم"})]})}),h.jsxs($e,{className:"sm:max-w-[425px]",children:[h.jsxs(Ve,{children:[h.jsx(He,{children:"إعدادات المستخدم"}),h.jsx(et,{children:"تساعد هذه المعلومات الذكاء الاصطناعي على تخصيص ردوده لك."})]}),h.jsxs("div",{className:"grid gap-4 py-4",children:[h.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[h.jsx(jt,{htmlFor:"name",className:"text-right",children:"الاسم"}),h.jsx(No,{id:"name",value:i.name,onChange:s=>a({...i,name:s.target.value}),className:"col-span-3",placeholder:"مثال: أليكس"})]}),h.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[h.jsx(jt,{htmlFor:"info",className:"text-right",children:"نبذة عنك"}),h.jsx(Zi,{id:"info",value:i.info,onChange:s=>a({...i,info:s.target.value}),className:"col-span-3",rows:3,placeholder:"مثال: أنا مطور برامج من كاليفورنيا وأحب التنزه."})]})]}),h.jsx(tc,{children:h.jsx(oe,{type:"button",onClick:o,children:"حفظ التغييرات"})})]})]})}function fM(){const{currentAgent:e}=as(),{backgroundColor:t}=e;return h.jsxs("div",{className:"relative flex h-full w-full flex-col items-center justify-center overflow-hidden",children:[h.jsx(Wr.div,{className:"absolute inset-0 -z-10",animate:{backgroundColor:t},transition:{duration:.5}}),h.jsxs("header",{className:"absolute top-0 flex w-full justify-between p-4 z-20",children:[h.jsx(WZ,{}),h.jsx(VZ,{})]}),h.jsx("main",{className:"flex flex-grow flex-col items-center justify-center",children:h.jsx($Z,{})}),h.jsx("footer",{className:"w-full p-4",children:h.jsx(FZ,{})})]})}const HZ=[{lesson_id:"prepositions-of-place-beginner",title:"Prepositions of Place",title_arabic:"حروف الجر المكانية",topic:"Grammar",topic_arabic:"قواعد",level:"Beginner",arabic_explanation:"Learn common prepositions of place like in, on, under, next to, behind, in front of, between, near, far from, above, among, around, opposite. AI will generate the full lesson in Arabic.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"Where is the bird?",choices:["in the cage","on the cage","under the cage","next to the cage"],correct_answer:"in the cage"},{type:"multiple_choice",question:"The flowers are ___ the vase.",choices:["on","in","under","next to"],correct_answer:"in"},{type:"multiple_choice",question:"The cat is ___ the table.",choices:["on","in","under","between"],correct_answer:"under"},{type:"multiple_choice",question:"The school is ___ the park.",choices:["next to","in","on","under"],correct_answer:"next to"}],additional_notes:"Remember 'at' for specific points, 'near' for proximity. AI will generate more in Arabic.",common_mistakes:"Confusing 'in', 'on', 'at'. AI will detail common mistakes in Arabic.",meta:{englishGrammarTopic:"Prepositions of Place (e.g., in, on, under, next to, between, above, behind, in front of, among, around, opposite, far from, at, near)"}},{lesson_id:"present-simple-tense-beginner",title:"Present Simple Tense",title_arabic:"زمن المضارع البسيط",topic:"Grammar",topic_arabic:"قواعد",level:"Beginner",arabic_explanation:"Learn the basics of the Present Simple tense in English, used for habits, facts, and regular occurrences. AI will generate a detailed Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"Which sentence is in Present Simple?",choices:["She is reading.","She reads every day.","She read yesterday."],correct_answer:"She reads every day."},{type:"multiple_choice",question:"I ___ (to like) coffee.",choices:["like","likes","am liking"],correct_answer:"like"}],meta:{englishGrammarTopic:"Present Simple Tense (affirmative, negative, and interrogative forms for I, you, we, they, he, she, it)"},additional_notes:"Remember the 's' for he/she/it in affirmative sentences! AI will provide more in Arabic.",common_mistakes:"Forgetting the 's' for third person singular. Using 'am/is/are' with the base verb (e.g., 'I am go'). AI will detail in Arabic."},{lesson_id:"nouns-types-forms-beginner",title:"Nouns: Types and Forms",title_arabic:"الأسماء: أنواعها وأشكالها",topic:"Grammar",topic_arabic:"قواعد",level:"Beginner",arabic_explanation:"Discover different types of nouns in English and how they change form. AI will provide an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"Which of these is a proper noun?",choices:["city","London","book","happiness"],correct_answer:"London"},{type:"multiple_choice",question:"What is the plural of 'child'?",choices:["childs","childes","children","childer"],correct_answer:"children"}],meta:{englishGrammarTopic:"English Nouns: Introduction to common and proper nouns, singular and plural forms (regular and common irregulars), and basic countable/uncountable nouns."},additional_notes:"Proper nouns always start with a capital letter. Pay attention to irregular plural forms. AI will provide more details in Arabic.",common_mistakes:"Incorrectly forming plurals of irregular nouns. Not capitalizing proper nouns. AI will explain further in Arabic."},{lesson_id:"subject-object-pronouns-beginner",title:"Subject & Object Pronouns",title_arabic:"ضمائر الفاعل والمفعول به",topic:"Grammar",topic_arabic:"قواعد",level:"Beginner",arabic_explanation:"Learn how to use subject and object pronouns correctly in English sentences. AI will generate an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"She gave the book to ___.",choices:["I","me","my","mine"],correct_answer:"me"},{type:"multiple_choice",question:"___ went to the park.",choices:["Him","He","His","Them"],correct_answer:"He"}],meta:{englishGrammarTopic:"Subject Pronouns (I, you, he, she, it, we, they) and Object Pronouns (me, you, him, her, it, us, them) in English sentences: their forms and functions."},additional_notes:"Subject pronouns usually come before the verb. Object pronouns usually come after the verb or a preposition. AI will detail this in Arabic.",common_mistakes:"Using a subject pronoun where an object pronoun is needed (e.g., 'She gave it to I') and vice-versa. AI will clarify in Arabic."},{lesson_id:"verbs-to-be-action-beginner",title:"Verbs: 'To Be' & Action Verbs",title_arabic:"الأفعال: فعل 'To Be' وأفعال الحركة",topic:"Grammar",topic_arabic:"قواعد",level:"Beginner",arabic_explanation:"Understand the verb 'to be' and common action verbs in English. AI will provide an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"They ___ happy.",choices:["is","am","are","be"],correct_answer:"are"},{type:"multiple_choice",question:"I ___ English every day.",choices:["study","studies","am study","studying"],correct_answer:"study"}],meta:{englishGrammarTopic:"The verb 'to be' (am, is, are) in present simple and common action verbs in English (e.g., eat, drink, play, read, write), focusing on their present simple forms."},additional_notes:"The verb 'to be' changes form depending on the subject (I am, you are, he/she/it is, we are, they are). AI will explain in Arabic.",common_mistakes:"Using the wrong form of 'to be'. Not conjugating action verbs correctly for third-person singular in present simple (e.g., 'he play' instead of 'he plays'). AI will elaborate in Arabic."},{lesson_id:"descriptive-adjectives-beginner",title:"Descriptive Adjectives",title_arabic:"الصفات الوصفية",topic:"Grammar",topic_arabic:"قواعد",level:"Beginner",arabic_explanation:"Learn how adjectives describe nouns in English. AI will provide an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"The ___ cat is sleeping.",choices:["quickly","black","sleep","house"],correct_answer:"black"},{type:"multiple_choice",question:"Adjectives usually come ____ the noun they describe.",choices:["after","before","instead of","far from"],correct_answer:"before"}],meta:{englishGrammarTopic:"Introduction to descriptive adjectives in English: what they are, their function in describing nouns, common examples (e.g., big, small, happy, sad, red, blue), and their typical placement before a noun or after the verb 'to be'."},additional_notes:"Adjectives make your sentences more interesting and informative! AI will explain in Arabic.",common_mistakes:"Placing adjectives after the noun (e.g., 'car red'). Using adverbs instead of adjectives. AI will explain in Arabic."},{lesson_id:"possessive-adjectives-beginner",title:"Possessive Adjectives",title_arabic:"صفات الملكية",topic:"Grammar",topic_arabic:"قواعد",level:"Beginner",arabic_explanation:"Learn about possessive adjectives (my, your, his, her, its, our, their). AI will generate an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"This is ___ book.",choices:["I","my","me","mine"],correct_answer:"my"},{type:"multiple_choice",question:"___ car is blue.",choices:["She","Her","Hers","He"],correct_answer:"Her"}],meta:{englishGrammarTopic:"Possessive Adjectives (my, your, his, her, its, our, their) and their use with nouns."},additional_notes:"Possessive adjectives show ownership and come before a noun. AI will explain in Arabic.",common_mistakes:"Confusing possessive adjectives (e.g., 'your') with contractions (e.g., 'you're'). AI will explain in Arabic."},{lesson_id:"demonstratives-beginner",title:"Demonstratives (This, That, These, Those)",title_arabic:"أسماء الإشارة (This, That, These, Those)",topic:"Grammar",topic_arabic:"قواعد",level:"Beginner",arabic_explanation:"Understand how to use this, that, these, and those. AI will provide an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"___ apple is red. (near you)",choices:["This","That","These","Those"],correct_answer:"This"},{type:"multiple_choice",question:"___ books are on the table. (far from you, plural)",choices:["This","That","These","Those"],correct_answer:"Those"}],meta:{englishGrammarTopic:"Demonstrative pronouns and adjectives (this, that, these, those) to point out specific people or things based on proximity."},additional_notes:"'This' and 'these' are for things near. 'That' and 'those' are for things far. AI will explain in Arabic.",common_mistakes:"Using singular demonstratives with plural nouns and vice-versa. AI will explain in Arabic."},{lesson_id:"questions-to-be-beginner",title:"Questions with 'To Be'",title_arabic:"الأسئلة باستخدام فعل 'To Be'",topic:"Grammar",topic_arabic:"قواعد",level:"Beginner",arabic_explanation:"Learn to ask questions using 'am, is, are'. AI will generate an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"___ she a doctor?",choices:["Am","Is","Are","Do"],correct_answer:"Is"},{type:"multiple_choice",question:"What ___ your name?",choices:["am","is","are","do"],correct_answer:"is"}],meta:{englishGrammarTopic:"Forming yes/no questions and Wh-questions with the verb 'to be' (am, is, are) in the present simple by inverting subject and verb."},additional_notes:"For questions, the verb 'to be' comes before the subject. AI will explain in Arabic.",common_mistakes:"Forgetting to invert the subject and verb 'to be'. AI will explain in Arabic."},{lesson_id:"questions-do-does-beginner",title:"Questions with 'Do/Does'",title_arabic:"الأسئلة باستخدام 'Do/Does'",topic:"Grammar",topic_arabic:"قواعد",level:"Beginner",arabic_explanation:"Learn to ask questions using 'do' and 'does' with action verbs. AI will generate an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"___ you like pizza?",choices:["Am","Is","Do","Does"],correct_answer:"Do"},{type:"multiple_choice",question:"Where ___ he live?",choices:["do","does","is","are"],correct_answer:"does"}],meta:{englishGrammarTopic:"Forming yes/no questions and Wh-questions with auxiliary verbs 'do' and 'does' for present simple action verbs, using the base form of the main verb."},additional_notes:"Use 'do' with I/you/we/they and 'does' with he/she/it. The main verb stays in its base form. AI will explain in Arabic.",common_mistakes:"Using 's' on the main verb after 'does' (e.g., 'Does he likes?'). AI will explain in Arabic."},{lesson_id:"adverbs-frequency-beginner",title:"Adverbs of Frequency",title_arabic:"ظروف التكرار",topic:"Grammar",topic_arabic:"قواعد",level:"Beginner",arabic_explanation:"Explore adverbs like always, sometimes, never. AI will provide an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"I ___ drink coffee in the morning.",choices:["always","never eat","sometimes play"],correct_answer:"always"}],meta:{englishGrammarTopic:"Common adverbs of frequency (always, usually, often, sometimes, rarely, never) and their typical placement in sentences (before main verbs, after 'to be')."},additional_notes:"Placement: Adverbs of frequency usually go before the main verb, but after the verb 'to be'. AI will explain in Arabic.",common_mistakes:"Incorrect placement of adverbs of frequency. AI will explain in Arabic."},{lesson_id:"there-is-there-are-beginner",title:"There is / There are",title_arabic:"There is / There are (يوجد)",topic:"Grammar",topic_arabic:"قواعد",level:"Beginner",arabic_explanation:"Learn to use 'there is' and 'there are' correctly to talk about existence. AI will generate an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"___ a cat on the roof.",choices:["There is","There are","It is","They are"],correct_answer:"There is"},{type:"multiple_choice",question:"___ many books on the shelf.",choices:["There is","There are","It is","They are"],correct_answer:"There are"}],meta:{englishGrammarTopic:"Using 'there is' (for singular and uncountable nouns) and 'there are' (for plural nouns) to indicate the existence or presence of something, including question and negative forms."},additional_notes:"Use 'there is' for singular nouns and 'there are' for plural nouns. AI will explain in Arabic.",common_mistakes:"Using 'there is' with plural nouns or 'there are' with singular nouns. AI will explain in Arabic."},{lesson_id:"countable-uncountable-nouns-beginner",title:"Countable & Uncountable Nouns (Basic)",title_arabic:"الأسماء المعدودة وغير المعدودة (أساسي)",topic:"Grammar",topic_arabic:"قواعد",level:"Beginner",arabic_explanation:"Understand the basics of countable (e.g., apple, book) and uncountable nouns (e.g., water, rice). AI will provide an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"Which is an uncountable noun?",choices:["chair","information","car","student"],correct_answer:"information"}],meta:{englishGrammarTopic:"Introduction to countable nouns (can be counted, have plural forms, use a/an) and uncountable nouns (cannot be counted, no plural form, do not use a/an)."},additional_notes:"Countable nouns can be singular or plural. Uncountable nouns are always singular. AI will explain in Arabic.",common_mistakes:"Trying to make uncountable nouns plural (e.g., 'waters', 'furnitures'). AI will explain in Arabic."},{lesson_id:"imperatives-beginner",title:"Imperatives",title_arabic:"صيغة الأمر",topic:"Grammar",topic_arabic:"قواعد",level:"Beginner",arabic_explanation:"Learn how to give commands, make requests, and provide instructions using imperatives. AI will generate an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"Which is a correct imperative sentence?",choices:["You open the window.","Open the window.","To open the window.","Opening the window."],correct_answer:"Open the window."}],meta:{englishGrammarTopic:"Forming and using imperative sentences (base form of the verb) for commands, requests (often with 'please'), and instructions. Negative imperatives (Don't + base form)."},additional_notes:"Imperatives use the base form of the verb. The subject 'you' is usually implied. AI will explain in Arabic.",common_mistakes:"Including the subject 'you' explicitly unless for emphasis. AI will explain in Arabic."},{lesson_id:"asking-answering-basic-questions-beginner",title:"Asking and Answering Basic Questions",title_arabic:"طرح الأسئلة الأساسية والإجابة عليها",topic:"Conversation Basics",topic_arabic:"أساسيات المحادثة",level:"Beginner",arabic_explanation:"Learn how to ask and answer common basic questions in English (e.g., What's your name? How are you? Where are you from?). AI will generate explanations and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"How to respond to 'How are you?'",choices:["I am book.","I am fine, thank you.","My name is fine.","Yes, I am."],correct_answer:"I am fine, thank you."}],additional_notes:"Practice these questions and answers to build confidence in basic conversations. AI will provide more tips in Arabic.",common_mistakes:"Giving inappropriate or grammatically incorrect answers to simple questions. AI will detail in Arabic.",meta:{englishGrammarTopic:"Common Wh-questions (What, Where, Who, How) and Yes/No questions in simple present tense for basic personal information and greetings, along with typical short and long answers."}},{lesson_id:"articles-a-an-the-intermediate",title:"Articles: A/An/The",title_arabic:"أدوات التعريف والتنكير: A/An/The",topic:"Grammar",topic_arabic:"قواعد",level:"Intermediate",arabic_explanation:"Understand when to use indefinite (a/an) and definite (the) articles in English. AI will provide a comprehensive Arabic explanation and illustrative examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"I saw ___ beautiful bird in the park. ___ bird was singing.",choices:["a / The","the / A","an / The","a / A"],correct_answer:"a / The"},{type:"multiple_choice",question:"She is ___ honest person.",choices:["a","an","the","no article"],correct_answer:"an"}],meta:{englishGrammarTopic:"English Articles (a, an, the): Usage for specific and non-specific nouns, first and subsequent mentions, unique items, and general concepts. Also covering cases with no article."},additional_notes:"Pay attention to vowel sounds for 'a' vs 'an', not just the letter. 'The' is used for specific items known to both speaker and listener. AI will elaborate in Arabic.",common_mistakes:"Using 'a/an' with plural or uncountable nouns. Omitting 'the' when it's required for specific nouns already mentioned or unique items. AI will detail in Arabic."},{lesson_id:"past-simple-tense-intermediate",title:"Past Simple Tense",title_arabic:"زمن الماضي البسيط",topic:"Grammar",topic_arabic:"قواعد",level:"Intermediate",arabic_explanation:"Learn to talk about completed actions in the past using the Past Simple tense. AI will generate an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"Yesterday, I ___ (to play) football.",choices:["play","played","playing","plays"],correct_answer:"played"},{type:"multiple_choice",question:"They ___ (not go) to the cinema last night.",choices:["don't go","didn't went","didn't go","not goed"],correct_answer:"didn't go"}],meta:{englishGrammarTopic:"Past Simple Tense in English: Forming regular (-ed) and common irregular past tense verbs, usage for completed actions in the past (affirmative, negative 'did not + base verb', and interrogative 'Did + subject + base verb?')."},additional_notes:"Remember the auxiliary verb 'did' for negatives and questions in Past Simple (except with 'to be'). Many common verbs are irregular in the past simple. AI will expand in Arabic.",common_mistakes:"Using the past form of the verb in negative and question sentences with 'did' (e.g., 'didn't went'). Forgetting irregular verb forms. AI will provide examples in Arabic."},{lesson_id:"comparative-superlative-adjectives-intermediate",title:"Comparative & Superlative Adjectives",title_arabic:"صفات المقارنة والتفضيل",topic:"Grammar",topic_arabic:"قواعد",level:"Intermediate",arabic_explanation:"Learn how to compare things using comparative and superlative adjectives. AI will provide an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"This book is ___ than that one.",choices:["interesting","more interesting","most interesting","interestinger"],correct_answer:"more interesting"},{type:"multiple_choice",question:"Mount Everest is the ___ mountain in the world.",choices:["high","higher","highest","most high"],correct_answer:"highest"}],meta:{englishGrammarTopic:"Forming and using comparative (e.g., bigger, more beautiful) and superlative (e.g., biggest, most beautiful) adjectives in English to compare two or more nouns. Rules for short and long adjectives, and irregular forms."},additional_notes:"For short adjectives, add '-er' (comparative) and '-est' (superlative). For longer adjectives, use 'more' and 'most'. Some adjectives have irregular forms (e.g., good-better-best). AI will explain in Arabic.",common_mistakes:"Using 'more' with short adjectives that take '-er' (e.g., 'more big'). Incorrectly forming irregular comparatives/superlatives. AI will explain in Arabic."},{lesson_id:"present-continuous-intermediate",title:"Present Continuous Tense",title_arabic:"زمن المضارع المستمر",topic:"Grammar",topic_arabic:"قواعد",level:"Intermediate",arabic_explanation:"Master the Present Continuous tense for ongoing actions, temporary situations, and future plans. AI will provide an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"She ___ (read) a book right now.",choices:["read","reads","is reading","was reading"],correct_answer:"is reading"}],meta:{englishGrammarTopic:"Present Continuous Tense (am/is/are + verb-ing): form, use for actions happening now, temporary situations, and future plans (arrangements)."},additional_notes:"Used for actions happening at the moment of speaking or around the present time. AI will explain in Arabic.",common_mistakes:"Using Present Simple instead of Present Continuous for actions happening now. Forgetting the 'be' verb. AI will explain in Arabic."},{lesson_id:"past-continuous-intermediate",title:"Past Continuous Tense",title_arabic:"زمن الماضي المستمر",topic:"Grammar",topic_arabic:"قواعد",level:"Intermediate",arabic_explanation:"Learn the Past Continuous tense for actions in progress in the past, often used with Past Simple. AI will provide an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"I ___ (watch) TV when the phone rang.",choices:["watch","watched","am watching","was watching"],correct_answer:"was watching"}],meta:{englishGrammarTopic:"Past Continuous Tense (was/were + verb-ing): form, use for actions in progress at a specific time in the past, or actions interrupted by another past action (Past Simple)."},additional_notes:"Often used to set the scene for another action in the past. AI will explain in Arabic.",common_mistakes:"Using Past Simple when an action was in progress. Forgetting 'was/were'. AI will explain in Arabic."},{lesson_id:"future-simple-will-going-to-intermediate",title:"Future Simple: Will vs. Going to",title_arabic:"زمن المستقبل البسيط: Will مقابل Going to",topic:"Grammar",topic_arabic:"قواعد",level:"Intermediate",arabic_explanation:"Understand the difference between 'will' and 'be going to' for future actions, predictions, and plans. AI will provide an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"Look at those clouds! It ___ (rain).",choices:["will rain","is going to rain","rains"],correct_answer:"is going to rain"}],meta:{englishGrammarTopic:"Future Simple Tense: 'will' for predictions, spontaneous decisions, promises, offers; 'be going to' for plans, intentions, and predictions based on present evidence."},additional_notes:"'Will' is often used for spontaneous decisions; 'going to' for prior plans. AI will explain in Arabic.",common_mistakes:"Interchanging 'will' and 'going to' incorrectly, especially for plans vs. spontaneous decisions. AI will explain in Arabic."},{lesson_id:"possessive-pronouns-intermediate",title:"Possessive Pronouns",title_arabic:"ضمائر الملكية",topic:"Grammar",topic_arabic:"قواعد",level:"Intermediate",arabic_explanation:"Learn about possessive pronouns like mine, yours, his, hers, its, ours, theirs. AI will generate an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"This book is not your book. It's ___.",choices:["my","me","mine","I"],correct_answer:"mine"}],meta:{englishGrammarTopic:"Possessive Pronouns (mine, yours, his, hers, its, ours, theirs) and their use to replace a possessive adjective + noun, showing ownership without a following noun."},additional_notes:"Possessive pronouns stand alone and do not precede a noun. AI will explain in Arabic.",common_mistakes:"Confusing possessive pronouns with possessive adjectives (e.g., 'This is mine book'). AI will explain in Arabic."},{lesson_id:"reflexive-pronouns-intermediate",title:"Reflexive Pronouns",title_arabic:"الضمائر الانعكاسية",topic:"Grammar",topic_arabic:"قواعد",level:"Intermediate",arabic_explanation:"Understand reflexive pronouns (myself, yourself, etc.) when the subject and object are the same. AI will generate an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"He cut ___ while shaving.",choices:["he","him","himself","his"],correct_answer:"himself"}],meta:{englishGrammarTopic:"Reflexive Pronouns (myself, yourself, himself, herself, itself, ourselves, yourselves, themselves) used when the subject and the object of a verb are the same person or thing, or for emphasis."},additional_notes:"Reflexive pronouns reflect the action back to the subject. AI will explain in Arabic.",common_mistakes:"Using object pronouns instead of reflexive pronouns (e.g., 'He hurt him' when meaning himself). AI will explain in Arabic."},{lesson_id:"adverbs-manner-intermediate",title:"Adverbs of Manner",title_arabic:"ظروف الكيفية",topic:"Grammar",topic_arabic:"قواعد",level:"Intermediate",arabic_explanation:"Learn how adverbs describe actions (e.g., slowly, happily) and their formation. AI will provide an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"She sings ___.",choices:["beautiful","beautifully","beauty","beautify"],correct_answer:"beautifully"}],meta:{englishGrammarTopic:"Adverbs of Manner (e.g., quickly, carefully, well): how they are formed (often by adding -ly to adjectives), their placement, and how they describe how an action is performed."},additional_notes:"Many adverbs of manner end in '-ly'. They usually go after the main verb or object. AI will explain in Arabic.",common_mistakes:"Using an adjective instead of an adverb of manner (e.g., 'He drives careful'). AI will explain in Arabic."},{lesson_id:"zero-conditional-intermediate",title:"Zero Conditional",title_arabic:"الجمل الشرطية (النوع صفر)",topic:"Grammar",topic_arabic:"قواعد",level:"Intermediate",arabic_explanation:"Understand Zero Conditional sentences for facts, general truths, and scientific laws. AI will generate an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"If you ___ water to 100°C, it ___.",choices:["heat / boils","heats / boil","will heat / boils","heat / will boil"],correct_answer:"heat / boils"}],meta:{englishGrammarTopic:"Zero Conditional (If/When + present simple, ... present simple): structure and use for expressing general truths, facts, habits, and scientific laws that are always true."},additional_notes:"Used for situations that are always true. AI will explain in Arabic.",common_mistakes:"Using 'will' in zero conditional sentences. AI will explain in Arabic."},{lesson_id:"quantifiers-some-any-no-intermediate",title:"Quantifiers: Some, Any, No",title_arabic:"المحددات الكمية: Some, Any, No",topic:"Grammar",topic_arabic:"قواعد",level:"Intermediate",arabic_explanation:"Learn to use 'some' (affirmative), 'any' (negative/questions), and 'no' (affirmative with negative meaning). AI will provide an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"I don't have ___ money.",choices:["some","any","no","many"],correct_answer:"any"}],meta:{englishGrammarTopic:"Using quantifiers 'some' (typically in affirmative sentences and offers/requests), 'any' (typically in negative sentences and questions), 'no' (in affirmative sentences to mean not any) with countable and uncountable nouns."},additional_notes:"'Some' is also used in questions when offering or requesting something. AI will explain in Arabic.",common_mistakes:"Using 'some' in general negative sentences or questions. Using 'no' with a negative verb (double negative). AI will explain in Arabic."},{lesson_id:"prepositions-time-intermediate",title:"Prepositions of Time (In, On, At - Expanded)",title_arabic:"حروف الجر الزمنية (In, On, At - موسع)",topic:"Grammar",topic_arabic:"قواعد",level:"Intermediate",arabic_explanation:"Deepen your understanding of prepositions of time (in, on, at) for months, years, days, dates, specific times. AI will generate an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"My birthday is ___ June.",choices:["at","on","in","by"],correct_answer:"in"}],meta:{englishGrammarTopic:"Detailed use of prepositions of time 'in' (for longer periods: months, years, seasons, parts of the day like 'in the morning'), 'on' (for specific days and dates: 'on Monday', 'on July 4th'), 'at' (for specific times of day, night, weekend: 'at 5 PM', 'at night')."},additional_notes:"Remember 'in the morning/afternoon/evening' but 'at night'. AI will explain in Arabic.",common_mistakes:"Confusing 'in', 'on', and 'at' for different time expressions. AI will explain in Arabic."},{lesson_id:"quantifiers-much-many-lot-few-little-intermediate",title:"Quantifiers: Much, Many, A lot of, Few, Little",title_arabic:"المحددات الكمية: Many, Much, A lot of, Few, Little",topic:"Grammar",topic_arabic:"قواعد",level:"Intermediate",arabic_explanation:"Learn the use of quantifiers like much, many, a lot of, (a) few, (a) little with countable and uncountable nouns. AI will generate explanations and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"How ___ sugar do you want? (uncountable)",choices:["much","many","a few","few"],correct_answer:"much"},{type:"multiple_choice",question:"There are ___ apples left. (countable, small number)",choices:["much","a little","a few","many"],correct_answer:"a few"}],additional_notes:"'Much' with uncountable nouns (often in questions/negatives), 'many' with countable nouns. 'A lot of' can be used with both. '(A) few' with countable, '(a) little' with uncountable. AI will detail in Arabic.",common_mistakes:"Using 'much' with countable nouns or 'many' with uncountable nouns. Confusing 'few'/'little' (negative connotation) with 'a few'/'a little' (positive connotation). AI will explain in Arabic.",meta:{englishGrammarTopic:"Quantifiers: 'much' (uncountable, ?/-), 'many' (countable, ?/-), 'a lot of/lots of' (both, +/?/-), '(a) few' (countable), '(a) little' (uncountable). Usage and nuances."}},{lesson_id:"modal-verbs-advanced",title:"Modal Verbs (Can, Could, May, Might, Must, Should)",title_arabic:"الأفعال المساعدة الشرطية (Modal Verbs)",topic:"Grammar",topic_arabic:"قواعد",level:"Advanced",arabic_explanation:"Explore the nuances of modal verbs in English to express ability, permission, possibility, obligation, and advice. AI will generate an in-depth Arabic explanation and varied examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"You ___ study harder if you want to pass the exam.",choices:["can","must","should","may"],correct_answer:"should"},{type:"multiple_choice",question:"___ I borrow your pen, please?",choices:["Must","Should","May","Might"],correct_answer:"May"}],meta:{englishGrammarTopic:"Modal Verbs in English (can, could, may, might, must, should, will, would, shall, ought to): Explaining their functions for ability, permission, possibility, speculation, obligation, advice, necessity, prohibition, and future/conditional contexts. Including nuances and differences in formality/certainty."},additional_notes:"Modal verbs are followed by the base form of the main verb (e.g., 'can go', not 'can goes' or 'can to go'). 'Could' and 'might' often express more politeness or less certainty than 'can' and 'may'. AI will explain in Arabic.",common_mistakes:"Using 'to' after a modal verb (e.g., 'must to study'). Using past tense forms of main verbs after modals (e.g., 'should went'). Confusing 'must' (strong obligation) with 'should' (advice). AI will explain in Arabic."},{lesson_id:"present-perfect-tense-advanced",title:"Present Perfect Tense",title_arabic:"زمن المضارع التام",topic:"Grammar",topic_arabic:"قواعد",level:"Advanced",arabic_explanation:"Master the Present Perfect tense to talk about past actions connected to the present. AI will provide an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"She ___ (to visit) Paris three times.",choices:["visit","visited","has visited","had visited"],correct_answer:"has visited"},{type:"multiple_choice",question:"I ___ (not see) that movie yet.",choices:["don't see","didn't see","haven't seen","hadn't seen"],correct_answer:"haven't seen"}],meta:{englishGrammarTopic:"Present Perfect Tense in English (have/has + past participle): Usage for actions completed at an unspecified time in the past with relevance to the present, actions that started in the past and continue to the present, life experiences, and recent events. Contrast with Past Simple. Introduction to Present Perfect Continuous."},additional_notes:"Key signal words for Present Perfect include 'ever', 'never', 'already', 'yet', 'just', 'for', 'since'. AI will explain in Arabic.",common_mistakes:"Confusing Present Perfect with Past Simple (e.g., using Present Perfect for an action with a specific past time: 'I have visited Paris yesterday'). Incorrect past participle forms. AI will explain in Arabic."},{lesson_id:"conditional-sentences-type-1-advanced",title:"Conditional Sentences - Type 1",title_arabic:"الجمل الشرطية - النوع الأول",topic:"Grammar",topic_arabic:"قواعد",level:"Advanced",arabic_explanation:"Learn to form and use Type 1 conditional sentences for real future possibilities. AI will generate an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"If it __ (to rain) tomorrow, we ___ (to stay) home.",choices:["rains / will stay","will rain / stay","rained / would stay","rains / stay"],correct_answer:"rains / will stay"},{type:"multiple_choice",question:"You will pass the exam if you ___ (to study) hard.",choices:["study","will study","studied","would study"],correct_answer:"study"}],meta:{englishGrammarTopic:"First Conditional Sentences in English (If + present simple, ...will/can/may/should + base verb): Structure, usage for expressing real and possible future conditions and their results. Variations with modals other than 'will'."},additional_notes:"The 'if' clause describes the condition, and the main clause describes the result. The order of clauses can be switched without changing the meaning (e.g., 'We will stay home if it rains tomorrow'). AI will explain in Arabic.",common_mistakes:"Using 'will' in the 'if' clause (e.g., 'If it will rain...'). Using incorrect tense combinations. AI will explain in Arabic."},{lesson_id:"past-perfect-tense-advanced",title:"Past Perfect Tense",title_arabic:"زمن الماضي التام",topic:"Grammar",topic_arabic:"قواعد",level:"Advanced",arabic_explanation:"Master the Past Perfect tense (had + past participle) for actions completed before another past action. AI will provide an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"By the time I arrived, she ___ (leave).",choices:["leave","left","has left","had left"],correct_answer:"had left"}],meta:{englishGrammarTopic:"Past Perfect Tense (had + past participle): form and use for an action completed before another action or specific time in the past. Contrast with Past Simple."},additional_notes:"Often used with time expressions like 'by the time', 'already', 'before', 'after'. AI will explain in Arabic.",common_mistakes:"Using Past Simple when Past Perfect is needed to clarify the sequence of past events. AI will explain in Arabic."},{lesson_id:"future-continuous-tense-advanced",title:"Future Continuous Tense",title_arabic:"زمن المستقبل المستمر",topic:"Grammar",topic_arabic:"قواعد",level:"Advanced",arabic_explanation:"Learn the Future Continuous tense (will be + -ing) for ongoing actions in the future. AI will provide an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"This time tomorrow, I ___ (fly) to Paris.",choices:["fly","will fly","will be flying","am flying"],correct_answer:"will be flying"}],meta:{englishGrammarTopic:"Future Continuous Tense (will be + verb-ing): form and use for actions that will be in progress at a specific time in the future, or for planned future events."},additional_notes:"Emphasizes the duration of an activity in the future. AI will explain in Arabic.",common_mistakes:"Using Future Simple when Future Continuous is more appropriate for ongoing future actions. AI will explain in Arabic."},{lesson_id:"future-perfect-tense-advanced",title:"Future Perfect Tense",title_arabic:"زمن المستقبل التام",topic:"Grammar",topic_arabic:"قواعد",level:"Advanced",arabic_explanation:"Explore the Future Perfect tense (will have + past participle) for actions completed by a future time. AI will provide an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"By next year, I ___ (finish) my studies.",choices:["finish","will finish","will be finishing","will have finished"],correct_answer:"will have finished"}],meta:{englishGrammarTopic:"Future Perfect Tense (will have + past participle): form and use for actions that will be completed by or before a certain time in the future."},additional_notes:"Often used with 'by' + future time expression. AI will explain in Arabic.",common_mistakes:"Using Future Simple instead of Future Perfect for actions completed by a future point. AI will explain in Arabic."},{lesson_id:"conditional-sentences-type-2-advanced",title:"Conditional Sentences - Type 2",title_arabic:"الجمل الشرطية - النوع الثاني",topic:"Grammar",topic_arabic:"قواعد",level:"Advanced",arabic_explanation:"Understand Type 2 conditional sentences (If + past simple, ...would + base verb) for hypothetical situations. AI will generate an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"If I ___ (win) the lottery, I ___ (buy) a house.",choices:["win / will buy","won / would buy","win / would buy","won / will buy"],correct_answer:"won / would buy"}],meta:{englishGrammarTopic:"Second Conditional Sentences (If + past simple, ...would/could/might + base verb): structure and use for hypothetical, unlikely, or unreal situations in the present or future."},additional_notes:"Use 'were' instead of 'was' for 'I/he/she/it' in the 'if' clause (e.g., 'If I were you...'). AI will explain in Arabic.",common_mistakes:"Using 'would' in the 'if' clause. Using Present Simple instead of Past Simple in the 'if' clause. AI will explain in Arabic."},{lesson_id:"conditional-sentences-type-3-advanced",title:"Conditional Sentences - Type 3",title_arabic:"الجمل الشرطية - النوع الثالث",topic:"Grammar",topic_arabic:"قواعد",level:"Advanced",arabic_explanation:"Learn Type 3 conditional sentences (If + past perfect, ...would have + past participle) for past unreal situations. AI will generate an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"If I ___ (study) harder, I ___ (pass) the exam.",choices:["had studied / would pass","studied / would have passed","had studied / would have passed","studied / would pass"],correct_answer:"had studied / would have passed"}],meta:{englishGrammarTopic:"Third Conditional Sentences (If + past perfect, ...would/could/might have + past participle): structure and use for hypothetical situations in the past that did not happen, and their unreal past results."},additional_notes:"Used to talk about regrets or different outcomes in the past. AI will explain in Arabic.",common_mistakes:"Incorrect tense combinations, e.g., using 'would' instead of 'would have'. AI will explain in Arabic."},{lesson_id:"reported-speech-advanced",title:"Reported Speech (Statements)",title_arabic:"الكلام المنقول (الجمل الخبرية)",topic:"Grammar",topic_arabic:"قواعد",level:"Advanced",arabic_explanation:"Master reported speech (indirect speech) for statements, including tense backshift and changes in pronouns/time. AI will generate an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"Direct: 'I am tired.' Reported: She said that she ___ tired.",choices:["is","am","was","were"],correct_answer:"was"}],meta:{englishGrammarTopic:"Reported Speech (Indirect Speech) for statements: tense backshift rules (e.g., present simple to past simple), changes in pronouns, and changes in time and place expressions when reporting what someone said."},additional_notes:"Tenses usually shift back one step (e.g., Present Simple -> Past Simple, Past Simple -> Past Perfect). AI will explain in Arabic.",common_mistakes:"Forgetting to backshift tenses or change pronouns/time expressions correctly. AI will explain in Arabic."},{lesson_id:"passive-voice-present-past-simple-advanced",title:"Passive Voice (Present & Past Simple)",title_arabic:"المبني للمجهول (المضارع البسيط والماضي البسيط)",topic:"Grammar",topic_arabic:"قواعد",level:"Advanced",arabic_explanation:"Understand and use the Passive Voice in Present Simple and Past Simple. AI will generate an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"Active: 'Someone built this house.' Passive: 'This house ___ by someone.'",choices:["is built","was built","builds","has built"],correct_answer:"was built"}],meta:{englishGrammarTopic:"Passive Voice: form (to be + past participle) and use in Present Simple (is/are + p.p.) and Past Simple (was/were + p.p.) when the focus is on the action or the receiver of the action, rather than the agent (doer)."},additional_notes:"The object of the active sentence becomes the subject of the passive sentence. AI will explain in Arabic.",common_mistakes:"Incorrect form of 'to be' or past participle. Forgetting 'by' when mentioning the agent. AI will explain in Arabic."},{lesson_id:"gerunds-infinitives-intro-advanced",title:"Gerunds and Infinitives (Introduction)",title_arabic:"المصادر وأفعال المصدر (مقدمة)",topic:"Grammar",topic_arabic:"قواعد",level:"Advanced",arabic_explanation:"Learn the basics of Gerunds (verb-ing as noun) and Infinitives (to + verb) and their common uses. AI will generate an Arabic explanation and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"___ (swim) is my favorite hobby.",choices:["Swim","To swim","Swimming","Swam"],correct_answer:"Swimming"}],meta:{englishGrammarTopic:"Introduction to Gerunds (verb + -ing form used as a noun) and Infinitives (to + base form of the verb): their forms and common uses (e.g., as subjects, objects, after certain verbs, after prepositions for gerunds)."},additional_notes:"Some verbs are followed by gerunds, others by infinitives, and some by both with different meanings. AI will explain in Arabic.",common_mistakes:"Using an infinitive where a gerund is required (e.g., after prepositions) and vice-versa. AI will explain in Arabic."},{lesson_id:"mixed-conditionals-advanced",title:"Mixed Conditional Sentences",title_arabic:"الجمل الشرطية المختلطة",topic:"Grammar",topic_arabic:"قواعد",level:"Advanced",arabic_explanation:"Understand mixed conditional sentences, which combine different time frames in the if-clause and the main clause (e.g., past condition with present result). AI will generate explanations and examples.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"If he had taken the map (past), he ___ lost now (present).",choices:["would not be","would not have been","is not","will not be"],correct_answer:"would not be"}],additional_notes:"Mixed conditionals allow for more nuanced expressions of hypothetical situations linking different times. Common types are past condition/present result, and present condition/past result. AI will detail in Arabic.",common_mistakes:"Using incorrect tense combinations for the desired time frame link. AI will explain in Arabic.",meta:{englishGrammarTopic:"Mixed Conditional Sentences: Combining different conditional types, typically Type 2 and Type 3, to express hypothetical links between different time frames (e.g., past condition affecting present result, or present condition affecting past result)."}},{lesson_id:"articles-a-an-basic-beginner",title:"Articles: A/An (Basic)",title_arabic:"أدوات التنكير: A/An (أساسي)",topic:"Grammar",topic_arabic:"قواعد",level:"Beginner",arabic_explanation:"Learn the very basics of using 'a' and 'an' with singular countable nouns. AI will generate detailed explanations and examples in Arabic.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"I see ___ apple.",choices:["a","an","the"],correct_answer:"an"},{type:"multiple_choice",question:"That is ___ big dog.",choices:["a","an","the"],correct_answer:"a"}],additional_notes:"Use 'an' before words starting with a vowel sound (a, e, i, o, u sounds). Use 'a' before words starting with a consonant sound. AI will provide more details.",common_mistakes:"Using 'a' before a vowel sound or 'an' before a consonant sound. Forgetting to use an article with a singular countable noun. AI will explain further.",meta:{englishGrammarTopic:"Basic usage of indefinite articles 'a' and 'an' with singular countable nouns, focusing on the sound of the first letter of the following word."}},{lesson_id:"plural-nouns-regular-beginner",title:"Plural Nouns (Regular -s, -es)",title_arabic:"أسماء الجمع (المنتظمة بإضافة -s, -es)",topic:"Grammar",topic_arabic:"قواعد",level:"Beginner",arabic_explanation:"Learn how to form regular plural nouns by adding -s or -es. AI will generate detailed explanations and examples in Arabic.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"One cat, two ___.",choices:["cat","cats","cates"],correct_answer:"cats"},{type:"multiple_choice",question:"One box, three ___.",choices:["box","boxs","boxes"],correct_answer:"boxes"}],additional_notes:"Most nouns add -s. Nouns ending in -s, -sh, -ch, -x, or -z add -es. AI will provide more rules and examples.",common_mistakes:"Forgetting to add -s or -es. Adding -s when -es is needed, or vice-versa. AI will explain.",meta:{englishGrammarTopic:"Forming regular plural nouns in English by adding -s or -es based on the ending of the singular noun."}},{lesson_id:"present-perfect-vs-past-simple-intermediate",title:"Present Perfect vs. Past Simple",title_arabic:"المضارع التام مقابل الماضي البسيط",topic:"Grammar",topic_arabic:"قواعد",level:"Intermediate",arabic_explanation:"Understand the key differences between Present Perfect (for actions with present relevance or unspecified past time) and Past Simple (for completed actions at a specific past time). AI will generate detailed explanations and examples in Arabic.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"I ___ (visit) Paris last year.",choices:["have visited","visited","visit"],correct_answer:"visited"},{type:"multiple_choice",question:"She ___ (never/eat) sushi before.",choices:["has never eaten","never ate","didn't never eat"],correct_answer:"has never eaten"}],additional_notes:"Past Simple is used with specific past time markers (yesterday, last week). Present Perfect often connects past actions to the present. AI will elaborate.",common_mistakes:"Using Present Perfect with specific past time adverbs. Using Past Simple for experiences without a specific time. AI will explain further.",meta:{englishGrammarTopic:"Contrasting Present Perfect Tense (have/has + past participle) with Past Simple Tense (-ed/irregular forms) based on time reference, completion, and relevance to the present."}},{lesson_id:"gerunds-subjects-objects-intermediate",title:"Gerunds as Subjects and Objects",title_arabic:"المصادر كفاعل ومفعول به",topic:"Grammar",topic_arabic:"قواعد",level:"Intermediate",arabic_explanation:"Learn how gerunds (verb + -ing) can function as subjects or objects in a sentence. AI will generate detailed explanations and examples in Arabic.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"___ (Read) books is my favorite activity.",choices:["To read","Reading","Read"],correct_answer:"Reading"},{type:"multiple_choice",question:"I enjoy ___ (listen) to music.",choices:["to listen","listening","listen"],correct_answer:"listening"}],additional_notes:"Gerunds act like nouns. Many verbs are followed by gerunds as objects (e.g., enjoy, finish, avoid). AI will list more.",common_mistakes:"Using an infinitive instead of a gerund after certain verbs or as a subject when the gerund form is more natural. AI will explain.",meta:{englishGrammarTopic:"Using gerunds (verb + -ing form) as nouns, specifically as the subject of a sentence or the object of a verb or preposition."}},{lesson_id:"relative-clauses-advanced",title:"Relative Clauses (Defining and Non-defining)",title_arabic:"الجمل الموصولة (المُعَرِّفة وغير المُعَرِّفة)",topic:"Grammar",topic_arabic:"قواعد",level:"Advanced",arabic_explanation:"Master defining and non-defining relative clauses using who, whom, whose, which, that. AI will generate detailed explanations and examples in Arabic.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"The man ___ lives next door is a doctor. (defining)",choices:["who","which","whose"],correct_answer:"who"},{type:"multiple_choice",question:"My brother, ___ lives in London, is visiting me. (non-defining)",choices:["that","who","which (for person)"],correct_answer:"who"}],additional_notes:"Defining clauses provide essential information. Non-defining clauses add extra, non-essential information and are set off by commas. 'That' is often used in defining clauses but not non-defining ones. AI will elaborate.",common_mistakes:"Using 'that' in non-defining clauses. Omitting commas in non-defining clauses. Using the wrong relative pronoun. AI will explain further.",meta:{englishGrammarTopic:"Relative Clauses: Forming and using defining (restrictive) and non-defining (non-restrictive) relative clauses with relative pronouns (who, whom, whose, which, that) and relative adverbs (where, when, why)."}},{lesson_id:"subjunctive-mood-advanced",title:"Subjunctive Mood",title_arabic:"صيغة التمني/الشرط (Subjunctive)",topic:"Grammar",topic_arabic:"قواعد",level:"Advanced",arabic_explanation:"Understand the subjunctive mood for wishes, suggestions, demands, and hypothetical situations. AI will generate detailed explanations and examples in Arabic.",examples:[],interactive_exercises:[{type:"multiple_choice",question:"I wish I ___ (be) taller.",choices:["am","was","were"],correct_answer:"were"},{type:"multiple_choice",question:"The manager insisted that the report ___ (finish) by Friday.",choices:["is finished","be finished","was finished"],correct_answer:"be finished"}],additional_notes:"The subjunctive often uses the base form of the verb (e.g., 'I suggest he go') or 'were' instead of 'was' (e.g., 'If I were you'). AI will provide more contexts.",common_mistakes:"Using indicative mood instead of subjunctive where required, especially after verbs of demand, suggestion, or in unreal conditions. AI will explain.",meta:{englishGrammarTopic:"The Subjunctive Mood in English: Present subjunctive (base form of verb for demands, suggestions, e.g., 'I suggest he *be* on time') and Past subjunctive (simple past form, e.g., 'If I *were* you', 'I wish I *knew*') for wishes, hypothetical situations, and formal requests."}}],UZ=`https://youtu.be/kYTHKyEhd20
https://youtu.be/dUc9Jl_N_Rw
https://youtu.be/QRrKyDzPsbo
https://youtu.be/M6Xm8qNg0jk
https://youtu.be/4nwCHutnO6Q
https://youtu.be/OaGl1vJwazM
https://youtu.be/c39AH8ORP2w
https://youtu.be/1Hc0Ig2rE3U
https://youtu.be/V1mObYNWabs
https://youtu.be/6iqxZO0bYrU
https://youtu.be/_5gH1V7Lb4g
https://youtu.be/R3ghtwd4usk
https://youtu.be/K5W9yShY7rw
https://youtu.be/xEcDv4c1xg8
https://youtu.be/_-XZab5Fk5o
https://youtu.be/UEZZYgcH6-g
https://youtu.be/MrDYg8updp0
https://youtu.be/aMDsvDW2NHs
https://youtu.be/O46fX77-jIo
https://youtu.be/3ItjO6O8-3I
https://youtu.be/MEwXLgDDGDs`,zZ=`https://www.youtube.com/live/uuME37Qd6L8?si=AKd7WJPzTv5ovQmy
https://www.youtube.com/live/5suNbFwSRmo?si=TcoEiSnRrF4phuem
https://youtu.be/z0kYCjpACfE?si=-6jd6QEfXzdd31xh
https://youtu.be/7hvCJmjOg9Y?si=uUUE7ArbtZz8H6ye
https://youtu.be/VZjOS7hAhvE?si=l1M6nHQmQh7doXzc
https://youtu.be/kVR13ZSBiww?si=WV6XCL69LUUJf7fo
https://youtu.be/i64_B0uiyi4?si=PmD2ZuOdfF54qBkA
https://youtu.be/Agf6Bi_SF5g?si=TPMdMc_Nasl7q5g2
https://youtu.be/ibglfax1dKY?si=f-QmsUShubQngkPh
https://youtu.be/Czbpthg4nTk?si=4A6HJl7Xis9_i4KT
https://youtu.be/D0D4m2qAY3g?si=1S5Oe3xPNgO0qmCD
https://youtu.be/wbduIGiFJ7g?si=atsMjK6yWPcnJb0F
https://youtu.be/kVQSdLgd1rM?si=_u29bELff2NhCgsK
https://youtu.be/whC9oesMLeA?si=lTXYXGWY9SzIYP47
https://youtu.be/zzuPRkAAaHU?si=F4tADAAqpHGIV0tW
https://youtu.be/D59xKWJEb2Q?si=-hCIx2ctdJQOFmj1
https://youtu.be/Era4XppnU4k?si=Dcx1gngCmAd20yOM
https://youtu.be/QzeCiUxA8YM?si=Bt7RCHv7xPtIMr_h
https://youtu.be/46EjPg7luDE?si=n5UCTg6dlcTJ7-03
https://youtu.be/AIlOpMfl6Wg?si=_fK7LBKN7d7Upw6B`,GZ=`https://youtube.com/shorts/Eb3KznMqYu4?si=k777M_4dHpUuIADu
https://youtube.com/shorts/l3OTCqg4pCU?si=mq7IhhY785kgdl0k
https://youtube.com/shorts/U_O5w8O_Ksk?si=sC7oaDAj-TKH4WEK
https://youtube.com/shorts/WpLdPqlusys?si=xmuHSqamXwbRd8em
https://youtube.com/shorts/7HlgFfO4iEs?si=xncsQgWsgBLaj0a-
https://youtube.com/shorts/xXSAHyMrbwQ?si=gzndQ0cR7JU8OIbB
https://youtube.com/shorts/IyADqF43-Hs?si=vEPtjEIL10lPQ_jT
https://youtube.com/shorts/36addwHep6Q?si=a9ovbEiw4I2dxhpA
https://youtube.com/shorts/UI_gMvv0g8A?si=GFBaadOvCa-3NUaa
https://youtube.com/shorts/_n6TenVA7c4?si=eaWCMsKjMV5ODXX4
https://youtube.com/shorts/ammJ9QEAqlg?si=O7U4grYeATagZ-7g
https://youtube.com/shorts/vPBSE_F5knk?si=SF-BELpsHo-ESTpR
https://youtube.com/shorts/YX_AkTEi2gk?si=4VdV9zkSvDu-9h1t
https://youtube.com/shorts/rXFWHkhu6QY?si=sl6IpG0wOxt-SZzS
https://youtube.com/shorts/jA_zctS1oP0?si=j69kIFDeSZQTA1Ww
https://youtube.com/shorts/FPWPohFu2Wk?si=5zkPSgdCnSlVPBtq
https://youtube.com/shorts/cetpWYqt834?si=JfdQDhtAtxRDt3JT
https://youtube.com/shorts/bEDFhDJa4kc?si=_kaawnbwGwn0qdYg
https://youtube.com/shorts/YBwcWJ7TvJM?si=f1stT9KL6L43BcEv
https://youtube.com/shorts/fnM6AiHYL9U?si=DU_3qk5L-7qRoVo8
https://youtube.com/shorts/yXvvXnwpZ3c?si=p82TApSgQi0A4McV
https://youtube.com/shorts/krGGpdblBAw?si=z-O892V8VCU61Ck6
https://youtube.com/shorts/mX9TernX4xQ?si=Mw8aFIuolIOY60m5
https://youtube.com/shorts/sEPuLZVdS-M?si=ZjPXBr-uKy3QiG0X
https://youtube.com/shorts/FhZonlDLKWM?si=42YMdPFQ7xwRQSzz
https://youtube.com/shorts/TVNFT1KO4Io?si=ADGYH9c0rXCT3jdg
https://youtube.com/shorts/X3jUhOTJfHE?si=ggaxYN3skit8T_kD
https://youtube.com/shorts/-tg2iGnArsM?si=rsh3sfjl0jVpd3Nh
https://youtube.com/shorts/qv4pjgcDKoU?si=uSQzVZf6yNhE1QHa
https://youtube.com/shorts/ddLjFfLJFJc?si=UAhESx0FnIASyXai`;function YZ(e){const t=[],n={"(":")","[":"]","{":"}"};for(let r=0;r<e.length;r++){const i=e[r];if(n[i])t.push(i);else if(Object.values(n).includes(i)&&n[t.pop()]!==i)return!1}return t.length===0}async function KZ(e){const r=await(await Ct({model:"@cf/meta/llama-3-8b-instruct",inputs:{messages:[{role:"system",content:`You are an expert science communicator and AI assistant, fluent in both English and Arabic. Your task is to generate a single, valid, and complete JSON object based on the user's request. The JSON object must have three keys: "summary", "keyConcepts", and "analogy". All values must be in simple, clear, and natural-sounding Arabic. Do not output any text other than the JSON object itself.`},{role:"user",content:e}]}})).json();try{const i=r.result.response,a=i.indexOf("{"),o=i.lastIndexOf("}");if(a!==-1&&o!==-1){const s=i.substring(a,o+1);if(YZ(s))return JSON.parse(s)}throw new Error("Incomplete or invalid JSON object found in response")}catch(i){throw console.error("Failed to parse JSON from Cloudflare AI:",r.result.response,i),new Error("Failed to parse JSON from AI response.")}}we({videoTitle:te().describe("The title of the YouTube video to be explained.")});const XZ=we({summary:te().describe("A concise summary of the video topic in simple Arabic."),keyConcepts:te().describe("A list of key concepts from the video, explained simply in Arabic."),analogy:te().describe("An analogy or simple comparison to help understand the topic, in Arabic.")});async function QZ(e){const t=`The user is watching a YouTube video from the 'What If' series titled: "${e.videoTitle}".

Your task is to provide three distinct types of explanations for the main topic of this video. The output must be a single, valid JSON object with three keys as described in the output schema.
All explanations MUST be in simple, clear, and natural-sounding Arabic.

1.  "summary": A concise, one-paragraph summary of the video's main idea.
2.  "keyConcepts": A list and brief explanation of 2-3 key scientific or theoretical concepts discussed in the video.
3.  "analogy": A simple analogy or comparison to a more familiar concept to help a beginner understand the core idea.

The entire response must be only the JSON object, with no other text before or after it. Ensure the JSON is complete and well-formed.`;try{const n=await KZ(t);return XZ.parse(n)}catch(n){return console.error("Error in explainVideoTopic:",n),{summary:"عذرًا، لم نتمكن من إنشاء ملخص الآن. يرجى المحاولة مرة أخرى.",keyConcepts:"عذرًا، لم نتمكن من إنشاء المفاهيم الرئيسية الآن. يرجى المحاولة مرة أخرى.",analogy:"عذرًا، لم نتمكن من إنشاء تشبيه الآن. يرجى المحاولة مرة أخرى."}}}const JZ=[{id:"llm",title:"What is an LLM?",image:"https://placehold.co/600x400/7E57C2/FFFFFF.png?text=LLM",image_hint:"neural network",content:"A Large Language Model (LLM) is a type of artificial intelligence that is trained on a massive amount of text data. This training allows it to understand, generate, and respond to human language in a coherent and contextually relevant way. Think of it like a very advanced autocomplete that can write essays, answer questions, translate languages, and even write code. They learn patterns, grammar, and facts from the data they are trained on.",questions:[{question:"What is the primary function of an LLM?",options:["To create images","To understand and generate human language","To play games","To control robots"],answer:"To understand and generate human language"},{question:"How do LLMs learn?",options:["By watching videos","From a small set of rules","By being trained on massive amounts of text data","By talking to people"],answer:"By being trained on massive amounts of text data"},{question:"Which of these is a task an LLM can perform?",options:["Drive a car","Perform surgery","Write a poem","Cook dinner"],answer:"Write a poem"}]},{id:"generative-ai",title:"What is Generative AI?",image:"https://placehold.co/600x400/42A5F5/FFFFFF.png?text=GenAI",image_hint:"art creation",content:"Generative AI is a broad category of artificial intelligence that can create new, original content, rather than just analyzing or acting on existing data. This content can include text, images, music, and code. Large Language Models (LLMs) are a type of Generative AI that focuses on text. Other types of generative models can create realistic images from a text description or compose a new piece of music in a certain style. The key idea is 'generation' or 'creation' of something new.",questions:[{question:"What is the main capability of Generative AI?",options:["Analyzing data","Categorizing information","Creating new content","Following instructions"],answer:"Creating new content"},{question:"Is an LLM a type of Generative AI?",options:["Yes","No","Only for images","Only for music"],answer:"Yes"},{question:"Which of the following can Generative AI create?",options:["Only text","Only images","Only music","Text, images, music, and more"],answer:"Text, images, music, and more"}]},{id:"data-science",title:"What is Data Science?",image:"https://placehold.co/600x400/66BB6A/FFFFFF.png?text=Data",image_hint:"graphs charts",content:"Data Science is a field that uses scientific methods, processes, algorithms, and systems to extract knowledge and insights from structured and unstructured data. It's about finding patterns. Data scientists clean, prepare, and analyze large sets of data to discover trends. These insights can then be used to make better decisions, predict future events, or understand customer behavior. It combines statistics, computer science, and business knowledge.",questions:[{question:"What is the main goal of Data Science?",options:["To write code","To create websites","To extract knowledge and insights from data","To store data securely"],answer:"To extract knowledge and insights from data"},{question:"Which field is NOT typically a part of data science?",options:["Statistics","Computer Science","Business Knowledge","Marine Biology"],answer:"Marine Biology"},{question:"What is a common task for a data scientist?",options:["Designing logos","Finding patterns in data","Writing news articles","Repairing computers"],answer:"Finding patterns in data"}]},{id:"reasoning",title:"What is AI Reasoning?",image:"https://placehold.co/600x400/FFA726/FFFFFF.png?text=AI",image_hint:"robot thinking",content:"AI Reasoning is the ability of an artificial intelligence system to think logically, make connections, and draw conclusions from information it has. It's about going beyond just pattern matching. For example, an AI with reasoning can solve multi-step problems, understand cause and effect, or plan a series of actions to achieve a goal. It involves using facts and rules to make inferences about the world, much like how humans solve puzzles or make plans.",questions:[{question:"AI Reasoning is about...",options:["Memorizing facts","Thinking logically to draw conclusions","Recognizing images","Generating text"],answer:"Thinking logically to draw conclusions"},{question:"Which task requires AI reasoning?",options:["Translating a word","Identifying a cat in a photo","Planning a holiday itinerary","Repeating a sentence"],answer:"Planning a holiday itinerary"},{question:"Reasoning goes beyond simple...",options:["logic","planning","pattern matching","thinking"],answer:"pattern matching"}]},{id:"quantum-computing",title:"What is Quantum Computing?",image:"https://placehold.co/600x400/26A69A/FFFFFF.png?text=Quantum",image_hint:"quantum computer",content:"Quantum Computing is a revolutionary type of computing that uses the principles of quantum mechanics to process information. Unlike classical computers that use 'bits' (either a 0 or a 1), quantum computers use 'qubits'. A qubit can be a 0, a 1, or both at the same time (a state called superposition). This allows quantum computers to perform many calculations at once, making them incredibly powerful for solving specific, complex problems that are impossible for classical computers, such as drug discovery or creating new materials.",questions:[{question:"What does a classical computer use to store information?",options:["Qubits","Quantums","Bits","Atoms"],answer:"Bits"},{question:"A qubit can be a 0, a 1, or...",options:["A 2","Both at the same time","Neither 0 nor 1","Only a 0"],answer:"Both at the same time"},{question:"Quantum computers are especially good for solving what kind of problems?",options:["Simple, everyday tasks","Sending emails","Complex problems like drug discovery","Browsing the internet"],answer:"Complex problems like drug discovery"}]},{id:"neural-networks",title:"What are Neural Networks?",image:"https://placehold.co/600x400/EF5350/FFFFFF.png?text=Neural",image_hint:"connected nodes",content:"A neural network is a computing system inspired by the human brain. It consists of interconnected nodes, or 'neurons,' organized in layers. Each neuron receives input, processes it, and passes it on to the next layer. By adjusting the connections between these neurons during training, the network learns to recognize patterns in data. This is the core technology behind deep learning and many modern AI applications.",questions:[{question:"Neural networks are inspired by what?",options:["The internet","The human brain","A spider's web","A computer's motherboard"],answer:"The human brain"},{question:"What are the interconnected nodes in a neural network called?",options:["Axons","Synapses","Neurons","Dendrites"],answer:"Neurons"},{question:"How does a neural network learn?",options:["By being programmed with rules","By adjusting connections between neurons","By reading books","By memorizing every input"],answer:"By adjusting connections between neurons"}]},{id:"machine-learning-vs-deep-learning",title:"Machine Learning vs. Deep Learning",image:"https://placehold.co/600x400/AB47BC/FFFFFF.png?text=ML/DL",image_hint:"brain gears",content:"Machine Learning (ML) is a broad field of AI where computers learn from data without being explicitly programmed. Deep Learning is a specialized subfield of ML that uses very large neural networks with many layers (hence, 'deep'). While traditional ML might require a human to manually identify features in data (like 'has ears' for an animal), deep learning can automatically learn these features from raw data, like pixels in an image. Deep learning powers many of the most advanced AI tasks today.",questions:[{question:"Is Deep Learning a type of Machine Learning?",options:["Yes","No","They are completely separate fields","Machine Learning is a type of Deep Learning"],answer:"Yes"},{question:"What is a key feature of Deep Learning?",options:["It uses small amounts of data","It uses simple algorithms","It uses neural networks with many layers","It requires human feature engineering"],answer:"It uses neural networks with many layers"},{question:"What does 'deep' in Deep Learning refer to?",options:["The complexity of the problems","The number of layers in the neural network","The depth of its understanding","The amount of code required"],answer:"The number of layers in the neural network"}]},{id:"supervised-vs-unsupervised",title:"Supervised vs. Unsupervised Learning",image:"https://placehold.co/600x400/FFEE58/000000.png?text=Learning",image_hint:"labeled data",content:"These are two main types of machine learning. In Supervised Learning, the AI is trained on labeled data. For example, you show it thousands of pictures of cats labeled 'cat' and dogs labeled 'dog'. It learns to predict the label for new, unlabeled pictures. In Unsupervised Learning, the AI is given unlabeled data and must find patterns or structures on its own. For example, it might group customers with similar buying habits together, without being told what the groups represent.",questions:[{question:"Which type of learning uses labeled data?",options:["Supervised Learning","Unsupervised Learning","Reinforcement Learning","Deep Learning"],answer:"Supervised Learning"},{question:"Which task is an example of Unsupervised Learning?",options:["Predicting house prices from features","Identifying spam emails","Grouping similar customers together","Recognizing handwritten digits"],answer:"Grouping similar customers together"},{question:"If you are teaching an AI to identify pictures of cats and dogs, what kind of learning is it?",options:["Supervised","Unsupervised","Reinforcement","Logical"],answer:"Supervised"}]},{id:"nlp",title:"What is Natural Language Processing?",image:"https://placehold.co/600x400/29B6F6/FFFFFF.png?text=NLP",image_hint:"speech bubbles",content:"Natural Language Processing (NLP) is a field of AI that gives computers the ability to understand, interpret, and generate human language. It's the technology behind features like language translation, sentiment analysis (determining if a review is positive or negative), chatbots, and voice assistants like Siri or Alexa. NLP combines computer science and linguistics to bridge the gap between human communication and computer understanding.",questions:[{question:"What does NLP help computers to do?",options:["See images","Process numbers","Understand human language","Create music"],answer:"Understand human language"},{question:"Which of the following is an application of NLP?",options:["Self-driving cars","Image recognition","Chatbots","Weather forecasting"],answer:"Chatbots"},{question:"NLP is a combination of computer science and what other field?",options:["Biology","Physics","Chemistry","Linguistics"],answer:"Linguistics"}]},{id:"computer-vision",title:"What is Computer Vision?",image:"https://placehold.co/600x400/8D6E63/FFFFFF.png?text=Vision",image_hint:"camera eye",content:"Computer Vision is a field of AI that trains computers to 'see' and interpret the visual world. Using digital images from cameras and videos, machines can accurately identify and classify objects and then react to what they 'see'. It's the technology that powers facial recognition, self-driving cars navigating roads, and medical imaging analysis. The goal is to enable computers to understand visual information in the same way a human does.",questions:[{question:"What is the main goal of Computer Vision?",options:["To help computers hear","To help computers write text","To help computers see and interpret images","To help computers translate languages"],answer:"To help computers see and interpret images"},{question:"Which technology relies heavily on Computer Vision?",options:["Chatbots","Spell-checkers","Self-driving cars","Music composers"],answer:"Self-driving cars"},{question:"What kind of data does Computer Vision primarily use?",options:["Text data","Sound data","Numerical data","Image and video data"],answer:"Image and video data"}]},{id:"reinforcement-learning",title:"What is Reinforcement Learning?",image:"https://placehold.co/600x400/D4E157/000000.png?text=RL",image_hint:"robot maze",content:"Reinforcement Learning (RL) is a type of machine learning where an AI agent learns by trial and error. The agent, placed in an environment, learns to perform actions to maximize a cumulative reward. It isn't told which actions to take, but instead must discover which actions yield the most reward by trying them. This is similar to how you might train a dog with treats. RL is very effective for teaching AI to play games (like Chess or Go) and for robotics.",questions:[{question:"How does an agent learn in Reinforcement Learning?",options:["By being given labeled data","By finding hidden patterns","By trial and error to maximize a reward","By reading instructions"],answer:"By trial and error to maximize a reward"},{question:"What is RL particularly good for?",options:["Translating text","Teaching an AI to play a game","Identifying spam email","Grouping customers"],answer:"Teaching an AI to play a game"},{question:"The AI agent in RL tries to maximize its...",options:["Speed","Data","Reward","Mistakes"],answer:"Reward"}]},{id:"ai-ethics",title:"What are AI Ethics?",image:"https://placehold.co/600x400/BDBDBD/000000.png?text=Ethics",image_hint:"scales justice",content:"AI Ethics is a branch of ethics that studies the moral implications of creating and using artificial intelligence. It deals with important questions like: How do we prevent AI from being biased? Who is responsible if an AI makes a mistake? Should AI be used in warfare? How can we ensure AI is used for the good of humanity? As AI becomes more powerful, ensuring it is developed and used responsibly is one of the most important challenges we face.",questions:[{question:"What is a key concern of AI Ethics?",options:["How fast an AI can run","How much data an AI can store","Preventing bias in AI systems","The color of the AI's robot body"],answer:"Preventing bias in AI systems"},{question:"AI Ethics deals with the ___ implications of AI.",options:["financial","technical","moral","historical"],answer:"moral"},{question:"Why is AI Ethics becoming more important?",options:["Because AI is getting less powerful","Because computers are getting smaller","Because AI is becoming more powerful and integrated into our lives","Because all the technical problems are solved"],answer:"Because AI is becoming more powerful and integrated into our lives"}]},{id:"prompt-engineering",title:"What is Prompt Engineering?",image:"https://placehold.co/600x400/FF7043/FFFFFF.png?text=Prompt",image_hint:"conversation chat",content:"Prompt Engineering is the art and science of designing effective inputs (prompts) to get the desired outputs from a language model. Since LLMs respond based on the prompt they receive, the way you phrase your question or instruction can dramatically change the quality of the answer. It involves being clear, providing context, giving examples (few-shot prompting), and refining your prompt based on the AI's responses. It's like learning how to have the most effective conversation with an AI.",questions:[{question:"What is a 'prompt' in the context of AI?",options:["The AI's answer","The input given to the AI","The AI's programming code","The AI's memory"],answer:"The input given to the AI"},{question:"Why is prompt engineering important?",options:["It changes the AI's core programming","It can dramatically change the quality of the AI's output","It helps the AI run faster","It is only for developers"],answer:"It can dramatically change the quality of the AI's output"},{question:"Giving examples in your prompt is a technique called...",options:["Zero-shot prompting","Few-shot prompting","Example-shot prompting","Multi-shot prompting"],answer:"Few-shot prompting"}]},{id:"ai-hallucinations",title:"What are AI Hallucinations?",image:"https://placehold.co/600x400/78909C/FFFFFF.png?text=Hallucination",image_hint:"ai dream",content:"An AI 'hallucination' is when a language model generates text that is incorrect, nonsensical, or not based on the data it was trained on, but presents it as if it were a fact. The AI isn't 'seeing things' like a human; it's simply generating a plausible-sounding but factually wrong sequence of words based on the patterns it learned. This can happen when the AI doesn't know the answer or misinterprets the prompt. It's a key reason why it's important to fact-check information from LLMs.",questions:[{question:"An AI hallucination is when the AI generates...",options:["Perfectly accurate information","A summary of its training data","Incorrect or made-up information","A picture"],answer:"Incorrect or made-up information"},{question:"Does an AI 'know' when it is hallucinating?",options:["Yes, it's lying on purpose","No, it's just generating plausible text","Sometimes","Only if you ask it"],answer:"No, it's just generating plausible text"},{question:"Why is it important to be aware of AI hallucinations?",options:["Because they are funny","Because it's a sign the AI is becoming self-aware","Because the information can be wrong, so you should fact-check it","Because they can crash the computer"],answer:"Because the information can be wrong, so you should fact-check it"}]},{id:"turing-test",title:"What is the Turing Test?",image:"https://placehold.co/600x400/9C27B0/FFFFFF.png?text=Turing",image_hint:"human robot",content:"The Turing Test, proposed by Alan Turing in 1950, is a test of a machine's ability to exhibit intelligent behavior equivalent to, or indistinguishable from, that of a human. In the test, a human evaluator engages in a natural language conversation with a human and a machine, without knowing which is which. If the evaluator cannot reliably tell the machine from the human, the machine is said to have passed the test. It's a famous concept in the philosophy of AI.",questions:[{question:"Who proposed the Turing Test?",options:["Alan Turing","Isaac Asimov","Albert Einstein","John von Neumann"],answer:"Alan Turing"},{question:"What does the machine have to do to pass the test?",options:["Solve a math problem","Beat a human at chess","Convince a human evaluator that it is also human","Write a perfect essay"],answer:"Convince a human evaluator that it is also human"},{question:"The test is conducted through a...",options:["Video call","Physical interaction","Natural language conversation","Game of cards"],answer:"Natural language conversation"}]}];we({userName:te().describe("The name of the user receiving the certificate.")});we({imageUrl:te().describe("The generated image as a data URI. Expected format: 'data:<mimetype>;base64,<encoded_data>'")});async function ZZ(e){return{imageUrl:(await cc({prompt:"An abstract, elegant, and professional background for an award certificate. Use flowing lines and a sophisticated color palette of green, gold, and white. Minimalist and clean."})).imageUrl}}function eee(e){const t=[],n={"(":")","[":"]","{":"}"};for(let r=0;r<e.length;r++){const i=e[r];if(n[i])t.push(i);else if(Object.values(n).includes(i)&&n[t.pop()]!==i)return!1}return t.length===0}async function tee(e){const r=await(await Ct({model:"@cf/meta/llama-3-8b-instruct",inputs:{messages:[{role:"system",content:'You are an expert quiz creator. Your task is to generate a single, valid JSON object for a multiple-choice question based on the provided learning material. The question object must have keys "question", "options" (an array of 4 strings), and "correct_answer". Do not output any text other than the JSON object itself.'},{role:"user",content:e}]}})).json();try{const i=r.result.response,a=i.indexOf("{"),o=i.lastIndexOf("}");if(a!==-1&&o!==-1){const s=i.substring(a,o+1);if(eee(s))return JSON.parse(s)}throw new Error("Incomplete or invalid JSON object found in response")}catch(i){throw console.error("Failed to parse JSON from Cloudflare AI:",r.result.response,i),new Error("Failed to parse JSON from AI response.")}}async function nee({learningMaterial:e}){const t=`Based on the following English learning material, generate a single multiple-choice question.
  
  The question must test a key concept, vocabulary word, or comprehension point from the material.
  
  The question object in the JSON output must have 4 options and a clearly indicated correct answer.

  Your response must be ONLY a valid JSON object, with no other text before or after it.

  Here is the material:
  ---
  ${e}
  ---`;try{const n=await tee(t);return n&&n.question&&Array.isArray(n.options)&&n.correct_answer?n:null}catch(n){return console.error("Failed to generate single question, returning null",n),null}}var Pb={};const Ej=Pb.NEXT_PUBLIC_CLOUDFLARE_ACCOUNT_ID,Nj=Pb.CLOUDFLARE_API_TOKEN,Mj=Pb.NEXT_PUBLIC_CLOUDFLARE_AUTORAG_ID;we({query:te().describe("The search query.")});const ree=we({doc_id:te(),text:te(),score:oy(),source:we({name:te(),url:te().optional().nullable()})});we({results:Jt(ree).describe("The search results from AutoRAG."),answer:te().optional().nullable().describe("The synthesized answer from the LLM, if available.")});async function iee(e){if(!Ej||!Nj||!Mj)throw new Error("Cloudflare AutoRAG credentials are not set in the environment variables.");const t=`https://api.cloudflare.com/client/v4/accounts/${Ej}/autorag/rags/${Mj}/ai-search`,n={query:e.query};try{const r=await fetch(t,{method:"POST",headers:{Authorization:`Bearer ${Nj}`,"Content-Type":"application/json"},body:JSON.stringify(n)});if(!r.ok){const a=await r.text();throw console.error("Cloudflare AutoRAG API error:",a),new Error(`Cloudflare AutoRAG API request failed: ${r.statusText}`)}const i=await r.json();if(i.success&&i.result&&i.result.search)return{results:i.result.search.results,answer:i.result.answer};{const a=JSON.stringify(i.errors,null,2);throw new Error(`AutoRAG search was not successful. Errors: ${a}`)}}catch(r){throw console.error("Error in AutoRAG flow:",r),r instanceof Error?new Error(`Failed to execute AutoRAG search: ${r.message}`):new Error("Failed to execute AutoRAG search due to an unknown error.")}}const aee=25;async function oee(){const i=(await iee({query:"A comprehensive English language test covering grammar, vocabulary, and comprehension."})).results.slice(0,aee).map(s=>{const l=`Title: ${s.source.name}
Content: ${s.text}`;return nee({learningMaterial:l}).catch(c=>(console.error(`Failed to generate a question for document: "${s.source.name}". Skipping.`,c),null))});return{questions:(await Promise.all(i)).filter(s=>s!==null)}}const see=2,ks=4;function lee({status:e}){if(e===null)return null;const t={hidden:{scale:.5,opacity:0},visible:{scale:1,opacity:1,transition:{type:"spring",stiffness:300,damping:20}},exit:{scale:.5,opacity:0,transition:{duration:.2}}};return h.jsx(Wr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:h.jsx(Wr.div,{variants:t,initial:"hidden",animate:"visible",exit:"exit",children:e==="correct"?h.jsx(Lo,{className:"h-32 w-32 text-green-500"}):h.jsx($s,{className:"h-32 w-32 text-destructive"})})})}function cee(){const[e,t]=x.useState("loading"),[n,r]=x.useState([]),[i,a]=x.useState(0),[o,s]=x.useState([]),[l,c]=x.useState(null),[u,d]=x.useState(null),{setFinalExamPassed:f}=Kr(),{toast:p}=Et(),[y,m]=x.useState(1),g=x.useCallback(async(_=see)=>{t("loading"),r([]),a(0),s([]),c(null);try{const T=await oee();T&&T.questions.length>0?(r(T.questions),t("active")):_>0?(p({variant:"destructive",title:"Quiz Generation Failed, Retrying...",description:`The AI is trying again. ${_} attempts left.`}),setTimeout(()=>g(_-1),2e3)):(p({variant:"destructive",title:"Quiz Generation Failed",description:"The AI could not create questions after multiple attempts. Please try again later."}),t("finished"))}catch(T){_>0?(p({variant:"destructive",title:"Quiz Generation Error, Retrying...",description:`The AI is trying again. ${_} attempts left.`}),setTimeout(()=>g(_-1),2e3)):(console.error("Failed to generate quiz after multiple retries:",T),p({variant:"destructive",title:"Quiz Generation Failed",description:"There was a problem creating your quiz. Please try again later."}),t("finished"))}},[p]);x.useEffect(()=>{g()},[g,y]);const w=()=>{if(l&&n[i]){const _=l===n[i].correct_answer;d(_?"correct":"incorrect");const T=[...o,l];s(T),setTimeout(()=>{if(d(null),c(null),i<n.length-1)a(j=>j+1);else{const P=[...T].reduce((I,k,E)=>n[E]&&k===n[E].correct_answer?I+1:I,0),O=P/n.length>=.7;O&&y===ks?(f(!0),p({title:"Final Exam Passed!",description:"Congratulations! You can now generate your certificate!",className:"bg-green-100 dark:bg-green-900"})):p(O?{title:`Round ${y} Passed!`,description:`You scored ${P}/${n.length}. Get ready for the next round!`,className:"bg-green-100 dark:bg-green-900"}:{variant:"destructive",title:`Round ${y} Failed`,description:`You scored ${P}/${n.length}. You need at least 70% to pass. Try again!`}),t("finished")}},1500)}},b=x.useMemo(()=>e!=="finished"?0:o.reduce((_,T,j)=>n[j]&&T===n[j].correct_answer?_+1:_,0),[e,o,n]),S=()=>n.length===0?{message:"Quiz Generation Failed",icon:h.jsx($s,{className:"h-16 w-16 text-destructive"}),color:"text-destructive"}:b/(n.length||1)*100>=70?{message:`Congratulations! You Passed Round ${y}!`,icon:h.jsx(sy,{className:"h-16 w-16 text-amber-500"}),color:"text-amber-500"}:{message:"Good effort! Keep studying and try again.",icon:h.jsx($s,{className:"h-16 w-16 text-destructive"}),color:"text-destructive"},A=()=>{y<ks&&m(_=>_+1)};if(e==="loading")return h.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:[h.jsx(xt,{className:"h-12 w-12 animate-spin text-primary mb-4"}),h.jsxs("h2",{className:"text-2xl font-bold",children:["Generating Your Quiz (Round ",y,")..."]}),h.jsx("p",{className:"text-muted-foreground",children:"Our AI is preparing your questions. This may take a moment."})]});if(e==="finished"){const _=S(),T=b/(n.length||1)*100>=70;return h.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:[h.jsx("div",{className:_.color,children:_.icon}),h.jsx("h2",{className:`text-3xl font-bold mt-4 ${_.color}`,children:_.message}),n.length>0&&h.jsxs(h.Fragment,{children:[h.jsxs("p",{className:"text-2xl font-semibold mt-2",children:["Your Score: ",b," / ",n.length]}),h.jsxs("p",{className:"text-muted-foreground",children:["(",(b/n.length*100).toFixed(0),"%)"]})]}),y<ks?h.jsxs(oe,{onClick:A,className:"mt-8",children:[h.jsx(WR,{className:"mr-2 h-4 w-4"}),T?`Start Round ${y+1}`:"Try Round Again"]}):h.jsx("p",{className:"mt-8 text-lg font-semibold text-primary",children:"You have completed the final exam!"})]})}const v=n[i];return v?h.jsxs(h.Fragment,{children:[h.jsx(LE,{children:u&&h.jsx(lee,{status:u})}),h.jsxs("div",{className:"flex flex-col h-full p-4 md:p-6",children:[h.jsxs(tt,{children:[h.jsxs(nt,{children:["Final Exam (Round ",y," of ",ks,")"]}),h.jsxs(Xt,{children:["Test your knowledge with ",n.length," questions from the library."]}),h.jsx(xi,{value:(i+1)/n.length*100,className:"w-full mt-2"})]}),h.jsxs(Tt,{className:"flex-grow flex flex-col justify-center",children:[h.jsx("div",{className:"text-center mb-8",children:h.jsx("h3",{className:"text-xl md:text-2xl font-semibold ",children:v.question})}),h.jsx($o,{value:l??"",onValueChange:c,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:v.options.map((_,T)=>h.jsxs("div",{children:[h.jsx(Fo,{value:_,id:`option-${T}`,className:"sr-only"}),h.jsx(jt,{htmlFor:`option-${T}`,className:`flex flex-col items-center justify-center text-center p-4 rounded-lg border-2 cursor-pointer transition-all ${l===_?"border-primary bg-primary/10 text-primary":"border-border hover:border-primary/50"}`,children:h.jsx("span",{children:_})})]},T))})]}),h.jsx(Ga,{className:"justify-end",children:h.jsx(oe,{onClick:w,disabled:!l||u!==null,children:u!==null?h.jsx(xt,{className:"mr-2 h-4 w-4 animate-spin"}):i===n.length-1?"Finish Quiz":"Next Question"})})]})]}):h.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:[h.jsx(xt,{className:"h-12 w-12 animate-spin text-primary mb-4"}),h.jsx("h2",{className:"text-2xl font-bold",children:"Loading question..."})]})}const uee="saved-stories-storage",Ib=uc()(dc(e=>({stories:[],addStory:t=>e(n=>({stories:[...n.stories,t].slice(-3)})),clearStories:()=>e({stories:[]})}),{name:uee,storage:Vo(()=>localStorage)})),dee="story-quiz-results-storage",pM=uc()(dc(e=>({quizResults:{},setQuizResult:t=>e(n=>({quizResults:{...n.quizResults,[t.storyId]:t}})),clearAllResults:()=>e({quizResults:{}})}),{name:dee,storage:Vo(()=>localStorage)}));var hee=x.forwardRef((e,t)=>{const{children:n,...r}=e,i=x.Children.toArray(n),a=i.find(fee);if(a){const o=a.props.children,s=i.map(l=>l===a?x.Children.count(o)>1?x.Children.only(null):x.isValidElement(o)?o.props.children:null:l);return h.jsx(Yg,{...r,ref:t,children:x.isValidElement(o)?x.cloneElement(o,void 0,s):null})}return h.jsx(Yg,{...r,ref:t,children:n})});hee.displayName="Slot";var Yg=x.forwardRef((e,t)=>{const{children:n,...r}=e;if(x.isValidElement(n)){const i=mee(n),a=pee(r,n.props);return n.type!==x.Fragment&&(a.ref=t?Zg(t,i):i),x.cloneElement(n,a)}return x.Children.count(n)>1?x.Children.only(null):null});Yg.displayName="SlotClone";var mM=({children:e})=>h.jsx(h.Fragment,{children:e});function fee(e){return x.isValidElement(e)&&e.type===mM}function pee(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...s)=>{a(...s),i(...s)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function mee(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var[su,ste]=fr("Tooltip",[na]),lu=na(),gM="TooltipProvider",gee=700,Kg="tooltip.open",[yee,kb]=su(gM),yM=e=>{const{__scopeTooltip:t,delayDuration:n=gee,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=e,[o,s]=x.useState(!0),l=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),h.jsx(yee,{scope:t,isOpenDelayed:o,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),s(!1)},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:x.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:a})};yM.displayName=gM;var cu="Tooltip",[vee,uu]=su(cu),vM=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:o,delayDuration:s}=e,l=kb(cu,e.__scopeTooltip),c=lu(t),[u,d]=x.useState(null),f=Qi(),p=x.useRef(0),y=o??l.disableHoverableContent,m=s??l.delayDuration,g=x.useRef(!1),[w=!1,b]=za({prop:r,defaultProp:i,onChange:T=>{T?(l.onOpen(),document.dispatchEvent(new CustomEvent(Kg))):l.onClose(),a?.(T)}}),S=x.useMemo(()=>w?g.current?"delayed-open":"instant-open":"closed",[w]),A=x.useCallback(()=>{window.clearTimeout(p.current),p.current=0,g.current=!1,b(!0)},[b]),v=x.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b(!1)},[b]),_=x.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{g.current=!0,b(!0),p.current=0},m)},[m,b]);return x.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),h.jsx(jy,{...c,children:h.jsx(vee,{scope:t,contentId:f,open:w,stateAttribute:S,trigger:u,onTriggerChange:d,onTriggerEnter:x.useCallback(()=>{l.isOpenDelayed?_():A()},[l.isOpenDelayed,_,A]),onTriggerLeave:x.useCallback(()=>{y?v():(window.clearTimeout(p.current),p.current=0)},[v,y]),onOpen:A,onClose:v,disableHoverableContent:y,children:n})})};vM.displayName=cu;var Xg="TooltipTrigger",bM=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=uu(Xg,n),a=kb(Xg,n),o=lu(n),s=x.useRef(null),l=Ke(t,s,i.onTriggerChange),c=x.useRef(!1),u=x.useRef(!1),d=x.useCallback(()=>c.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),h.jsx(lc,{asChild:!0,...o,children:h.jsx(xe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:be(e.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:be(e.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:be(e.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:be(e.onFocus,()=>{c.current||i.onOpen()}),onBlur:be(e.onBlur,i.onClose),onClick:be(e.onClick,i.onClose)})})});bM.displayName=Xg;var bee="TooltipPortal",[lte,wee]=su(bee,{forceMount:void 0}),Xi="TooltipContent",wM=x.forwardRef((e,t)=>{const n=wee(Xi,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=e,o=uu(Xi,e.__scopeTooltip);return h.jsx(pr,{present:r||o.open,children:o.disableHoverableContent?h.jsx(xM,{side:i,...a,ref:t}):h.jsx(xee,{side:i,...a,ref:t})})}),xee=x.forwardRef((e,t)=>{const n=uu(Xi,e.__scopeTooltip),r=kb(Xi,e.__scopeTooltip),i=x.useRef(null),a=Ke(t,i),[o,s]=x.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:d}=r,f=x.useCallback(()=>{s(null),d(!1)},[d]),p=x.useCallback((y,m)=>{const g=y.currentTarget,w={x:y.clientX,y:y.clientY},b=Tee(w,g.getBoundingClientRect()),S=jee(w,b),A=Pee(m.getBoundingClientRect()),v=kee([...S,...A]);s(v),d(!0)},[d]);return x.useEffect(()=>()=>f(),[f]),x.useEffect(()=>{if(l&&u){const y=g=>p(g,u),m=g=>p(g,l);return l.addEventListener("pointerleave",y),u.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",y),u.removeEventListener("pointerleave",m)}}},[l,u,p,f]),x.useEffect(()=>{if(o){const y=m=>{const g=m.target,w={x:m.clientX,y:m.clientY},b=l?.contains(g)||u?.contains(g),S=!Iee(w,o);b?f():S&&(f(),c())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,u,o,c,f]),h.jsx(xM,{...e,ref:a})}),[See,_ee]=su(cu,{isInside:!1}),xM=x.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...s}=e,l=uu(Xi,n),c=lu(n),{onClose:u}=l;return x.useEffect(()=>(document.addEventListener(Kg,u),()=>document.removeEventListener(Kg,u)),[u]),x.useEffect(()=>{if(l.trigger){const d=f=>{f.target?.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),h.jsx(ey,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:h.jsxs(Py,{"data-state":l.stateAttribute,...c,...s,ref:t,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx(mM,{children:r}),h.jsx(See,{scope:n,isInside:!0,children:h.jsx(Rq,{id:l.contentId,role:"tooltip",children:i||r})})]})})});wM.displayName=Xi;var SM="TooltipArrow",Aee=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=lu(n);return _ee(SM,n).isInside?null:h.jsx(Iy,{...i,...r,ref:t})});Aee.displayName=SM;function Tee(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function jee(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Pee(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function Iee(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const s=t[a].x,l=t[a].y,c=t[o].x,u=t[o].y;l>r!=u>r&&n<(c-s)*(r-l)/(u-l)+s&&(i=!i)}return i}function kee(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Oee(t)}function Oee(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Cee=yM,Eee=vM,Nee=bM,_M=wM;const Mee=Cee,Ree=Eee,Dee=Nee,qee=x.forwardRef(({className:e,sideOffset:t=4,...n},r)=>h.jsx(_M,{ref:r,sideOffset:t,className:pe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));qee.displayName=_M.displayName;const Ob=e=>{let t=null,n=null;try{const r=new URL(e);r.hostname==="youtu.be"?t=r.pathname.slice(1).split("?")[0]:(r.hostname==="youtube.com"||r.hostname==="www.youtube.com")&&(r.pathname.startsWith("/live/")?t=r.pathname.split("/live/")[1].split("?")[0]:r.pathname.startsWith("/shorts/")?t=r.pathname.split("/shorts/")[1].split("?")[0]:t=r.searchParams.get("v"))}catch(r){return console.error("Invalid URL format:",e,r),{embedUrl:null,videoId:null,title:null}}return t?(n=`Video: ${t}`,{embedUrl:`https://www.youtube.com/embed/${t}`,videoId:t,title:n}):{embedUrl:null,videoId:null,title:null}};function Lee(){return h.jsx(pt,{className:"h-full",children:h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4",children:HZ.map(e=>{let t;return typeof e.arabic_explanation=="string"&&e.arabic_explanation.length>0?(t=e.arabic_explanation,t.length>150&&(t=t.substring(0,147)+"...")):t=`Tap to learn about ${e.topic}. AI will generate the details.`,h.jsx($M,{href:`/lessons/${e.lesson_id}`,passHref:!0,children:h.jsxs(Ue,{className:"h-full flex flex-col hover:shadow-xl transition-shadow duration-300 ease-in-out cursor-pointer group",children:[h.jsxs(tt,{children:[h.jsx("div",{className:"flex justify-between items-start mb-2",children:h.jsxs("div",{children:[h.jsx(nt,{as:"h3",className:"text-xl group-hover:text-primary transition-colors",children:e.title}),e.title_arabic&&h.jsx(nt,{as:"h4",className:"text-lg text-muted-foreground mt-1 group-hover:text-primary/80 transition-colors",dir:"rtl",children:e.title_arabic})]})}),h.jsxs(Xt,{className:"text-sm text-muted-foreground",children:[e.topic,e.topic_arabic&&h.jsx("span",{className:"block mt-0.5",dir:"rtl",children:e.topic_arabic})]})]}),h.jsx(Tt,{className:"flex-grow",children:h.jsx("p",{className:"text-sm text-foreground/80 line-clamp-3",children:t})}),h.jsx(Ga,{className:"mt-auto pt-4",children:h.jsxs("div",{className:"flex items-center text-sm text-primary font-semibold group-hover:underline",children:["ابدأ الدرس",h.jsx(Yj,{className:"ml-2 h-4 w-4 transition-transform duration-300 group-hover:translate-x-1"})]})})]})},e.lesson_id)})})})}function $ee({videoUrl:e,onClose:t}){return e?h.jsx(Le,{open:!!e,onOpenChange:n=>!n&&t(),children:h.jsxs($e,{className:"max-w-4xl h-[70vh] p-0 border-0",children:[h.jsx(Ve,{className:"sr-only",children:h.jsx(He,{children:"Video Player"})}),h.jsx("iframe",{width:"100%",height:"100%",src:`${e}?autoplay=1`,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"rounded-lg"})]})}):null}function Fee({isOpen:e,onOpenChange:t}){const[n,r]=x.useState(null),i=UZ.split(`
`).map(Ob).filter(a=>a.embedUrl);return h.jsxs(h.Fragment,{children:[h.jsx(Le,{open:e,onOpenChange:t,children:h.jsxs($e,{className:"max-w-5xl h-[90vh] flex flex-col",children:[h.jsxs(Ve,{className:"p-4 border-b shrink-0",children:[h.jsx(He,{children:"تعلم بالفيديو"}),h.jsx(et,{children:"شاهد هذه الفيديوهات التعليمية لتعزيز تعلمك."})]}),h.jsx(pt,{className:"flex-grow min-h-0",children:h.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((a,o)=>h.jsxs("div",{className:"aspect-video bg-muted rounded-lg overflow-hidden shadow-lg group cursor-pointer relative",onClick:()=>r(a.embedUrl),children:[h.jsx(Yn,{src:`https://img.youtube.com/vi/${a.videoId}/hqdefault.jpg`,alt:`Video thumbnail ${o+1}`,fill:!0,className:"object-cover transition-transform group-hover:scale-110","data-ai-hint":"video thumbnail"}),h.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center",children:h.jsx(iR,{className:"h-16 w-16 text-white/70 opacity-80 group-hover:opacity-100 group-hover:scale-110 transition-all"})})]},o))})}),h.jsx(tc,{children:h.jsx(Zn,{asChild:!0,children:h.jsx(oe,{variant:"outline",children:"Close"})})})]})}),h.jsx($ee,{videoUrl:n,onClose:()=>r(null)})]})}function Bee({videoTitle:e,isOpen:t,onOpenChange:n}){const[r,i]=x.useState(null),[a,o]=x.useState(!0),[s,l]=x.useState(null),{toast:c}=Et();x.useEffect(()=>{t&&e&&(o(!0),i(null),QZ({videoTitle:e}).then(i).catch(d=>{console.error("Failed to get explanation:",d),c({variant:"destructive",title:"خطأ",description:"لم نتمكن من الحصول على شرح للفيديو."})}).finally(()=>o(!1)))},[t,e,c]);const u=async(d,f)=>{if(!(!d||s===f)){l(f);try{const p=await Gn({prompt:d,lang:"ar"});p?.media&&new Audio(p.media).play()}catch(p){console.error("TTS Error:",p),c({variant:"destructive",title:"خطأ في الصوت"})}finally{l(null)}}};return h.jsx(Le,{open:t,onOpenChange:n,children:h.jsxs($e,{className:"max-w-2xl",children:[h.jsxs(Ve,{children:[h.jsxs(He,{children:["شرح الفيديو: ",e]}),h.jsx(et,{children:"فيما يلي تفصيل للموضوعات الرئيسية التي تمت مناقشتها في الفيديو."})]}),h.jsx("div",{className:"py-4 space-y-4 max-h-[60vh] overflow-y-auto",dir:"rtl",children:a?h.jsx("div",{className:"flex justify-center items-center h-40",children:h.jsx(xt,{className:"h-8 w-8 animate-spin text-primary"})}):r?h.jsxs("div",{className:"space-y-6",children:[h.jsx(em,{title:"ملخص",content:r.summary,onPlay:()=>u(r.summary,"summary"),isLoading:s==="summary"}),h.jsx(em,{title:"المفاهيم الرئيسية",content:r.keyConcepts,onPlay:()=>u(r.keyConcepts,"concepts"),isLoading:s==="concepts"}),h.jsx(em,{title:"تشبيه/مقارنة بسيطة",content:r.analogy,onPlay:()=>u(r.analogy,"analogy"),isLoading:s==="analogy"})]}):h.jsx("p",{className:"text-center text-muted-foreground",children:"تعذر تحميل الشرح."})})]})})}const em=({title:e,content:t,onPlay:n,isLoading:r})=>h.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsx("h3",{className:"text-lg font-semibold text-primary",children:e}),h.jsx(oe,{variant:"ghost",size:"icon",onClick:n,disabled:r,children:r?h.jsx(xt,{className:"h-5 w-5 animate-spin"}):h.jsx(At,{className:"h-5 w-5"})})]}),h.jsx("p",{className:"text-foreground/90 whitespace-pre-wrap",children:t})]});function Wee({isOpen:e,onOpenChange:t}){const[n,r]=x.useState(0),[i,a]=x.useState(!1),o=zZ.split(`
`).map(Ob).filter(u=>u.embedUrl),s=o[n],l=()=>r(u=>(u+1)%o.length),c=()=>r(u=>(u-1+o.length)%o.length);return h.jsxs(h.Fragment,{children:[h.jsx(Le,{open:e,onOpenChange:t,children:h.jsxs($e,{className:"max-w-4xl h-auto flex flex-col p-4 sm:p-6 gap-4",children:[h.jsxs(Ve,{children:[h.jsx(He,{children:"ماذا لو...؟"}),h.jsxs(et,{children:["استكشف سيناريوهات افتراضية رائعة. فيديو ",n+1," من ",o.length,"."]})]}),h.jsx("div",{className:"flex-grow aspect-video bg-muted rounded-lg overflow-hidden shadow-inner",children:s?.embedUrl&&h.jsx("iframe",{width:"100%",height:"100%",src:`${s.embedUrl}?autoplay=1`,title:"What If YouTube Video Player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0},s.embedUrl)}),h.jsxs("div",{className:"flex-col sm:flex-row gap-2 justify-between w-full",children:[h.jsxs(oe,{onClick:c,disabled:o.length<=1,children:[h.jsx(ly,{className:"mr-2 h-4 w-4"}),"السابق"]}),h.jsxs(oe,{variant:"secondary",onClick:()=>a(!0),children:[h.jsx(Uj,{className:"mr-2 h-4 w-4"}),"اشرح هذا الفيديو"]}),h.jsxs(oe,{onClick:l,disabled:o.length<=1,children:["التالي",h.jsx(Zj,{className:"ml-2 h-4 w-4"})]})]})]})}),s&&h.jsx(Bee,{videoTitle:s.title||`Video ${n+1}`,isOpen:i,onOpenChange:a})]})}function Vee({isOpen:e,onOpenChange:t}){const[n,r]=x.useState(0),i=GZ.split(`
`).map(Ob).filter(l=>l.embedUrl),a=i[n],o=()=>r(l=>(l+1)%i.length),s=()=>r(l=>(l-1+i.length)%i.length);return h.jsx(Le,{open:e,onOpenChange:t,children:h.jsxs($e,{className:"max-w-md h-auto flex flex-col p-4 sm:p-6 gap-4",children:[h.jsxs(Ve,{children:[h.jsx(He,{children:"جرعة تحفيز!"}),h.jsxs(et,{children:["شاهد فيديوهات قصيرة ملهمة. فيديو ",n+1," من ",i.length,"."]})]}),h.jsx("div",{className:"w-full aspect-[9/16] bg-muted rounded-lg overflow-hidden shadow-inner",children:a?.embedUrl&&h.jsx("iframe",{width:"100%",height:"100%",src:`${a.embedUrl}?autoplay=1`,title:"Motivational Short",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0},a.embedUrl)}),h.jsxs("div",{className:"flex flex-row gap-2 justify-between w-full",children:[h.jsxs(oe,{onClick:s,disabled:i.length<=1,children:[h.jsx(ly,{className:"mr-2 h-4 w-4"}),"السابق"]}),h.jsxs(oe,{onClick:o,disabled:i.length<=1,children:["التالي",h.jsx(Zj,{className:"ml-2 h-4 w-4"})]})]})]})})}function Hee({isOpen:e,onOpenChange:t,onSelectLesson:n}){return h.jsx(Le,{open:e,onOpenChange:t,children:h.jsxs($e,{className:"max-w-3xl h-[80vh] flex flex-col",children:[h.jsxs(Ve,{className:"p-4 border-b shrink-0",children:[h.jsx(He,{children:"تعلم عن الذكاء الاصطناعي"}),h.jsx(et,{children:"اختر موضوعًا لتبدأ التعلم."})]}),h.jsx(pt,{className:"flex-grow",children:h.jsx("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:JZ.map(r=>h.jsxs(Ue,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>n(r),children:[h.jsx(tt,{children:h.jsx(nt,{as:"h3",children:r.title})}),h.jsx(Tt,{children:h.jsx(Yn,{src:r.image,alt:r.title,width:300,height:150,className:"w-full h-auto object-cover rounded-md","data-ai-hint":r.image_hint})})]},r.id))})})]})})}function Uee({lesson:e,isOpen:t,onOpenChange:n,onBack:r}){const[i,a]=x.useState(null),[o,s]=x.useState(!1),[l,c]=x.useState({}),[u,d]=x.useState(!1),{toast:f}=Et(),p=x.useRef(null),[y,m]=x.useState(null);x.useEffect(()=>{a(null),c({}),d(!1),p.current&&(p.current.pause(),p.current.src=""),m(null)},[e]);const g=async(v,_,T="ar")=>{if(!(!v||y)){m(_);try{const j=await Gn({prompt:v,lang:T});if(j?.media){p.current||(p.current=new Audio);const P=p.current;P.src=j.media,P.play().catch(O=>{console.error("Audio playback error:",O),m(null)}),P.onended=()=>m(null),P.onerror=()=>{f({variant:"destructive",title:"خطأ في تشغيل الصوت."}),m(null)}}else f({variant:"destructive",title:"خطأ",description:"فشل في تشغيل الصوت."}),m(null)}catch(j){console.error("TTS Error:",j),f({variant:"destructive",title:"خطأ في تشغيل الصوت."}),m(null)}}},w=async()=>{if(!(!e||o)){s(!0),a(null);try{const v=await qr({text:e.content,targetLanguage:"ar"});a(v.translation),await g(v.translation,"explanation","ar")}catch{f({variant:"destructive",title:"خطأ",description:"فشل في الحصول على الشرح."})}finally{s(!1)}}},b=(v,_)=>{u||c(T=>({...T,[v]:_}))},S=()=>{if(!e)return;d(!0);const v=e.questions.reduce((_,T,j)=>l[j]===T.answer?_+1:_,0);v>=2?f({title:"تهانينا!",description:"لقد نجحت في الاختبار!",className:"bg-green-100 dark:bg-green-900"}):f({variant:"destructive",title:"حاول مرة أخرى",description:`تحتاج إلى إجابتين صحيحتين على الأقل للنجاح. نتيجتك: ${v}`})};if(!e)return null;const A=e.questions.reduce((v,_,T)=>l[T]===_.answer?v+1:v,0);return h.jsx(Le,{open:t,onOpenChange:n,children:h.jsxs($e,{className:"max-w-4xl h-[90vh] flex flex-col",children:[h.jsxs(Ve,{className:"p-4 border-b flex-row items-center",children:[h.jsx(oe,{variant:"ghost",size:"icon",onClick:r,children:h.jsx(ly,{})}),h.jsx(He,{className:"flex items-center gap-2",children:e.title})]}),h.jsx(pt,{className:"flex-grow",children:h.jsxs("div",{className:"p-6",children:[h.jsx(Yn,{src:e.image,alt:e.title,width:600,height:400,className:"w-full h-auto object-cover rounded-md mb-4","data-ai-hint":e.image_hint}),h.jsx("p",{className:"text-foreground/90 leading-relaxed mb-4",children:e.content}),h.jsxs(oe,{onClick:w,disabled:o||!!y,children:[o?h.jsx(xt,{className:"mr-2 h-4 w-4 animate-spin"}):h.jsx(At,{className:"mr-2 h-4 w-4"}),"اشرح بالعربية"]}),i&&h.jsx("p",{className:"mt-4 p-4 bg-muted rounded-md",dir:"rtl",children:i}),h.jsxs("div",{className:"mt-8",children:[h.jsx("h3",{className:"text-xl font-bold mb-4",children:"اختبر معلوماتك"}),u&&h.jsxs(ny,{className:"mb-4 bg-primary/10 border-primary/20",children:[h.jsx(Lo,{className:"h-4 w-4 text-primary"}),h.jsxs(ry,{children:["النتيجة: ",A," من ",e.questions.length]}),h.jsx(iy,{children:A>=2?"رائع! لقد نجحت.":"تحتاج إلى إجابتين صحيحتين على الأقل للنجاح."})]}),h.jsx("div",{className:"space-y-6",children:e.questions.map((v,_)=>h.jsxs("div",{className:pe("p-4 border rounded-lg",u&&(l[_]===v.answer?"border-green-500":"border-destructive")),children:[h.jsxs("p",{className:"font-semibold mb-3",children:[_+1,". ",v.question]}),h.jsx($o,{value:l[_],onValueChange:T=>b(_,T),disabled:u,children:v.options.map(T=>{const j=T===v.answer,P=l[_]===T;return h.jsxs("div",{className:pe("flex items-center space-x-2 rounded-md p-2",u&&j&&"bg-green-500/10 text-green-800 dark:text-green-300",u&&P&&!j&&"bg-destructive/10 text-destructive"),children:[h.jsx(Fo,{value:T,id:`q${_}-opt-${T}`}),h.jsx(jt,{htmlFor:`q${_}-opt-${T}`,className:"flex-1 cursor-pointer",children:T}),u&&j&&h.jsx(Check,{className:"h-5 w-5 text-green-500"}),u&&P&&!j&&h.jsx(ay,{className:"h-5 w-5 text-destructive"})]},T)})})]},_))}),h.jsx("div",{className:"mt-6 flex justify-end",children:u?h.jsx(oe,{variant:"outline",onClick:()=>{d(!1),c({})},children:"أعد المحاولة"}):h.jsx(oe,{onClick:S,children:"تحقق من الإجابات"})})]})]})})]})})}function AM(){const[e,t]=x.useState(""),[n,r]=x.useState(""),[i,a]=x.useState(!1),{toast:o}=Et(),s=async()=>{if(!e.trim()||i)return;a(!0),r("");const l=e;t("");try{const c=await aI(l);if(!c)throw new Error("Server action did not return a stream.");const u=c.getReader(),d=new TextDecoder;for(;;){const{done:f,value:p}=await u.read();if(f)break;const m=d.decode(p,{stream:!0}).split(`

`);for(const g of m)if(g.startsWith("data: "))try{const w=JSON.parse(g.substring(6));w.response&&r(b=>b+w.response)}catch{console.error("Failed to parse stream chunk JSON:",g)}}}catch(c){console.error("AI chat error:",c),o({variant:"destructive",title:"حدث خطأ",description:"لم نتمكن من معالجة طلبك. الرجاء المحاولة مرة أخرى."})}finally{a(!1)}};return h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsxs(Ve,{className:"p-4 border-b",children:[h.jsx(He,{children:"اسأل الذكاء الاصطناعي"}),h.jsx(et,{children:"Your general-purpose English learning assistant."})]}),h.jsxs(Tt,{className:"flex-grow flex flex-col gap-4 pt-4 min-h-0",children:[h.jsxs(pt,{className:"flex-grow rounded-lg border bg-muted/50 p-4 space-y-2",children:[n?h.jsx("p",{className:"whitespace-pre-wrap",children:n}):h.jsxs("div",{className:"text-center text-muted-foreground flex flex-col items-center justify-center h-full",children:[h.jsx(Na,{className:"h-10 w-10 mb-2"}),h.jsx("p",{children:"جاهز للإجابة على أسئلتك"})]}),i&&!n&&h.jsxs("div",{className:"flex items-center text-muted-foreground",children:[h.jsx(xt,{className:"mr-2 h-4 w-4 animate-spin"}),h.jsx("span",{children:"...جارٍ التفكير"})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Zi,{value:e,onChange:l=>t(l.target.value),placeholder:"اكتب سؤالك هنا...",rows:1,className:"w-full p-2 rounded-md focus:ring-2 focus:ring-primary outline-none transition resize-none bg-background",disabled:i,onKeyDown:l=>{l.key==="Enter"&&!l.shiftKey&&(l.preventDefault(),s())}}),h.jsx(oe,{onClick:s,disabled:i||!e.trim(),children:i?h.jsx(xt,{className:"animate-spin"}):h.jsx(Yj,{})})]})]})]})}function TM(){const{stories:e,addStory:t}=Ib(),[n,r]=x.useState(""),[i,a]=x.useState(""),[o,s]=x.useState(null),[l,c]=x.useState(!1),{toast:u}=Et(),d=e.length<3,f=async()=>{if(!(!n.trim()||l||!d)){c(!0),a(""),s(null);try{const p=await aI(`Write a short, creative story in English about: ${n}`);if(!p)throw new Error("Could not get story stream.");const y=p.getReader(),m=new TextDecoder;let g="";for(;;){const{done:b,value:S}=await y.read();if(b)break;const v=m.decode(S,{stream:!0}).split(`

`);for(const _ of v)if(_.startsWith("data: "))try{const T=JSON.parse(_.substring(6));T.response&&(g+=T.response,a(j=>j+T.response))}catch{console.error("Failed to parse story stream chunk JSON:",_)}}const w=await tI({story:g});s(w.imageUrl),t({id:Date.now().toString(),prompt:n,content:g,imageUrl:w.imageUrl}),u({title:"Story Generated!",description:"Your new story has been saved to your dashboard."})}catch(p){console.error("AI story generation error:",p),u({variant:"destructive",title:"حدث خطأ",description:"لم نتمكن من إنشاء القصة. الرجاء المحاولة مرة أخرى."})}finally{c(!1)}}};return h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsxs(Ve,{className:"p-4 border-b shrink-0",children:[h.jsx(He,{children:"مولد قصص الذكاء الاصطناعي"}),h.jsxs(et,{children:["Turn your ideas into illustrated stories. You can generate ",3-e.length," more stories."]})]}),h.jsxs("div",{className:"p-4 flex flex-col gap-4 shrink-0",children:[h.jsx(Zi,{value:n,onChange:p=>r(p.target.value),placeholder:"اكتب فكرة لقصة، مثل 'رائد فضاء يجد حديقة على المريخ'...",rows:2,className:"w-full p-3 rounded-md focus:ring-2 focus:ring-primary outline-none transition bg-background",disabled:l||!d}),h.jsx(oe,{onClick:f,disabled:l||!n.trim()||!d,children:l?h.jsxs(h.Fragment,{children:[h.jsx(xt,{className:"mr-2 h-4 w-4 animate-spin"})," ...جاري الكتابة"]}):h.jsxs(h.Fragment,{children:[h.jsx(nc,{className:"mr-2 h-4 w-4"})," إنشاء قصة"]})}),!d&&h.jsx("p",{className:"text-center text-sm text-destructive",children:"You have reached the maximum of 3 stories."})]}),h.jsx(pt,{className:"flex-grow p-4 pt-0 min-h-0",children:(l||i)&&h.jsxs("div",{className:"h-full rounded-lg border bg-muted/50 p-4",children:[o&&h.jsx("div",{className:"mb-4 border rounded-lg overflow-hidden",children:h.jsx(Yn,{src:o,alt:"Illustration for the story",width:500,height:300,className:"w-full h-auto object-cover"})}),l&&!o&&h.jsxs("div",{className:"flex items-center justify-center p-4 rounded-md bg-muted mb-4",children:[h.jsx(vR,{className:"h-6 w-6 text-muted-foreground animate-pulse"}),h.jsx("span",{className:"text-muted-foreground mr-2",children:"...يتم إنشاء الصورة"})]}),h.jsxs("p",{className:"whitespace-pre-wrap",dir:"ltr",children:[i,l&&i.length===0?"...":""]})]})})]})}function zee({isOpen:e,onOpenChange:t}){const{stories:n}=Ib(),{quizResults:r}=pM(),[i,a]=x.useState(null),o=Object.values(r||{}).filter(s=>s?.passed).length;return h.jsxs(h.Fragment,{children:[h.jsx(Le,{open:e,onOpenChange:t,children:h.jsxs($e,{className:"max-w-4xl h-[90vh] flex flex-col",children:[h.jsxs(Ve,{className:"p-4 border-b shrink-0",children:[h.jsx(He,{children:"قصصي واختباراتي"}),h.jsxs(et,{children:["اقرأ قصصك واختبر فهمك. يجب أن تنجح في اختبارين على الأقل لإكمال هذا القسم.",h.jsx("br",{}),h.jsxs("span",{className:pe("font-bold",o>=2?"text-green-500":"text-amber-500"),children:["الاختبارات التي تم اجتيازها: ",o," / ",n.length]})]})]}),h.jsx(pt,{className:"flex-grow",children:h.jsx("div",{className:"p-6",children:n.length===0?h.jsxs("div",{className:"text-center py-10 text-muted-foreground",children:[h.jsx("p",{children:"لم تقم بإنشاء أي قصص بعد."}),h.jsxs("p",{children:['اذهب إلى "أدوات الذكاء الاصطناعي" ',">",' "صانع القصص" لتبدأ.']})]}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(s=>{const l=r?r[s.id]:null;return h.jsxs(Ue,{className:"cursor-pointer hover:shadow-xl transition-shadow flex flex-col",onClick:()=>a(s),children:[h.jsxs(tt,{children:[s.imageUrl&&h.jsx(Yn,{src:s.imageUrl,alt:s.prompt,width:400,height:200,className:"rounded-t-lg object-cover w-full aspect-video mb-4"}),h.jsx(nt,{as:"h3",className:"line-clamp-2",children:s.prompt})]}),h.jsx(Ga,{className:"mt-auto pt-4",children:l?l.passed?h.jsxs("div",{className:"text-green-500 font-bold flex items-center",children:[h.jsx(Lo,{className:"mr-2 h-4 w-4"})," نجحت"]}):h.jsxs("div",{className:"text-destructive font-bold flex items-center",children:[h.jsx(XCircle,{className:"mr-2 h-4 w-4"})," لم تنجح"]}):h.jsx("div",{className:"text-primary font-bold",children:"اقرأ وخذ الاختبار"})})]},s.id)})})})})]})}),i&&h.jsx(Gee,{story:i,isOpen:!!i,onOpenChange:s=>!s&&a(null)})]})}function Gee({story:e,isOpen:t,onOpenChange:n}){const[r,i]=x.useState("story"),{quizResults:a,setQuizResult:o}=pM(),[s,l]=x.useState(null),[c,u]=x.useState(!1),{toast:d}=Et(),[f,p]=x.useState({}),[y,m]=x.useState(!1);x.useEffect(()=>{if(t&&e){const A=a?a[e.id]:null;A?(l(A.questions),p(A.answers),m(!0)):(i("story"),l(null),p({}),m(!1))}},[t,e,a]);const g=async()=>{if(e){u(!0);try{const{generateStoryQuiz:A}=await n2(async()=>{const{generateStoryQuiz:_}=await import("./story-quiz-flow.QVisRfvx.js");return{generateStoryQuiz:_}},__vite__mapDeps([0,1,2])),v=await A({storyContent:e.content});l(v.questions),i("quiz")}catch(A){console.error("Quiz generation error:",A),d({variant:"destructive",title:"فشل إنشاء الاختبار"})}finally{u(!1)}}},w=(A,v)=>{y||p(_=>({..._,[A]:v}))},b=()=>{if(!e||!s)return;m(!0);const A=s.reduce((T,j,P)=>f[P]===j.correct_answer?T+1:T,0),v=A>=4,_={storyId:e.id,questions:s,answers:f,score:A,passed:v};o(_),d({title:"Quiz Finished!",description:`Your score: ${A} / ${s.length}. ${v?"You passed!":"Try again!"}`})};if(!e)return null;const S=a?a[e.id]:null;return h.jsx(Le,{open:t,onOpenChange:n,children:h.jsxs($e,{className:"max-w-4xl h-[90vh] flex flex-col",children:[h.jsx(Ve,{className:"p-4 border-b shrink-0",children:h.jsx(He,{children:e.prompt})}),h.jsxs("div",{className:"flex border-b",children:[h.jsx(oe,{variant:r==="story"?"secondary":"ghost",onClick:()=>i("story"),className:"rounded-none flex-1",children:"Story"}),h.jsx(oe,{variant:r==="quiz"?"secondary":"ghost",onClick:g,disabled:c,className:"rounded-none flex-1",children:c?h.jsx(xt,{className:"animate-spin"}):"Quiz"})]}),r==="story"&&h.jsx(pt,{className:"flex-grow",children:h.jsxs("div",{className:"p-6",children:[e.imageUrl&&h.jsx(Yn,{src:e.imageUrl,alt:e.prompt,width:600,height:400,className:"w-full h-auto object-cover rounded-md mb-4"}),h.jsx("p",{className:"whitespace-pre-wrap leading-relaxed",children:e.content})]})}),r==="quiz"&&s&&h.jsx(pt,{className:"flex-grow",children:h.jsxs("div",{className:"p-6",children:[y&&S&&h.jsxs(ny,{className:pe("mb-4",S.passed?"bg-green-100 dark:bg-green-900 border-green-500":"bg-destructive/10 border-destructive"),children:[h.jsx(ry,{className:pe(S.passed?"text-green-700 dark:text-green-300":"text-destructive"),children:S.passed?"Passed!":"Needs Improvement"}),h.jsxs(iy,{children:["Your score: ",S.score," / ",s.length]})]}),h.jsx("div",{className:"space-y-6",children:s.map((A,v)=>h.jsxs("div",{className:pe("p-4 border rounded-lg",y&&(f[v]===A.correct_answer?"border-green-500":"border-destructive")),children:[h.jsxs("p",{className:"font-semibold mb-3",children:[v+1,". ",A.question]}),h.jsx($o,{value:f[v],onValueChange:_=>w(v,_),disabled:y,children:A.options.map(_=>{const T=_===A.correct_answer,j=f[v]===_;return h.jsxs("div",{className:pe("flex items-center space-x-2 rounded-md p-2",y&&T&&"bg-green-500/10 text-green-800 dark:text-green-300",y&&j&&!T&&"bg-destructive/10 text-destructive"),children:[h.jsx(Fo,{value:_,id:`sq${v}-opt-${_}`}),h.jsx(jt,{htmlFor:`sq${v}-opt-${_}`,className:"flex-1 cursor-pointer",children:_}),y&&T&&h.jsx(Check,{className:"h-5 w-5 text-green-500"}),y&&j&&!T&&h.jsx(ay,{className:"h-5 w-5 text-destructive"})]},_)})})]},v))}),h.jsx("div",{className:"mt-6 flex justify-end",children:!y&&h.jsx(oe,{onClick:b,disabled:Object.keys(f).length!==(s?.length||0),children:"إرسال الإجابات"})})]})})]})})}function zt({title:e,description:t,icon:n,onClick:r,unlockThreshold:i,completedCount:a}){const o=h.jsxs(tt,{children:[h.jsxs(nt,{as:"h3",className:"flex items-center gap-3",children:[n,h.jsx("span",{children:e})]}),h.jsx(Xt,{children:t})]});return h.jsx(Ue,{className:"cursor-pointer transform transition-all hover:scale-[1.03] hover:shadow-lg bg-card/70 backdrop-blur-sm",onClick:r,children:o})}function Rj({setActiveTab:e}){const{completedItemsCount:t}=Kr(),[n,r]=x.useState({lingoleap:!1,adventure:!1,jumble:!1,tenseTeacher:!1,lessons:!1,videoLearn:!1,whatIf:!1,motivation:!1,myStories:!1,chat:!1,storyMaker:!1,aiLessons:!1,voiceAssistant:!1}),[i,a]=x.useState(null),[o,s]=x.useState(!1),l=f=>{r(p=>({...p,[f]:!0}))},c=f=>{r(p=>({...p,[f]:!1}))},u=f=>{a(f),c("aiLessons"),s(!0)},d=()=>{s(!1),l("aiLessons")};return h.jsxs(h.Fragment,{children:[h.jsxs("section",{className:"animate-fadeIn",children:[h.jsx("h2",{className:"text-4xl font-bold mb-4 text-center",children:"لوحة التحكم الخاصة بك"}),h.jsx("p",{className:"text-muted-foreground mb-8 text-center max-w-2xl mx-auto",children:"مرحباً بك! ابدأ رحلتك التعليمية من هنا."}),h.jsxs("div",{className:"mb-10",children:[h.jsx("h3",{className:"text-2xl font-bold mb-4",children:"الأدوات التفاعلية"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[h.jsx(zt,{title:"مُنشئ المفردات",description:"قم بتوسيع مفرداتك مع كلمات وتعريفات وأمثلة مولدة بالذكاء الاصطناعي.",icon:h.jsx(pR,{className:"h-8 w-8 text-primary"}),onClick:()=>l("lingoleap"),unlockThreshold:0,completedCount:t}),h.jsx(zt,{title:"مغامرة جيمني",description:"العب لعبة مغامرة نصية لتعلم المفردات في سياقها.",icon:h.jsx(hR,{className:"h-8 w-8 text-accent"}),onClick:()=>l("adventure"),unlockThreshold:0,completedCount:t}),h.jsx(zt,{title:"صانع القصص",description:"حوّل أفكارك إلى قصص قصيرة مصورة باللغة الإنجليزية.",icon:h.jsx(nc,{className:"h-8 w-8 text-yellow-500"}),onClick:()=>l("storyMaker"),unlockThreshold:0,completedCount:t}),h.jsx(zt,{title:"خبير الأزمنة",description:"تحدث مع خبير الذكاء الاصطناعي لإتقان أزمنة اللغة الإنجليزية.",icon:h.jsx(VM,{className:"h-8 w-8 text-destructive"}),onClick:()=>l("tenseTeacher"),unlockThreshold:0,completedCount:t}),h.jsx(zt,{title:"لعبة الكلمات المبعثرة",description:"أعد ترتيب الحروف لتكوين كلمات وحسّن مهاراتك الإملائية.",icon:h.jsx(FR,{className:"h-8 w-8 text-secondary"}),onClick:()=>l("jumble"),unlockThreshold:0,completedCount:t}),h.jsx(zt,{title:"قصصي واختباراتي",description:"اقرأ القصص التي أنشأتها واختبر فهمك.",icon:h.jsx(ER,{className:"h-8 w-8 text-pink-500"}),onClick:()=>l("myStories"),unlockThreshold:0,completedCount:t}),h.jsx(zt,{title:"المساعد الصوتي",description:"تدرب على المحادثة مع مساعد صوتي يعمل بالذكاء الاصطناعي.",icon:h.jsx(eP,{className:"h-8 w-8 text-cyan-500"}),onClick:()=>l("voiceAssistant"),unlockThreshold:0,completedCount:t})]})]}),h.jsxs("div",{className:"mb-10",children:[h.jsx("h3",{className:"text-2xl font-bold mb-4",children:"الموارد التعليمية"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[h.jsx(zt,{title:"مواد تعليمية",description:"تصفح مكتبة الدروس المنظمة حسب المستوى والموضوع.",icon:h.jsx(SR,{className:"h-8 w-8 text-green-500"}),onClick:()=>l("lessons"),unlockThreshold:0,completedCount:t}),h.jsx(zt,{title:"تعلم بالفيديو",description:"شاهد فيديوهات يوتيوب تعليمية مباشرة داخل التطبيق.",icon:h.jsx(JR,{className:"h-8 w-8 text-red-600"}),onClick:()=>l("videoLearn"),unlockThreshold:0,completedCount:t}),h.jsx(zt,{title:"ماذا لو...؟",description:"استكشف سيناريوهات علمية رائعة مع شرح الذكاء الاصطناعي.",icon:h.jsx(KM,{className:"h-8 w-8 text-purple-500"}),onClick:()=>l("whatIf"),unlockThreshold:0,completedCount:t}),h.jsx(zt,{title:"جرعة تحفيز",description:"فيديوهات قصيرة لإلهامك ومواصلة رحلتك التعليمية.",icon:h.jsx(tP,{className:"h-8 w-8 text-orange-500"}),onClick:()=>l("motivation"),unlockThreshold:0,completedCount:t}),h.jsx(zt,{title:"تعلم عن الذكاء الاصطناعي",description:"دروس مبسطة حول الذكاء الاصطناعي، مع شروحات صوتية باللغة العربية.",icon:h.jsx(Qj,{className:"h-8 w-8 text-teal-500"}),onClick:()=>l("aiLessons"),unlockThreshold:0,completedCount:t})]})]}),h.jsx("h3",{className:"text-2xl font-bold mb-4",children:"هل لديك سؤال؟"}),h.jsx(Ue,{className:"cursor-pointer transform transition-all hover:scale-[1.03] hover:shadow-lg bg-card/70 backdrop-blur-sm",onClick:()=>l("chat"),children:h.jsxs(tt,{children:[h.jsxs(nt,{as:"h3",className:"flex items-center gap-3",children:[h.jsx(cy,{className:"h-8 w-8 text-primary"}),h.jsx("span",{children:"دردشة الذكاء الاصطناعي"})]}),h.jsx(Xt,{children:"اطرح أسئلة عامة عن اللغة الإنجليزية واحصل على إجابات فورية."})]})})]}),h.jsx(Le,{open:n.lingoleap,onOpenChange:f=>!f&&c("lingoleap"),children:h.jsxs($e,{className:"max-w-4xl h-[90vh] flex flex-col p-0",children:[h.jsxs(Ve,{className:"p-4 border-b",children:[h.jsx(He,{children:"LinguaLeap Vocabulary Builder"}),h.jsx(et,{className:"sr-only",children:"An AI-powered tool to expand your vocabulary."})]}),h.jsx("div",{className:"flex-grow min-h-0",children:h.jsx(AL,{})}),h.jsx(Zn,{asChild:!0,children:h.jsx(oe,{type:"button",variant:"secondary",className:"absolute top-2 right-2",children:"Close"})})]})}),h.jsx(Le,{open:n.adventure,onOpenChange:f=>!f&&c("adventure"),children:h.jsxs($e,{className:"max-w-full w-full h-screen max-h-screen p-0 m-0 rounded-none border-0",children:[h.jsxs(Ve,{className:"p-4 border-b absolute top-0 left-0 right-0 bg-background/80 backdrop-blur-sm z-10",children:[h.jsx(He,{children:"Gemini Text Adventure"}),h.jsx(et,{className:"sr-only",children:"An interactive text adventure game to learn vocabulary."})]}),h.jsx("div",{className:"flex-grow h-full pt-[65px]",children:h.jsx(A7,{})}),h.jsx(Zn,{asChild:!0,children:h.jsx(oe,{type:"button",variant:"secondary",className:"absolute top-2 right-2 z-20",children:"Close"})})]})}),h.jsx(Le,{open:n.jumble,onOpenChange:f=>!f&&c("jumble"),children:h.jsxs($e,{className:"max-w-full w-full h-screen max-h-screen p-0 m-0 rounded-none border-0",children:[h.jsxs(Ve,{className:"p-4 border-b absolute top-0 left-0 right-0 bg-background/80 backdrop-blur-sm z-10",children:[h.jsx(He,{children:"Jumble Game"}),h.jsx(et,{className:"sr-only",children:"A game to unscramble letters and improve spelling."})]}),h.jsx("div",{className:"flex-grow h-full pt-[65px]",children:h.jsx(T7,{})}),h.jsx(Zn,{asChild:!0,children:h.jsx(oe,{type:"button",variant:"secondary",className:"absolute top-2 right-2 z-20",children:"Close"})})]})}),h.jsx(Le,{open:n.tenseTeacher,onOpenChange:f=>!f&&c("tenseTeacher"),children:h.jsxs($e,{className:"w-full max-w-4xl h-[90vh] flex flex-col p-0",children:[h.jsxs(Ve,{className:"p-4 border-b shrink-0",children:[h.jsx(He,{children:"Tense Teacher"}),h.jsx(et,{children:"A voice-based AI expert to help you master English tenses."})]}),h.jsx(sK,{}),h.jsx(Zn,{asChild:!0,children:h.jsx(oe,{type:"button",variant:"secondary",className:"absolute top-2 right-2",children:"Close"})})]})}),h.jsx(Le,{open:n.lessons,onOpenChange:f=>!f&&c("lessons"),children:h.jsxs($e,{className:"max-w-5xl h-[90vh] flex flex-col",children:[h.jsxs(Ve,{className:"p-4 border-b shrink-0",children:[h.jsx(He,{children:"Extra Learning Materials"}),h.jsx(et,{children:"Browse our library of lessons."})]}),h.jsx(Lee,{}),h.jsx(tc,{children:h.jsx(Zn,{asChild:!0,children:h.jsx(oe,{type:"button",variant:"secondary",children:"Close"})})})]})}),h.jsx(Le,{open:n.storyMaker,onOpenChange:f=>!f&&c("storyMaker"),children:h.jsx($e,{className:"max-w-2xl h-[80vh] flex flex-col",children:h.jsx(TM,{})})}),h.jsx(zee,{isOpen:n.myStories,onOpenChange:f=>!f&&c("myStories")}),h.jsx(Fee,{isOpen:n.videoLearn,onOpenChange:f=>!f&&c("videoLearn")}),h.jsx(Wee,{isOpen:n.whatIf,onOpenChange:f=>!f&&c("whatIf")}),h.jsx(Vee,{isOpen:n.motivation,onOpenChange:f=>!f&&c("motivation")}),h.jsx(Le,{open:n.chat,onOpenChange:f=>!f&&c("chat"),children:h.jsx($e,{className:"max-w-2xl h-[70vh] flex flex-col p-0",children:h.jsx(AM,{})})}),h.jsx(Le,{open:n.voiceAssistant,onOpenChange:f=>!f&&c("voiceAssistant"),children:h.jsxs($e,{className:"max-w-full w-full h-screen max-h-screen p-0 m-0 rounded-none border-0",children:[h.jsxs(Ve,{className:"sr-only",children:[h.jsx(He,{children:"Voice Assistant"}),h.jsx(et,{children:"Practice conversation with a voice-based AI assistant."})]}),h.jsx(fM,{}),h.jsx(Zn,{asChild:!0,children:h.jsx(oe,{type:"button",variant:"secondary",className:"absolute top-2 right-2 z-20",children:"Close"})})]})}),h.jsx(Hee,{isOpen:n.aiLessons,onOpenChange:f=>!f&&c("aiLessons"),onSelectLesson:u}),h.jsx(Uee,{lesson:i,isOpen:o,onOpenChange:s,onBack:d})]})}function Yee(){const[e,t]=x.useState(null),[n,r]=x.useState(!1),{highestItemCompleted:i}=Kr(),a=cr.map(s=>s.title);i&&a.indexOf(i);const o=()=>{r(!0)};return h.jsxs("section",{className:"animate-fadeIn",children:[h.jsx("h2",{className:"text-xl font-semibold mb-4 text-center",children:"المكتبة التعليمية"}),h.jsx("p",{className:"text-center text-muted-foreground mb-4",children:"أكمل الدروس والقصص بالترتيب لفتح المزيد."}),h.jsx(pt,{className:"h-[calc(100vh-220px)]",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4",children:[cr.map((s,l)=>h.jsx(Ue,{className:pe("transform transition-all flex flex-col","hover:scale-[1.03] hover:shadow-lg bg-card/70 backdrop-blur-sm cursor-pointer"),onClick:()=>t(s),children:h.jsxs(tt,{className:"flex-row items-center justify-between gap-4 space-y-0",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[s.type==="lesson"?h.jsx(Xj,{className:"h-6 w-6 text-primary"}):h.jsx(Kj,{className:"h-6 w-6 text-accent"}),h.jsx(nt,{as:"h3",className:pe("text-lg","text-primary"),children:s.title})]}),!1]})},l)),h.jsx(Mee,{children:h.jsxs(Ree,{children:[h.jsx(Dee,{asChild:!0,children:h.jsx("div",{onClick:o,children:h.jsxs(Ue,{className:pe("transform transition-all flex flex-col h-full","hover:scale-[1.03] hover:shadow-lg bg-accent/20 backdrop-blur-sm cursor-pointer border-accent"),children:[!1,h.jsx(tt,{children:h.jsxs(nt,{as:"h3",className:"text-lg text-accent text-center flex items-center justify-center gap-2",children:[h.jsx(sR,{className:"h-6 w-6"}),"الاختبار النهائي"]})}),h.jsx(Tt,{children:h.jsx(Xt,{className:"text-center text-muted-foreground",children:"Test your knowledge with questions from the library."})})]})})}),!1]})})]})}),e&&h.jsx(Iq,{item:e,isOpen:!!e,onClose:()=>t(null)}),h.jsx(Le,{open:n,onOpenChange:r,children:h.jsxs($e,{className:"max-w-4xl h-[90vh] flex flex-col p-0",children:[h.jsxs(Ve,{className:"p-4 border-b shrink-0",children:[h.jsx(He,{children:"AI Generated Quiz"}),h.jsx(et,{children:"Test your knowledge with questions from the library."})]}),h.jsx(cee,{})]})})]})}function Kee({setActiveTab:e}){const[t,n]=x.useState(!1),[r,i]=x.useState(!1),[a,o]=x.useState(!1);return h.jsxs("section",{className:"animate-fadeIn",children:[h.jsx("h2",{className:"text-3xl font-bold mb-2 text-center",children:"أدوات الذكاء الاصطناعي"}),h.jsx("p",{className:"text-muted-foreground mb-6 text-center",children:"اختر أداة لمساعدتك في رحلة تعلم اللغة."}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsx(Ue,{className:"cursor-pointer transform transition-all hover:scale-[1.03] hover:shadow-lg bg-card/70 backdrop-blur-sm",onClick:()=>n(!0),children:h.jsxs(tt,{children:[h.jsxs(nt,{as:"h3",className:"flex items-center gap-3",children:[h.jsx(cy,{className:"h-8 w-8 text-primary"}),h.jsx("span",{children:"دردشة الذكاء الاصطناعي"})]}),h.jsx(Xt,{children:"اطرح أسئلة عامة عن اللغة الإنجليزية واحصل على إجابات فورية."})]})}),h.jsx(Ue,{className:"cursor-pointer transform transition-all hover:scale-[1.03] hover:shadow-lg bg-card/70 backdrop-blur-sm",onClick:()=>i(!0),children:h.jsxs(tt,{children:[h.jsxs(nt,{as:"h3",className:"flex items-center gap-3",children:[h.jsx(nc,{className:"h-8 w-8 text-accent"}),h.jsx("span",{children:"صانع القصص"})]}),h.jsx(Xt,{children:"حوّل أفكارك إلى قصص قصيرة مصورة باللغة الإنجليزية."})]})}),h.jsx(Ue,{className:"cursor-pointer transform transition-all hover:scale-[1.03] hover:shadow-lg bg-card/70 backdrop-blur-sm",onClick:()=>o(!0),children:h.jsxs(tt,{children:[h.jsxs(nt,{as:"h3",className:"flex items-center gap-3",children:[h.jsx(eP,{className:"h-8 w-8 text-destructive"}),h.jsx("span",{children:"المساعد الصوتي"})]}),h.jsx(Xt,{children:"تدرب على المحادثة مع مساعد صوتي يعمل بالذكاء الاصطناعي."})]})})]}),h.jsx(Le,{open:t,onOpenChange:n,children:h.jsx($e,{className:"max-w-2xl h-[70vh] flex flex-col p-0",children:h.jsx(AM,{})})}),h.jsx(Le,{open:r,onOpenChange:i,children:h.jsx($e,{className:"max-w-2xl h-[80vh] flex flex-col",children:h.jsx(TM,{})})}),h.jsx(Le,{open:a,onOpenChange:o,children:h.jsxs($e,{className:"max-w-full w-full h-screen max-h-screen p-0 m-0 rounded-none border-0",children:[h.jsxs(Ve,{className:"sr-only",children:[h.jsx(He,{children:"Voice Assistant"}),h.jsx(et,{children:"Practice conversation with a voice-based AI assistant."})]}),h.jsx(fM,{}),h.jsx(Zn,{asChild:!0,children:h.jsx(oe,{type:"button",variant:"secondary",className:"absolute top-2 right-2 z-20",children:"Close"})})]})})]})}function Xee(){const{completedItemsCount:e,finalExamPassed:t}=Kr(),{stories:n}=Ib(),[r,i]=x.useState(!1),a=[{day:"الأحد",lessons:e>0?2:0},{day:"الاثنين",lessons:e>2?3:0},{day:"الثلاثاء",lessons:e>5?1:0},{day:"الأربعاء",lessons:e>6?4:0},{day:"الخميس",lessons:e>10?3:0},{day:"الجمعة",lessons:e>13?1:0},{day:"السبت",lessons:e>14?5:0}],o={lessons:{label:"الدروس",color:"hsl(var(--primary))"}},s=n.length,l=3;return h.jsxs(h.Fragment,{children:[h.jsxs("section",{className:"animate-fadeIn space-y-6",children:[h.jsx(Ue,{className:"bg-card/70 backdrop-blur-sm",children:h.jsxs(Tt,{className:"pt-6 flex items-center gap-4",children:[h.jsxs(Ra,{className:"h-16 w-16",children:[h.jsx(Xs,{"data-ai-hint":"profile person",src:"https://placehold.co/128x128.png",alt:"User Avatar"}),h.jsx(Da,{children:"ط"})]}),h.jsxs("div",{className:"flex-grow",children:[h.jsx("h2",{className:"text-xl font-bold",children:"طالب مجتهد"}),h.jsx("p",{className:"text-muted-foreground",children:"متعلم متحمس"})]}),h.jsxs("div",{className:"text-center",children:[h.jsxs("p",{className:"text-3xl font-bold text-accent flex items-center gap-1",children:[h.jsx(tP,{})," 12"]}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"أيام متتالية"})]})]})}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[h.jsxs(Ue,{className:"bg-card/70 backdrop-blur-sm",children:[h.jsx(tt,{children:h.jsx(nt,{as:"h3",className:"uppercase text-xs text-muted-foreground",children:"الدروس المكتملة"})}),h.jsxs(Tt,{children:[h.jsxs("p",{className:"text-3xl font-bold",children:[e," / ",cr.length]}),h.jsx(xi,{value:e/cr.length*100,className:"h-2 mt-2"})]})]}),h.jsxs(Ue,{className:"bg-card/70 backdrop-blur-sm",children:[h.jsx(tt,{children:h.jsx(nt,{as:"h3",className:"uppercase text-xs text-muted-foreground",children:"القصص المقروءة"})}),h.jsxs(Tt,{children:[h.jsxs("p",{className:"text-3xl font-bold",children:[s," / ",l]}),h.jsx(xi,{value:s/l*100,className:"h-2 mt-2"})]})]})]}),h.jsxs(Ue,{className:"bg-card/70 backdrop-blur-sm",children:[h.jsxs(tt,{children:[h.jsx(nt,{as:"h3",children:"نشاط التعلم الأسبوعي"}),h.jsx(Xt,{children:"الدروس المكتملة في الأيام السبعة الماضية"})]}),h.jsx(Tt,{children:h.jsx(cE,{config:o,className:"min-h-[200px] w-full",children:h.jsxs(a7,{accessibilityLayer:!0,data:a,children:[h.jsx(GC,{vertical:!1}),h.jsx(Kc,{dataKey:"day",tickLine:!1,tickMargin:10,axisLine:!1}),h.jsx(Xc,{tickLine:!1,axisLine:!1,tickMargin:10,allowDecimals:!1}),h.jsx(l7,{cursor:!1,content:h.jsx(uE,{})}),h.jsx(ei,{dataKey:"lessons",fill:"var(--color-lessons)",radius:4})]})})})]}),h.jsxs(Ue,{className:"bg-card/70 backdrop-blur-sm",children:[h.jsxs(tt,{children:[h.jsxs(nt,{as:"h3",className:"flex items-center gap-2",children:[h.jsx(sy,{className:"text-accent"})," تهانينا!"]}),h.jsx(Xt,{children:t?"لقد أكملت جميع المتطلبات! قم بإنشاء شهادتك الآن.":"أكمل الاختبار النهائي بنجاح لفتح شهادتك."})]}),h.jsx(Tt,{children:h.jsx(oe,{className:"w-full",onClick:()=>i(!0),disabled:!1,children:"إنشاء شهادة"})})]})]}),h.jsx(Qee,{isOpen:r,onOpenChange:i,userName:"طالب مجتهد"})]})}function Qee({isOpen:e,onOpenChange:t,userName:n}){const[r,i]=x.useState(null),[a,o]=x.useState(!1),{toast:s}=Et(),{finalExamPassed:l}=Kr();return x.useEffect(()=>{e?(o(!0),ZZ().then(c=>i(c.imageUrl)).catch(c=>{console.error("Certificate generation error:",c),s({variant:"destructive",title:"فشل إنشاء الشهادة"})}).finally(()=>o(!1))):i(null)},[e,n,s]),h.jsx(Le,{open:e,onOpenChange:t,children:h.jsxs($e,{className:"max-w-3xl",children:[h.jsxs(Ve,{children:[h.jsx(He,{children:"شهادة إتمام"}),h.jsx(et,{children:"تهانينا على تقدمك! هذه شهادتك."})]}),h.jsxs("div",{className:"relative aspect-[4/3] w-full flex items-center justify-center bg-muted rounded-md overflow-hidden",children:[a&&h.jsx(xt,{className:"h-12 w-12 animate-spin text-primary"}),r&&h.jsxs(h.Fragment,{children:[h.jsx(Yn,{src:r,alt:"Certificate Background",fill:!0,className:"object-cover"}),h.jsx("div",{className:"absolute inset-0 bg-black/10"}),h.jsxs("div",{className:"relative w-full h-full flex flex-col items-center justify-center text-center p-8 text-foreground",children:[h.jsx("p",{className:"text-xl",children:"This certifies that"}),h.jsx("h2",{className:"text-4xl font-bold text-primary my-4",children:n}),h.jsx("p",{className:"text-xl",children:"has successfully completed the Speed of Mastery English course."}),h.jsxs("div",{className:"mt-8 flex items-center gap-4",children:[h.jsx("div",{className:"w-[100px] h-[50px] bg-white rounded-full","data-ai-hint":"speed of mastery logo"}),h.jsx("div",{children:h.jsx("p",{className:"border-t border-foreground pt-1",children:"Signature"})})]})]})]})]})]})})}function Os({icon:e,label:t,isActive:n,onClick:r}){return h.jsxs("button",{onClick:r,className:`flex flex-col items-center justify-center space-y-1 px-4 py-1 transition-all transform hover:scale-110 ${n?"text-primary scale-110 font-bold":"text-muted-foreground"}`,children:[h.jsx("span",{className:"transform transition-transform",children:e}),h.jsx("span",{className:"text-xs",children:t})]})}function cte(){const[e,t]=x.useState("home"),[n,r]=x.useState("light"),[i,a]=x.useState(!1);x.useEffect(()=>{a(!0);const l=localStorage.getItem("theme");l&&(r(l),document.documentElement.classList.toggle("dark",l==="dark"))},[]);const o=()=>{const l=n==="dark"?"light":"dark";r(l),localStorage.setItem("theme",l),document.documentElement.classList.toggle("dark",l==="dark")},s=()=>{switch(e){case"home":return h.jsx(Rj,{setActiveTab:t});case"book":return h.jsx(Yee,{});case"ai":return h.jsx(Kee,{setActiveTab:t});case"progress":return h.jsx(Xee,{});default:return h.jsx(Rj,{setActiveTab:t})}};return h.jsxs("div",{className:"min-h-screen bg-background text-foreground transition-colors duration-500 relative overflow-hidden",children:[h.jsx(ZR,{}),h.jsxs("div",{className:"relative z-10 flex flex-col h-screen",children:[h.jsxs("header",{className:"flex justify-between items-center p-6 shrink-0",children:[h.jsx("h1",{className:"text-2xl font-bold",children:e!=="home"&&"Learn English"}),h.jsxs(oe,{variant:"ghost",size:"icon",onClick:o,className:"p-2 rounded-full hover:bg-accent",children:[i&&(n==="dark"?h.jsx(zR,{className:"h-6 w-6"}):h.jsx(OR,{className:"h-6 w-6"})),h.jsx("span",{className:"sr-only",children:"تبديل الوضع"})]})]}),h.jsx("main",{className:"px-6 pb-24 flex-grow overflow-y-auto",children:s()}),h.jsx("nav",{className:"fixed bottom-0 left-0 right-0 backdrop-blur-lg bg-background/70 border-t border-border/50 shrink-0",children:h.jsxs("div",{className:"flex justify-around py-3",children:[h.jsx(Os,{icon:h.jsx(gR,{}),label:"الرئيسية",isActive:e==="home",onClick:()=>t("home")}),h.jsx(Os,{icon:h.jsx(Xj,{}),label:"المكتبة",isActive:e==="book",onClick:()=>t("book")}),h.jsx(Os,{icon:h.jsx(Na,{}),label:"الذكاء الاصطناعي",isActive:e==="ai",onClick:()=>t("ai")}),h.jsx(Os,{icon:h.jsx(QM,{}),label:"التقدم",isActive:e==="progress",onClick:()=>t("progress")})]})})]})]})}export{cte as default};
